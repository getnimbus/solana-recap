var Ha=Object.defineProperty;var Ka=(t,e,r)=>e in t?Ha(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var H=(t,e,r)=>Ka(t,typeof e!="symbol"?e+"":e,r);import{dX as qs,fV as jr,fW as zs,fz as l,fD as Pr,fE as Gs,fX as Wn,fA as nt,fv as we,fY as Xa,fw as Ws,fG as Ya,fZ as Qa,f_ as eo,f$ as to,g0 as se,g1 as be,g2 as K,g3 as fe,g4 as he,g5 as j,g6 as Z,g7 as Se,g8 as Js,g9 as ne,ga as L,gb as Xr,gc as Rr,gd as Jn,ge as on,gf as Yr,gg as Qt,gh as Hn,gi as de,gj as Hs,gk as Nn,fI as Kn,cG as gt,gl as ro,d0 as ws,dy as cn,c$ as yn,fb as Ks}from"./index.js";const{Axios:no,AxiosError:so,CanceledError:io,isCancel:ao,CancelToken:oo,VERSION:co,all:uo,Cancel:lo,isAxiosError:fo,spread:ho,toFormData:po,AxiosHeaders:mo,HttpStatusCode:go,formToJSON:yo,getAdapter:vo,mergeConfig:bo}=qs,_o=Object.freeze(Object.defineProperty({__proto__:null,Axios:no,AxiosError:so,AxiosHeaders:mo,Cancel:lo,CancelToken:oo,CanceledError:io,HttpStatusCode:go,VERSION:co,all:uo,default:qs,formToJSON:yo,getAdapter:vo,isAxiosError:fo,isCancel:ao,mergeConfig:bo,spread:ho,toFormData:po},Symbol.toStringTag,{value:"Module"}));var wo=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,vn=Math.ceil,Ue=Math.floor,Oe="[BigNumber Error] ",Ss=Oe+"Number primitive has more than 15 significant digits: ",Ze=1e14,q=14,bn=9007199254740991,_n=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],kt=1e7,me=1e9;function Xs(t){var e,r,n,s=x.prototype={constructor:x,toString:null,valueOf:null},i=new x(1),u=20,o=4,h=-7,T=21,k=-1e7,E=1e7,N=!1,G=1,W=0,ge={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},re="0123456789abcdefghijklmnopqrstuvwxyz",Pe=!0;function x(a,c){var d,b,p,y,S,f,g,w,v=this;if(!(v instanceof x))return new x(a,c);if(c==null){if(a&&a._isBigNumber===!0){v.s=a.s,!a.c||a.e>E?v.c=v.e=null:a.e<k?v.c=[v.e=0]:(v.e=a.e,v.c=a.c.slice());return}if((f=typeof a=="number")&&a*0==0){if(v.s=1/a<0?(a=-a,-1):1,a===~~a){for(y=0,S=a;S>=10;S/=10,y++);y>E?v.c=v.e=null:(v.e=y,v.c=[a]);return}w=String(a)}else{if(!wo.test(w=String(a)))return n(v,w,f);v.s=w.charCodeAt(0)==45?(w=w.slice(1),-1):1}(y=w.indexOf("."))>-1&&(w=w.replace(".","")),(S=w.search(/e/i))>0?(y<0&&(y=S),y+=+w.slice(S+1),w=w.substring(0,S)):y<0&&(y=w.length)}else{if(oe(c,2,re.length,"Base"),c==10&&Pe)return v=new x(a),pe(v,u+v.e+1,o);if(w=String(a),f=typeof a=="number"){if(a*0!=0)return n(v,w,f,c);if(v.s=1/a<0?(w=w.slice(1),-1):1,x.DEBUG&&w.replace(/^0\.0*|\./,"").length>15)throw Error(Ss+a)}else v.s=w.charCodeAt(0)===45?(w=w.slice(1),-1):1;for(d=re.slice(0,c),y=S=0,g=w.length;S<g;S++)if(d.indexOf(b=w.charAt(S))<0){if(b=="."){if(S>y){y=g;continue}}else if(!p&&(w==w.toUpperCase()&&(w=w.toLowerCase())||w==w.toLowerCase()&&(w=w.toUpperCase()))){p=!0,S=-1,y=0;continue}return n(v,String(a),f,c)}f=!1,w=r(w,c,10,v.s),(y=w.indexOf("."))>-1?w=w.replace(".",""):y=w.length}for(S=0;w.charCodeAt(S)===48;S++);for(g=w.length;w.charCodeAt(--g)===48;);if(w=w.slice(S,++g)){if(g-=S,f&&x.DEBUG&&g>15&&(a>bn||a!==Ue(a)))throw Error(Ss+v.s*a);if((y=y-S-1)>E)v.c=v.e=null;else if(y<k)v.c=[v.e=0];else{if(v.e=y,v.c=[],S=(y+1)%q,y<0&&(S+=q),S<g){for(S&&v.c.push(+w.slice(0,S)),g-=q;S<g;)v.c.push(+w.slice(S,S+=q));S=q-(w=w.slice(S)).length}else S-=g;for(;S--;w+="0");v.c.push(+w)}}else v.c=[v.e=0]}x.clone=Xs,x.ROUND_UP=0,x.ROUND_DOWN=1,x.ROUND_CEIL=2,x.ROUND_FLOOR=3,x.ROUND_HALF_UP=4,x.ROUND_HALF_DOWN=5,x.ROUND_HALF_EVEN=6,x.ROUND_HALF_CEIL=7,x.ROUND_HALF_FLOOR=8,x.EUCLID=9,x.config=x.set=function(a){var c,d;if(a!=null)if(typeof a=="object"){if(a.hasOwnProperty(c="DECIMAL_PLACES")&&(d=a[c],oe(d,0,me,c),u=d),a.hasOwnProperty(c="ROUNDING_MODE")&&(d=a[c],oe(d,0,8,c),o=d),a.hasOwnProperty(c="EXPONENTIAL_AT")&&(d=a[c],d&&d.pop?(oe(d[0],-me,0,c),oe(d[1],0,me,c),h=d[0],T=d[1]):(oe(d,-me,me,c),h=-(T=d<0?-d:d))),a.hasOwnProperty(c="RANGE"))if(d=a[c],d&&d.pop)oe(d[0],-me,-1,c),oe(d[1],1,me,c),k=d[0],E=d[1];else if(oe(d,-me,me,c),d)k=-(E=d<0?-d:d);else throw Error(Oe+c+" cannot be zero: "+d);if(a.hasOwnProperty(c="CRYPTO"))if(d=a[c],d===!!d)if(d)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))N=d;else throw N=!d,Error(Oe+"crypto unavailable");else N=d;else throw Error(Oe+c+" not true or false: "+d);if(a.hasOwnProperty(c="MODULO_MODE")&&(d=a[c],oe(d,0,9,c),G=d),a.hasOwnProperty(c="POW_PRECISION")&&(d=a[c],oe(d,0,me,c),W=d),a.hasOwnProperty(c="FORMAT"))if(d=a[c],typeof d=="object")ge=d;else throw Error(Oe+c+" not an object: "+d);if(a.hasOwnProperty(c="ALPHABET"))if(d=a[c],typeof d=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(d))Pe=d.slice(0,10)=="0123456789",re=d;else throw Error(Oe+c+" invalid: "+d)}else throw Error(Oe+"Object expected: "+a);return{DECIMAL_PLACES:u,ROUNDING_MODE:o,EXPONENTIAL_AT:[h,T],RANGE:[k,E],CRYPTO:N,MODULO_MODE:G,POW_PRECISION:W,FORMAT:ge,ALPHABET:re}},x.isBigNumber=function(a){if(!a||a._isBigNumber!==!0)return!1;if(!x.DEBUG)return!0;var c,d,b=a.c,p=a.e,y=a.s;e:if({}.toString.call(b)=="[object Array]"){if((y===1||y===-1)&&p>=-me&&p<=me&&p===Ue(p)){if(b[0]===0){if(p===0&&b.length===1)return!0;break e}if(c=(p+1)%q,c<1&&(c+=q),String(b[0]).length==c){for(c=0;c<b.length;c++)if(d=b[c],d<0||d>=Ze||d!==Ue(d))break e;if(d!==0)return!0}}}else if(b===null&&p===null&&(y===null||y===1||y===-1))return!0;throw Error(Oe+"Invalid BigNumber: "+a)},x.maximum=x.max=function(){return qt(arguments,-1)},x.minimum=x.min=function(){return qt(arguments,1)},x.random=function(){var a=9007199254740992,c=Math.random()*a&2097151?function(){return Ue(Math.random()*a)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(d){var b,p,y,S,f,g=0,w=[],v=new x(i);if(d==null?d=u:oe(d,0,me),S=vn(d/q),N)if(crypto.getRandomValues){for(b=crypto.getRandomValues(new Uint32Array(S*=2));g<S;)f=b[g]*131072+(b[g+1]>>>11),f>=9e15?(p=crypto.getRandomValues(new Uint32Array(2)),b[g]=p[0],b[g+1]=p[1]):(w.push(f%1e14),g+=2);g=S/2}else if(crypto.randomBytes){for(b=crypto.randomBytes(S*=7);g<S;)f=(b[g]&31)*281474976710656+b[g+1]*1099511627776+b[g+2]*4294967296+b[g+3]*16777216+(b[g+4]<<16)+(b[g+5]<<8)+b[g+6],f>=9e15?crypto.randomBytes(7).copy(b,g):(w.push(f%1e14),g+=7);g=S/7}else throw N=!1,Error(Oe+"crypto unavailable");if(!N)for(;g<S;)f=c(),f<9e15&&(w[g++]=f%1e14);for(S=w[--g],d%=q,S&&d&&(f=_n[q-d],w[g]=Ue(S/f)*f);w[g]===0;w.pop(),g--);if(g<0)w=[y=0];else{for(y=-1;w[0]===0;w.splice(0,1),y-=q);for(g=1,f=w[0];f>=10;f/=10,g++);g<q&&(y-=q-g)}return v.e=y,v.c=w,v}}(),x.sum=function(){for(var a=1,c=arguments,d=new x(c[0]);a<c.length;)d=d.plus(c[a++]);return d},r=function(){var a="0123456789";function c(d,b,p,y){for(var S,f=[0],g,w=0,v=d.length;w<v;){for(g=f.length;g--;f[g]*=b);for(f[0]+=y.indexOf(d.charAt(w++)),S=0;S<f.length;S++)f[S]>p-1&&(f[S+1]==null&&(f[S+1]=0),f[S+1]+=f[S]/p|0,f[S]%=p)}return f.reverse()}return function(d,b,p,y,S){var f,g,w,v,m,_,O,I,M=d.indexOf("."),A=u,D=o;for(M>=0&&(v=W,W=0,d=d.replace(".",""),I=new x(b),_=I.pow(d.length-M),W=v,I.c=c(at(Ne(_.c),_.e,"0"),10,p,a),I.e=I.c.length),O=c(d,b,p,S?(f=re,a):(f=a,re)),w=v=O.length;O[--v]==0;O.pop());if(!O[0])return f.charAt(0);if(M<0?--w:(_.c=O,_.e=w,_.s=y,_=e(_,I,A,D,p),O=_.c,m=_.r,w=_.e),g=w+A+1,M=O[g],v=p/2,m=m||g<0||O[g+1]!=null,m=D<4?(M!=null||m)&&(D==0||D==(_.s<0?3:2)):M>v||M==v&&(D==4||m||D==6&&O[g-1]&1||D==(_.s<0?8:7)),g<1||!O[0])d=m?at(f.charAt(1),-A,f.charAt(0)):f.charAt(0);else{if(O.length=g,m)for(--p;++O[--g]>p;)O[g]=0,g||(++w,O=[1].concat(O));for(v=O.length;!O[--v];);for(M=0,d="";M<=v;d+=f.charAt(O[M++]));d=at(d,w,f.charAt(0))}return d}}(),e=function(){function a(b,p,y){var S,f,g,w,v=0,m=b.length,_=p%kt,O=p/kt|0;for(b=b.slice();m--;)g=b[m]%kt,w=b[m]/kt|0,S=O*g+w*_,f=_*g+S%kt*kt+v,v=(f/y|0)+(S/kt|0)+O*w,b[m]=f%y;return v&&(b=[v].concat(b)),b}function c(b,p,y,S){var f,g;if(y!=S)g=y>S?1:-1;else for(f=g=0;f<y;f++)if(b[f]!=p[f]){g=b[f]>p[f]?1:-1;break}return g}function d(b,p,y,S){for(var f=0;y--;)b[y]-=f,f=b[y]<p[y]?1:0,b[y]=f*S+b[y]-p[y];for(;!b[0]&&b.length>1;b.splice(0,1));}return function(b,p,y,S,f){var g,w,v,m,_,O,I,M,A,D,V,ee,Re,Ae,Ve,Ye,yr,Me=b.s==p.s?1:-1,_e=b.c,ue=p.c;if(!_e||!_e[0]||!ue||!ue[0])return new x(!b.s||!p.s||(_e?ue&&_e[0]==ue[0]:!ue)?NaN:_e&&_e[0]==0||!ue?Me*0:Me/0);for(M=new x(Me),A=M.c=[],w=b.e-p.e,Me=y+w+1,f||(f=Ze,w=De(b.e/q)-De(p.e/q),Me=Me/q|0),v=0;ue[v]==(_e[v]||0);v++);if(ue[v]>(_e[v]||0)&&w--,Me<0)A.push(1),m=!0;else{for(Ae=_e.length,Ye=ue.length,v=0,Me+=2,_=Ue(f/(ue[0]+1)),_>1&&(ue=a(ue,_,f),_e=a(_e,_,f),Ye=ue.length,Ae=_e.length),Re=Ye,D=_e.slice(0,Ye),V=D.length;V<Ye;D[V++]=0);yr=ue.slice(),yr=[0].concat(yr),Ve=ue[0],ue[1]>=f/2&&Ve++;do{if(_=0,g=c(ue,D,Ye,V),g<0){if(ee=D[0],Ye!=V&&(ee=ee*f+(D[1]||0)),_=Ue(ee/Ve),_>1)for(_>=f&&(_=f-1),O=a(ue,_,f),I=O.length,V=D.length;c(O,D,I,V)==1;)_--,d(O,Ye<I?yr:ue,I,f),I=O.length,g=1;else _==0&&(g=_=1),O=ue.slice(),I=O.length;if(I<V&&(O=[0].concat(O)),d(D,O,V,f),V=D.length,g==-1)for(;c(ue,D,Ye,V)<1;)_++,d(D,Ye<V?yr:ue,V,f),V=D.length}else g===0&&(_++,D=[0]);A[v++]=_,D[0]?D[V++]=_e[Re]||0:(D=[_e[Re]],V=1)}while((Re++<Ae||D[0]!=null)&&Me--);m=D[0]!=null,A[0]||A.splice(0,1)}if(f==Ze){for(v=1,Me=A[0];Me>=10;Me/=10,v++);pe(M,y+(M.e=v+w*q-1)+1,S,m)}else M.e=w,M.r=+m;return M}}();function ke(a,c,d,b){var p,y,S,f,g;if(d==null?d=o:oe(d,0,8),!a.c)return a.toString();if(p=a.c[0],S=a.e,c==null)g=Ne(a.c),g=b==1||b==2&&(S<=h||S>=T)?Gr(g,S):at(g,S,"0");else if(a=pe(new x(a),c,d),y=a.e,g=Ne(a.c),f=g.length,b==1||b==2&&(c<=y||y<=h)){for(;f<c;g+="0",f++);g=Gr(g,y)}else if(c-=S,g=at(g,y,"0"),y+1>f){if(--c>0)for(g+=".";c--;g+="0");}else if(c+=y-f,c>0)for(y+1==f&&(g+=".");c--;g+="0");return a.s<0&&p?"-"+g:g}function qt(a,c){for(var d,b,p=1,y=new x(a[0]);p<a.length;p++)b=new x(a[p]),(!b.s||(d=xt(y,b))===c||d===0&&y.s===c)&&(y=b);return y}function St(a,c,d){for(var b=1,p=c.length;!c[--p];c.pop());for(p=c[0];p>=10;p/=10,b++);return(d=b+d*q-1)>E?a.c=a.e=null:d<k?a.c=[a.e=0]:(a.e=d,a.c=c),a}n=function(){var a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,c=/^([^.]+)\.$/,d=/^\.([^.]+)$/,b=/^-?(Infinity|NaN)$/,p=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(y,S,f,g){var w,v=f?S:S.replace(p,"");if(b.test(v))y.s=isNaN(v)?null:v<0?-1:1;else{if(!f&&(v=v.replace(a,function(m,_,O){return w=(O=O.toLowerCase())=="x"?16:O=="b"?2:8,!g||g==w?_:m}),g&&(w=g,v=v.replace(c,"$1").replace(d,"0.$1")),S!=v))return new x(v,w);if(x.DEBUG)throw Error(Oe+"Not a"+(g?" base "+g:"")+" number: "+S);y.s=null}y.c=y.e=null}}();function pe(a,c,d,b){var p,y,S,f,g,w,v,m=a.c,_=_n;if(m){e:{for(p=1,f=m[0];f>=10;f/=10,p++);if(y=c-p,y<0)y+=q,S=c,g=m[w=0],v=Ue(g/_[p-S-1]%10);else if(w=vn((y+1)/q),w>=m.length)if(b){for(;m.length<=w;m.push(0));g=v=0,p=1,y%=q,S=y-q+1}else break e;else{for(g=f=m[w],p=1;f>=10;f/=10,p++);y%=q,S=y-q+p,v=S<0?0:Ue(g/_[p-S-1]%10)}if(b=b||c<0||m[w+1]!=null||(S<0?g:g%_[p-S-1]),b=d<4?(v||b)&&(d==0||d==(a.s<0?3:2)):v>5||v==5&&(d==4||b||d==6&&(y>0?S>0?g/_[p-S]:0:m[w-1])%10&1||d==(a.s<0?8:7)),c<1||!m[0])return m.length=0,b?(c-=a.e+1,m[0]=_[(q-c%q)%q],a.e=-c||0):m[0]=a.e=0,a;if(y==0?(m.length=w,f=1,w--):(m.length=w+1,f=_[q-y],m[w]=S>0?Ue(g/_[p-S]%_[S])*f:0),b)for(;;)if(w==0){for(y=1,S=m[0];S>=10;S/=10,y++);for(S=m[0]+=f,f=1;S>=10;S/=10,f++);y!=f&&(a.e++,m[0]==Ze&&(m[0]=1));break}else{if(m[w]+=f,m[w]!=Ze)break;m[w--]=0,f=1}for(y=m.length;m[--y]===0;m.pop());}a.e>E?a.c=a.e=null:a.e<k&&(a.c=[a.e=0])}return a}function Ce(a){var c,d=a.e;return d===null?a.toString():(c=Ne(a.c),c=d<=h||d>=T?Gr(c,d):at(c,d,"0"),a.s<0?"-"+c:c)}return s.absoluteValue=s.abs=function(){var a=new x(this);return a.s<0&&(a.s=1),a},s.comparedTo=function(a,c){return xt(this,new x(a,c))},s.decimalPlaces=s.dp=function(a,c){var d,b,p,y=this;if(a!=null)return oe(a,0,me),c==null?c=o:oe(c,0,8),pe(new x(y),a+y.e+1,c);if(!(d=y.c))return null;if(b=((p=d.length-1)-De(this.e/q))*q,p=d[p])for(;p%10==0;p/=10,b--);return b<0&&(b=0),b},s.dividedBy=s.div=function(a,c){return e(this,new x(a,c),u,o)},s.dividedToIntegerBy=s.idiv=function(a,c){return e(this,new x(a,c),0,1)},s.exponentiatedBy=s.pow=function(a,c){var d,b,p,y,S,f,g,w,v,m=this;if(a=new x(a),a.c&&!a.isInteger())throw Error(Oe+"Exponent not an integer: "+Ce(a));if(c!=null&&(c=new x(c)),f=a.e>14,!m.c||!m.c[0]||m.c[0]==1&&!m.e&&m.c.length==1||!a.c||!a.c[0])return v=new x(Math.pow(+Ce(m),f?a.s*(2-zr(a)):+Ce(a))),c?v.mod(c):v;if(g=a.s<0,c){if(c.c?!c.c[0]:!c.s)return new x(NaN);b=!g&&m.isInteger()&&c.isInteger(),b&&(m=m.mod(c))}else{if(a.e>9&&(m.e>0||m.e<-1||(m.e==0?m.c[0]>1||f&&m.c[1]>=24e7:m.c[0]<8e13||f&&m.c[0]<=9999975e7)))return y=m.s<0&&zr(a)?-0:0,m.e>-1&&(y=1/y),new x(g?1/y:y);W&&(y=vn(W/q+2))}for(f?(d=new x(.5),g&&(a.s=1),w=zr(a)):(p=Math.abs(+Ce(a)),w=p%2),v=new x(i);;){if(w){if(v=v.times(m),!v.c)break;y?v.c.length>y&&(v.c.length=y):b&&(v=v.mod(c))}if(p){if(p=Ue(p/2),p===0)break;w=p%2}else if(a=a.times(d),pe(a,a.e+1,1),a.e>14)w=zr(a);else{if(p=+Ce(a),p===0)break;w=p%2}m=m.times(m),y?m.c&&m.c.length>y&&(m.c.length=y):b&&(m=m.mod(c))}return b?v:(g&&(v=i.div(v)),c?v.mod(c):y?pe(v,W,o,S):v)},s.integerValue=function(a){var c=new x(this);return a==null?a=o:oe(a,0,8),pe(c,c.e+1,a)},s.isEqualTo=s.eq=function(a,c){return xt(this,new x(a,c))===0},s.isFinite=function(){return!!this.c},s.isGreaterThan=s.gt=function(a,c){return xt(this,new x(a,c))>0},s.isGreaterThanOrEqualTo=s.gte=function(a,c){return(c=xt(this,new x(a,c)))===1||c===0},s.isInteger=function(){return!!this.c&&De(this.e/q)>this.c.length-2},s.isLessThan=s.lt=function(a,c){return xt(this,new x(a,c))<0},s.isLessThanOrEqualTo=s.lte=function(a,c){return(c=xt(this,new x(a,c)))===-1||c===0},s.isNaN=function(){return!this.s},s.isNegative=function(){return this.s<0},s.isPositive=function(){return this.s>0},s.isZero=function(){return!!this.c&&this.c[0]==0},s.minus=function(a,c){var d,b,p,y,S=this,f=S.s;if(a=new x(a,c),c=a.s,!f||!c)return new x(NaN);if(f!=c)return a.s=-c,S.plus(a);var g=S.e/q,w=a.e/q,v=S.c,m=a.c;if(!g||!w){if(!v||!m)return v?(a.s=-c,a):new x(m?S:NaN);if(!v[0]||!m[0])return m[0]?(a.s=-c,a):new x(v[0]?S:o==3?-0:0)}if(g=De(g),w=De(w),v=v.slice(),f=g-w){for((y=f<0)?(f=-f,p=v):(w=g,p=m),p.reverse(),c=f;c--;p.push(0));p.reverse()}else for(b=(y=(f=v.length)<(c=m.length))?f:c,f=c=0;c<b;c++)if(v[c]!=m[c]){y=v[c]<m[c];break}if(y&&(p=v,v=m,m=p,a.s=-a.s),c=(b=m.length)-(d=v.length),c>0)for(;c--;v[d++]=0);for(c=Ze-1;b>f;){if(v[--b]<m[b]){for(d=b;d&&!v[--d];v[d]=c);--v[d],v[b]+=Ze}v[b]-=m[b]}for(;v[0]==0;v.splice(0,1),--w);return v[0]?St(a,v,w):(a.s=o==3?-1:1,a.c=[a.e=0],a)},s.modulo=s.mod=function(a,c){var d,b,p=this;return a=new x(a,c),!p.c||!a.s||a.c&&!a.c[0]?new x(NaN):!a.c||p.c&&!p.c[0]?new x(p):(G==9?(b=a.s,a.s=1,d=e(p,a,0,3),a.s=b,d.s*=b):d=e(p,a,0,G),a=p.minus(d.times(a)),!a.c[0]&&G==1&&(a.s=p.s),a)},s.multipliedBy=s.times=function(a,c){var d,b,p,y,S,f,g,w,v,m,_,O,I,M,A,D=this,V=D.c,ee=(a=new x(a,c)).c;if(!V||!ee||!V[0]||!ee[0])return!D.s||!a.s||V&&!V[0]&&!ee||ee&&!ee[0]&&!V?a.c=a.e=a.s=null:(a.s*=D.s,!V||!ee?a.c=a.e=null:(a.c=[0],a.e=0)),a;for(b=De(D.e/q)+De(a.e/q),a.s*=D.s,g=V.length,m=ee.length,g<m&&(I=V,V=ee,ee=I,p=g,g=m,m=p),p=g+m,I=[];p--;I.push(0));for(M=Ze,A=kt,p=m;--p>=0;){for(d=0,_=ee[p]%A,O=ee[p]/A|0,S=g,y=p+S;y>p;)w=V[--S]%A,v=V[S]/A|0,f=O*w+v*_,w=_*w+f%A*A+I[y]+d,d=(w/M|0)+(f/A|0)+O*v,I[y--]=w%M;I[y]=d}return d?++b:I.splice(0,1),St(a,I,b)},s.negated=function(){var a=new x(this);return a.s=-a.s||null,a},s.plus=function(a,c){var d,b=this,p=b.s;if(a=new x(a,c),c=a.s,!p||!c)return new x(NaN);if(p!=c)return a.s=-c,b.minus(a);var y=b.e/q,S=a.e/q,f=b.c,g=a.c;if(!y||!S){if(!f||!g)return new x(p/0);if(!f[0]||!g[0])return g[0]?a:new x(f[0]?b:p*0)}if(y=De(y),S=De(S),f=f.slice(),p=y-S){for(p>0?(S=y,d=g):(p=-p,d=f),d.reverse();p--;d.push(0));d.reverse()}for(p=f.length,c=g.length,p-c<0&&(d=g,g=f,f=d,c=p),p=0;c;)p=(f[--c]=f[c]+g[c]+p)/Ze|0,f[c]=Ze===f[c]?0:f[c]%Ze;return p&&(f=[p].concat(f),++S),St(a,f,S)},s.precision=s.sd=function(a,c){var d,b,p,y=this;if(a!=null&&a!==!!a)return oe(a,1,me),c==null?c=o:oe(c,0,8),pe(new x(y),a,c);if(!(d=y.c))return null;if(p=d.length-1,b=p*q+1,p=d[p]){for(;p%10==0;p/=10,b--);for(p=d[0];p>=10;p/=10,b++);}return a&&y.e+1>b&&(b=y.e+1),b},s.shiftedBy=function(a){return oe(a,-bn,bn),this.times("1e"+a)},s.squareRoot=s.sqrt=function(){var a,c,d,b,p,y=this,S=y.c,f=y.s,g=y.e,w=u+4,v=new x("0.5");if(f!==1||!S||!S[0])return new x(!f||f<0&&(!S||S[0])?NaN:S?y:1/0);if(f=Math.sqrt(+Ce(y)),f==0||f==1/0?(c=Ne(S),(c.length+g)%2==0&&(c+="0"),f=Math.sqrt(+c),g=De((g+1)/2)-(g<0||g%2),f==1/0?c="5e"+g:(c=f.toExponential(),c=c.slice(0,c.indexOf("e")+1)+g),d=new x(c)):d=new x(f+""),d.c[0]){for(g=d.e,f=g+w,f<3&&(f=0);;)if(p=d,d=v.times(p.plus(e(y,p,w,1))),Ne(p.c).slice(0,f)===(c=Ne(d.c)).slice(0,f))if(d.e<g&&--f,c=c.slice(f-3,f+1),c=="9999"||!b&&c=="4999"){if(!b&&(pe(p,p.e+u+2,0),p.times(p).eq(y))){d=p;break}w+=4,f+=4,b=1}else{(!+c||!+c.slice(1)&&c.charAt(0)=="5")&&(pe(d,d.e+u+2,1),a=!d.times(d).eq(y));break}}return pe(d,d.e+u+1,o,a)},s.toExponential=function(a,c){return a!=null&&(oe(a,0,me),a++),ke(this,a,c,1)},s.toFixed=function(a,c){return a!=null&&(oe(a,0,me),a=a+this.e+1),ke(this,a,c)},s.toFormat=function(a,c,d){var b,p=this;if(d==null)a!=null&&c&&typeof c=="object"?(d=c,c=null):a&&typeof a=="object"?(d=a,a=c=null):d=ge;else if(typeof d!="object")throw Error(Oe+"Argument not an object: "+d);if(b=p.toFixed(a,c),p.c){var y,S=b.split("."),f=+d.groupSize,g=+d.secondaryGroupSize,w=d.groupSeparator||"",v=S[0],m=S[1],_=p.s<0,O=_?v.slice(1):v,I=O.length;if(g&&(y=f,f=g,g=y,I-=y),f>0&&I>0){for(y=I%f||f,v=O.substr(0,y);y<I;y+=f)v+=w+O.substr(y,f);g>0&&(v+=w+O.slice(y)),_&&(v="-"+v)}b=m?v+(d.decimalSeparator||"")+((g=+d.fractionGroupSize)?m.replace(new RegExp("\\d{"+g+"}\\B","g"),"$&"+(d.fractionGroupSeparator||"")):m):v}return(d.prefix||"")+b+(d.suffix||"")},s.toFraction=function(a){var c,d,b,p,y,S,f,g,w,v,m,_,O=this,I=O.c;if(a!=null&&(f=new x(a),!f.isInteger()&&(f.c||f.s!==1)||f.lt(i)))throw Error(Oe+"Argument "+(f.isInteger()?"out of range: ":"not an integer: ")+Ce(f));if(!I)return new x(O);for(c=new x(i),w=d=new x(i),b=g=new x(i),_=Ne(I),y=c.e=_.length-O.e-1,c.c[0]=_n[(S=y%q)<0?q+S:S],a=!a||f.comparedTo(c)>0?y>0?c:w:f,S=E,E=1/0,f=new x(_),g.c[0]=0;v=e(f,c,0,1),p=d.plus(v.times(b)),p.comparedTo(a)!=1;)d=b,b=p,w=g.plus(v.times(p=w)),g=p,c=f.minus(v.times(p=c)),f=p;return p=e(a.minus(d),b,0,1),g=g.plus(p.times(w)),d=d.plus(p.times(b)),g.s=w.s=O.s,y=y*2,m=e(w,b,y,o).minus(O).abs().comparedTo(e(g,d,y,o).minus(O).abs())<1?[w,b]:[g,d],E=S,m},s.toNumber=function(){return+Ce(this)},s.toPrecision=function(a,c){return a!=null&&oe(a,1,me),ke(this,a,c,2)},s.toString=function(a){var c,d=this,b=d.s,p=d.e;return p===null?b?(c="Infinity",b<0&&(c="-"+c)):c="NaN":(a==null?c=p<=h||p>=T?Gr(Ne(d.c),p):at(Ne(d.c),p,"0"):a===10&&Pe?(d=pe(new x(d),u+p+1,o),c=at(Ne(d.c),d.e,"0")):(oe(a,2,re.length,"Base"),c=r(at(Ne(d.c),p,"0"),10,a,b,!0)),b<0&&d.c[0]&&(c="-"+c)),c},s.valueOf=s.toJSON=function(){return Ce(this)},s._isBigNumber=!0,s[Symbol.toStringTag]="BigNumber",s[Symbol.for("nodejs.util.inspect.custom")]=s.valueOf,t!=null&&x.set(t),x}function De(t){var e=t|0;return t>0||t===e?e:e-1}function Ne(t){for(var e,r,n=1,s=t.length,i=t[0]+"";n<s;){for(e=t[n++]+"",r=q-e.length;r--;e="0"+e);i+=e}for(s=i.length;i.charCodeAt(--s)===48;);return i.slice(0,s+1||1)}function xt(t,e){var r,n,s=t.c,i=e.c,u=t.s,o=e.s,h=t.e,T=e.e;if(!u||!o)return null;if(r=s&&!s[0],n=i&&!i[0],r||n)return r?n?0:-o:u;if(u!=o)return u;if(r=u<0,n=h==T,!s||!i)return n?0:!s^r?1:-1;if(!n)return h>T^r?1:-1;for(o=(h=s.length)<(T=i.length)?h:T,u=0;u<o;u++)if(s[u]!=i[u])return s[u]>i[u]^r?1:-1;return h==T?0:h>T^r?1:-1}function oe(t,e,r,n){if(t<e||t>r||t!==Ue(t))throw Error(Oe+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function zr(t){var e=t.c.length-1;return De(t.e/q)==e&&t.c[e]%2!=0}function Gr(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function at(t,e,r){var n,s;if(e<0){for(s=r+".";++e;s+=r);t=s+t}else if(n=t.length,++e>n){for(s=r,e-=n;--e;s+=r);t+=s}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var ks=Xs();const Bl=Object.freeze(Object.defineProperty({__proto__:null,BigNumber:ks,default:ks},Symbol.toStringTag,{value:"Module"}));function Ar(t){"@babel/helpers - typeof";return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(t)}function So(t,e){if(Ar(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ar(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ko(t){var e=So(t,"string");return Ar(e)=="symbol"?e:e+""}function Oo(t,e,r){return(e=ko(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const To=Object.freeze(Object.defineProperty({__proto__:null,default:Oo},Symbol.toStringTag,{value:"Module"}));var wn={exports:{}},Os;function Eo(){return Os||(Os=1,function(t){function e(n,s,i,u,o,h,T){try{var k=n[h](T),E=k.value}catch(N){return void i(N)}k.done?s(E):Promise.resolve(E).then(u,o)}function r(n){return function(){var s=this,i=arguments;return new Promise(function(u,o){var h=n.apply(s,i);function T(E){e(h,u,o,T,k,"next",E)}function k(E){e(h,u,o,T,k,"throw",E)}T(void 0)})}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(wn)),wn.exports}var Sn={exports:{}},kn={exports:{}},Ts;function Ys(){return Ts||(Ts=1,function(t){function e(r){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(kn)),kn.exports}var Es;function Co(){return Es||(Es=1,function(t){var e=Ys().default;function r(){t.exports=r=function(){return s},t.exports.__esModule=!0,t.exports.default=t.exports;var n,s={},i=Object.prototype,u=i.hasOwnProperty,o=Object.defineProperty||function(m,_,O){m[_]=O.value},h=typeof Symbol=="function"?Symbol:{},T=h.iterator||"@@iterator",k=h.asyncIterator||"@@asyncIterator",E=h.toStringTag||"@@toStringTag";function N(m,_,O){return Object.defineProperty(m,_,{value:O,enumerable:!0,configurable:!0,writable:!0}),m[_]}try{N({},"")}catch{N=function(O,I,M){return O[I]=M}}function G(m,_,O,I){var M=_&&_.prototype instanceof qt?_:qt,A=Object.create(M.prototype),D=new w(I||[]);return o(A,"_invoke",{value:y(m,O,D)}),A}function W(m,_,O){try{return{type:"normal",arg:m.call(_,O)}}catch(I){return{type:"throw",arg:I}}}s.wrap=G;var ge="suspendedStart",re="suspendedYield",Pe="executing",x="completed",ke={};function qt(){}function St(){}function pe(){}var Ce={};N(Ce,T,function(){return this});var a=Object.getPrototypeOf,c=a&&a(a(v([])));c&&c!==i&&u.call(c,T)&&(Ce=c);var d=pe.prototype=qt.prototype=Object.create(Ce);function b(m){["next","throw","return"].forEach(function(_){N(m,_,function(O){return this._invoke(_,O)})})}function p(m,_){function O(M,A,D,V){var ee=W(m[M],m,A);if(ee.type!=="throw"){var Re=ee.arg,Ae=Re.value;return Ae&&e(Ae)=="object"&&u.call(Ae,"__await")?_.resolve(Ae.__await).then(function(Ve){O("next",Ve,D,V)},function(Ve){O("throw",Ve,D,V)}):_.resolve(Ae).then(function(Ve){Re.value=Ve,D(Re)},function(Ve){return O("throw",Ve,D,V)})}V(ee.arg)}var I;o(this,"_invoke",{value:function(A,D){function V(){return new _(function(ee,Re){O(A,D,ee,Re)})}return I=I?I.then(V,V):V()}})}function y(m,_,O){var I=ge;return function(M,A){if(I===Pe)throw Error("Generator is already running");if(I===x){if(M==="throw")throw A;return{value:n,done:!0}}for(O.method=M,O.arg=A;;){var D=O.delegate;if(D){var V=S(D,O);if(V){if(V===ke)continue;return V}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I===ge)throw I=x,O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I=Pe;var ee=W(m,_,O);if(ee.type==="normal"){if(I=O.done?x:re,ee.arg===ke)continue;return{value:ee.arg,done:O.done}}ee.type==="throw"&&(I=x,O.method="throw",O.arg=ee.arg)}}}function S(m,_){var O=_.method,I=m.iterator[O];if(I===n)return _.delegate=null,O==="throw"&&m.iterator.return&&(_.method="return",_.arg=n,S(m,_),_.method==="throw")||O!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+O+"' method")),ke;var M=W(I,m.iterator,_.arg);if(M.type==="throw")return _.method="throw",_.arg=M.arg,_.delegate=null,ke;var A=M.arg;return A?A.done?(_[m.resultName]=A.value,_.next=m.nextLoc,_.method!=="return"&&(_.method="next",_.arg=n),_.delegate=null,ke):A:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,ke)}function f(m){var _={tryLoc:m[0]};1 in m&&(_.catchLoc=m[1]),2 in m&&(_.finallyLoc=m[2],_.afterLoc=m[3]),this.tryEntries.push(_)}function g(m){var _=m.completion||{};_.type="normal",delete _.arg,m.completion=_}function w(m){this.tryEntries=[{tryLoc:"root"}],m.forEach(f,this),this.reset(!0)}function v(m){if(m||m===""){var _=m[T];if(_)return _.call(m);if(typeof m.next=="function")return m;if(!isNaN(m.length)){var O=-1,I=function M(){for(;++O<m.length;)if(u.call(m,O))return M.value=m[O],M.done=!1,M;return M.value=n,M.done=!0,M};return I.next=I}}throw new TypeError(e(m)+" is not iterable")}return St.prototype=pe,o(d,"constructor",{value:pe,configurable:!0}),o(pe,"constructor",{value:St,configurable:!0}),St.displayName=N(pe,E,"GeneratorFunction"),s.isGeneratorFunction=function(m){var _=typeof m=="function"&&m.constructor;return!!_&&(_===St||(_.displayName||_.name)==="GeneratorFunction")},s.mark=function(m){return Object.setPrototypeOf?Object.setPrototypeOf(m,pe):(m.__proto__=pe,N(m,E,"GeneratorFunction")),m.prototype=Object.create(d),m},s.awrap=function(m){return{__await:m}},b(p.prototype),N(p.prototype,k,function(){return this}),s.AsyncIterator=p,s.async=function(m,_,O,I,M){M===void 0&&(M=Promise);var A=new p(G(m,_,O,I),M);return s.isGeneratorFunction(_)?A:A.next().then(function(D){return D.done?D.value:A.next()})},b(d),N(d,E,"Generator"),N(d,T,function(){return this}),N(d,"toString",function(){return"[object Generator]"}),s.keys=function(m){var _=Object(m),O=[];for(var I in _)O.push(I);return O.reverse(),function M(){for(;O.length;){var A=O.pop();if(A in _)return M.value=A,M.done=!1,M}return M.done=!0,M}},s.values=v,w.prototype={constructor:w,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(g),!_)for(var O in this)O.charAt(0)==="t"&&u.call(this,O)&&!isNaN(+O.slice(1))&&(this[O]=n)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var O=this;function I(Re,Ae){return D.type="throw",D.arg=_,O.next=Re,Ae&&(O.method="next",O.arg=n),!!Ae}for(var M=this.tryEntries.length-1;M>=0;--M){var A=this.tryEntries[M],D=A.completion;if(A.tryLoc==="root")return I("end");if(A.tryLoc<=this.prev){var V=u.call(A,"catchLoc"),ee=u.call(A,"finallyLoc");if(V&&ee){if(this.prev<A.catchLoc)return I(A.catchLoc,!0);if(this.prev<A.finallyLoc)return I(A.finallyLoc)}else if(V){if(this.prev<A.catchLoc)return I(A.catchLoc,!0)}else{if(!ee)throw Error("try statement without catch or finally");if(this.prev<A.finallyLoc)return I(A.finallyLoc)}}}},abrupt:function(_,O){for(var I=this.tryEntries.length-1;I>=0;--I){var M=this.tryEntries[I];if(M.tryLoc<=this.prev&&u.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var A=M;break}}A&&(_==="break"||_==="continue")&&A.tryLoc<=O&&O<=A.finallyLoc&&(A=null);var D=A?A.completion:{};return D.type=_,D.arg=O,A?(this.method="next",this.next=A.finallyLoc,ke):this.complete(D)},complete:function(_,O){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&O&&(this.next=O),ke},finish:function(_){for(var O=this.tryEntries.length-1;O>=0;--O){var I=this.tryEntries[O];if(I.finallyLoc===_)return this.complete(I.completion,I.afterLoc),g(I),ke}},catch:function(_){for(var O=this.tryEntries.length-1;O>=0;--O){var I=this.tryEntries[O];if(I.tryLoc===_){var M=I.completion;if(M.type==="throw"){var A=M.arg;g(I)}return A}}throw Error("illegal catch attempt")},delegateYield:function(_,O,I){return this.delegate={iterator:v(_),resultName:O,nextLoc:I},this.method==="next"&&(this.arg=n),ke}},s}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(Sn)),Sn.exports}var On,Cs;function xo(){if(Cs)return On;Cs=1;var t=Co()();On=t;try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}return On}const Qs="…";function Io(t){if(t.length<=6)return t;const e=t.startsWith("0x")?2:0;return`0x${t.slice(e,e+4)}${Qs}${t.slice(-4)}`}function jo(t){return`${t.slice(0,10)}${Qs}`}const Po=32;function Un(t){try{return jr(t).length===Po}catch{return!1}}const un=32;function et(t){return Ao(t)&&Mo(t)===un}function _r(t){return et(t)}function Ro(t){return t.includes("::")?Xn(t):t}function Xn(t){const[e,r]=t.split("::"),n=t.slice(e.length+r.length+4),s=n.includes("<")?n.slice(0,n.indexOf("<")):n,i=n.includes("<")?zs(n.slice(n.indexOf("<")+1,n.lastIndexOf(">"))).map(u=>Ro(u.trim())):[];return{address:te(e),module:r,name:s,typeParams:i}}function ei(t){const{address:e,module:r,name:n,typeParams:s}=typeof t=="string"?Xn(t):t,i=s?.length>0?`<${s.map(u=>typeof u=="string"?u:ei(u)).join(",")}>`:"";return`${e}::${r}::${n}${i}`}function te(t,e=!1){let r=t.toLowerCase();return!e&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(un*2,"0")}`}function tt(t,e=!1){return te(t,e)}function Ao(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}function Mo(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}const ti=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,ri=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i,No=235;function ni(t){return t.length>No?!1:t.includes("@")?ti.test(t):ri.test(t)}function si(t,e="at"){const r=t.toLowerCase();let n;if(r.includes("@")){if(!ti.test(r))throw new Error(`Invalid SuiNS name ${t}`);const[s,i]=r.split("@");n=[...s?s.split("."):[],i]}else{if(!ri.test(r))throw new Error(`Invalid SuiNS name ${t}`);n=r.split(".").slice(0,-1)}return e==="dot"?`${n.join(".")}.sui`:`${n.slice(0,-1).join(".")}@${n[n.length-1]}`}const Uo=9,Do=BigInt(1e9),ii="0x1",Yn="0x2",$o="0x3",Bo=tt("0x6"),Fo="sui_system",ai=`${Yn}::sui::SUI`,Lo=tt("0x5"),Vo=/^([a-z0-9]+(?:-[a-z0-9]+)*)$/,Zo=/^\d+$/,qo=64,oi="/",ci=t=>{const e=t.split(oi);if(e.length<2||e.length>3)return!1;const[r,n,s]=e;return s!==void 0&&!Zo.test(s)||!ni(r)?!1:Vo.test(n)&&n.length<qo},zo=t=>{const e=t.split(/::|<|>|,/);for(const r of e)if(r.includes(oi)&&!ci(r))return!1;return!0},Go=/^vector<(.+)>$/,Wo=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class We{static parseFromStr(e,r=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};const n=e.match(Go);if(n)return{vector:We.parseFromStr(n[1],r)};const s=e.match(Wo);if(s)return{struct:{address:r?te(s[1]):s[1],module:s[2],name:s[3],typeParams:s[5]===void 0?[]:We.parseStructTypeArgs(s[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,r=!1){return zs(e).map(n=>We.parseFromStr(n,r))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${We.tagToString(e.vector)}>`;if("struct"in e){const r=e.struct,n=r.typeParams.map(We.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}}function Jo(t){return l.u64({name:"unsafe_u64",...t}).transform({input:e=>e,output:e=>Number(e)})}function Ho(t){return l.enum("Option",{None:null,Some:t})}const ce=l.bytes(un).transform({validate:t=>{const e=typeof t=="string"?t:Pr(t);if(!e||!et(te(e)))throw new Error(`Invalid Sui address ${e}`)},input:t=>typeof t=="string"?Gs(te(t)):t,output:t=>te(Pr(t))}),He=l.vector(l.u8()).transform({name:"ObjectDigest",input:t=>jr(t),output:t=>Wn(new Uint8Array(t)),validate:t=>{if(jr(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),$e=l.struct("SuiObjectRef",{objectId:ce,version:l.u64(),digest:He}),ui=l.struct("SharedObjectRef",{objectId:ce,initialSharedVersion:l.u64(),mutable:l.bool()}),li=l.enum("ObjectArg",{ImmOrOwnedObject:$e,SharedObject:ui,Receiving:$e}),di=l.enum("CallArg",{Pure:l.struct("Pure",{bytes:l.vector(l.u8()).transform({input:t=>typeof t=="string"?nt(t):t,output:t=>we(new Uint8Array(t))})}),Object:li}),Qn=l.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:l.lazy(()=>Qn),struct:l.lazy(()=>yi),u16:null,u32:null,u256:null}),es=Qn.transform({input:t=>typeof t=="string"?We.parseFromStr(t,!0):t,output:t=>We.tagToString(t)}),Qe=l.enum("Argument",{GasCoin:null,Input:l.u16(),Result:l.u16(),NestedResult:l.tuple([l.u16(),l.u16()])}),fi=l.struct("ProgrammableMoveCall",{package:ce,module:l.string(),function:l.string(),typeArguments:l.vector(es),arguments:l.vector(Qe)}),hi=l.enum("Command",{MoveCall:fi,TransferObjects:l.struct("TransferObjects",{objects:l.vector(Qe),address:Qe}),SplitCoins:l.struct("SplitCoins",{coin:Qe,amounts:l.vector(Qe)}),MergeCoins:l.struct("MergeCoins",{destination:Qe,sources:l.vector(Qe)}),Publish:l.struct("Publish",{modules:l.vector(l.vector(l.u8()).transform({input:t=>typeof t=="string"?nt(t):t,output:t=>we(new Uint8Array(t))})),dependencies:l.vector(ce)}),MakeMoveVec:l.struct("MakeMoveVec",{type:Ho(es).transform({input:t=>t===null?{None:!0}:{Some:t},output:t=>t.Some??null}),elements:l.vector(Qe)}),Upgrade:l.struct("Upgrade",{modules:l.vector(l.vector(l.u8()).transform({input:t=>typeof t=="string"?nt(t):t,output:t=>we(new Uint8Array(t))})),dependencies:l.vector(ce),package:ce,ticket:Qe})}),pi=l.struct("ProgrammableTransaction",{inputs:l.vector(di),commands:l.vector(hi)}),mi=l.enum("TransactionKind",{ProgrammableTransaction:pi,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),gi=l.enum("TransactionExpiration",{None:null,Epoch:Jo()}),yi=l.struct("StructTag",{address:ce,module:l.string(),name:l.string(),typeParams:l.vector(Qn)}),vi=l.struct("GasData",{payment:l.vector($e),owner:ce,price:l.u64(),budget:l.u64()}),bi=l.struct("TransactionDataV1",{kind:mi,sender:ce,gasData:vi,expiration:gi}),_i=l.enum("TransactionData",{V1:bi}),wi=l.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),Si=l.enum("IntentVersion",{V0:null}),ki=l.enum("AppId",{Sui:null}),Oi=l.struct("Intent",{scope:wi,version:Si,appId:ki});function Ti(t){return l.struct(`IntentMessage<${t.name}>`,{intent:Oi,value:t})}const Ei=l.enum("CompressedSignature",{ED25519:l.fixedArray(64,l.u8()),Secp256k1:l.fixedArray(64,l.u8()),Secp256r1:l.fixedArray(64,l.u8()),ZkLogin:l.vector(l.u8())}),Ci=l.enum("PublicKey",{ED25519:l.fixedArray(32,l.u8()),Secp256k1:l.fixedArray(33,l.u8()),Secp256r1:l.fixedArray(33,l.u8()),ZkLogin:l.vector(l.u8())}),xi=l.struct("MultiSigPkMap",{pubKey:Ci,weight:l.u8()}),Ii=l.struct("MultiSigPublicKey",{pk_map:l.vector(xi),threshold:l.u16()}),Ko=l.struct("MultiSig",{sigs:l.vector(Ei),bitmap:l.u16(),multisig_pk:Ii}),Xo=l.vector(l.u8()).transform({input:t=>typeof t=="string"?nt(t):t,output:t=>we(new Uint8Array(t))}),ji=l.struct("SenderSignedTransaction",{intentMessage:Ti(_i),txSignatures:l.vector(Xo)}),Yo=l.vector(ji,{name:"SenderSignedData"}),Qo=l.enum("PackageUpgradeError",{UnableToFetchPackage:l.struct("UnableToFetchPackage",{packageId:ce}),NotAPackage:l.struct("NotAPackage",{objectId:ce}),IncompatibleUpgrade:null,DigestDoesNotMatch:l.struct("DigestDoesNotMatch",{digest:l.vector(l.u8())}),UnknownUpgradePolicy:l.struct("UnknownUpgradePolicy",{policy:l.u8()}),PackageIDDoesNotMatch:l.struct("PackageIDDoesNotMatch",{packageId:ce,ticketId:ce})}),ec=l.struct("ModuleId",{address:ce,name:l.string()}),xs=l.struct("MoveLocation",{module:ec,function:l.u16(),instruction:l.u16(),functionName:l.option(l.string())}),tc=l.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:l.struct("IndexOutOfBounds",{idx:l.u16()}),SecondaryIndexOutOfBounds:l.struct("SecondaryIndexOutOfBounds",{resultIdx:l.u16(),secondaryIdx:l.u16()}),InvalidResultArity:l.struct("InvalidResultArity",{resultIdx:l.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),rc=l.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),nc=l.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:l.struct("MoveObjectTooBig",{objectSize:l.u64(),maxObjectSize:l.u64()}),MovePackageTooBig:l.struct("MovePackageTooBig",{objectSize:l.u64(),maxObjectSize:l.u64()}),CircularObjectOwnership:l.struct("CircularObjectOwnership",{object:ce}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:l.option(xs),MoveAbort:l.tuple([xs,l.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:l.struct("CommandArgumentError",{argIdx:l.u16(),kind:tc}),TypeArgumentError:l.struct("TypeArgumentError",{argumentIdx:l.u16(),kind:rc}),UnusedValueWithoutDrop:l.struct("UnusedValueWithoutDrop",{resultIdx:l.u16(),secondaryIdx:l.u16()}),InvalidPublicFunctionReturnType:l.struct("InvalidPublicFunctionReturnType",{idx:l.u16()}),InvalidTransferObject:null,EffectsTooLarge:l.struct("EffectsTooLarge",{currentSize:l.u64(),maxSize:l.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:l.struct("PackageUpgradeError",{upgradeError:Qo}),WrittenObjectsTooLarge:l.struct("WrittenObjectsTooLarge",{currentSize:l.u64(),maxSize:l.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:l.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:l.vector(ce)}),AddressDeniedForCoin:l.struct("AddressDeniedForCoin",{address:ce,coinType:l.string()}),CoinTypeGlobalPause:l.struct("CoinTypeGlobalPause",{coinType:l.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),Pi=l.enum("ExecutionStatus",{Success:null,Failed:l.struct("ExecutionFailed",{error:nc,command:l.option(l.u64())})}),Ri=l.struct("GasCostSummary",{computationCost:l.u64(),storageCost:l.u64(),storageRebate:l.u64(),nonRefundableStorageFee:l.u64()}),Ht=l.enum("Owner",{AddressOwner:ce,ObjectOwner:ce,Shared:l.struct("Shared",{initialSharedVersion:l.u64()}),Immutable:null}),sc=l.struct("TransactionEffectsV1",{status:Pi,executedEpoch:l.u64(),gasUsed:Ri,modifiedAtVersions:l.vector(l.tuple([ce,l.u64()])),sharedObjects:l.vector($e),transactionDigest:He,created:l.vector(l.tuple([$e,Ht])),mutated:l.vector(l.tuple([$e,Ht])),unwrapped:l.vector(l.tuple([$e,Ht])),deleted:l.vector($e),unwrappedThenDeleted:l.vector($e),wrapped:l.vector($e),gasObject:l.tuple([$e,Ht]),eventsDigest:l.option(He),dependencies:l.vector(He)}),ts=l.tuple([l.u64(),He]),ic=l.enum("ObjectIn",{NotExist:null,Exist:l.tuple([ts,Ht])}),ac=l.enum("ObjectOut",{NotExist:null,ObjectWrite:l.tuple([He,Ht]),PackageWrite:ts}),oc=l.enum("IDOperation",{None:null,Created:null,Deleted:null}),cc=l.struct("EffectsObjectChange",{inputState:ic,outputState:ac,idOperation:oc}),uc=l.enum("UnchangedSharedKind",{ReadOnlyRoot:ts,MutateDeleted:l.u64(),ReadDeleted:l.u64(),Cancelled:l.u64(),PerEpochConfig:null}),lc=l.struct("TransactionEffectsV2",{status:Pi,executedEpoch:l.u64(),gasUsed:Ri,transactionDigest:He,gasObjectIndex:l.option(l.u32()),eventsDigest:l.option(He),dependencies:l.vector(He),lamportVersion:l.u64(),changedObjects:l.vector(l.tuple([ce,cc])),unchangedSharedObjects:l.vector(l.tuple([ce,uc])),auxDataDigest:l.option(He)}),dc=l.enum("TransactionEffects",{V1:sc,V2:lc}),F={...l,U8:l.u8(),U16:l.u16(),U32:l.u32(),U64:l.u64(),U128:l.u128(),U256:l.u256(),ULEB128:l.uleb128(),Bool:l.bool(),String:l.string(),Address:ce,AppId:ki,Argument:Qe,CallArg:di,CompressedSignature:Ei,GasData:vi,Intent:Oi,IntentMessage:Ti,IntentScope:wi,IntentVersion:Si,MultiSig:Ko,MultiSigPkMap:xi,MultiSigPublicKey:Ii,ObjectArg:li,ObjectDigest:He,ProgrammableMoveCall:fi,ProgrammableTransaction:pi,PublicKey:Ci,SenderSignedData:Yo,SenderSignedTransaction:ji,SharedObjectRef:ui,StructTag:yi,SuiObjectRef:$e,Command:hi,TransactionData:_i,TransactionDataV1:bi,TransactionExpiration:gi,TransactionKind:mi,TypeTag:es,TransactionEffects:dc},fc=Object.freeze(Object.defineProperty({__proto__:null,BcsType:Xa,TypeTagSerializer:We,bcs:F},Symbol.toStringTag,{value:"Module"}));function hc(t,e,r){const n=F.Address.serialize(t).toBytes(),s=F.TypeTag.serialize(e).toBytes(),i=F.u64().serialize(r.length).toBytes(),u=Ws.create({dkLen:32});return u.update(new Uint8Array([240])),u.update(n),u.update(i),u.update(r),u.update(s),`0x${Pr(u.digest().slice(0,32))}`}const pc=Object.freeze(Object.defineProperty({__proto__:null,MIST_PER_SUI:Do,MOVE_STDLIB_ADDRESS:ii,SUI_ADDRESS_LENGTH:un,SUI_CLOCK_OBJECT_ID:Bo,SUI_DECIMALS:Uo,SUI_FRAMEWORK_ADDRESS:Yn,SUI_SYSTEM_ADDRESS:$o,SUI_SYSTEM_MODULE_NAME:Fo,SUI_SYSTEM_STATE_OBJECT_ID:Lo,SUI_TYPE_ARG:ai,deriveDynamicFieldID:hc,formatAddress:Io,formatDigest:jo,fromB64:Ya,fromBase58:jr,fromBase64:nt,fromHEX:Qa,fromHex:Gs,isValidNamedPackage:ci,isValidNamedType:zo,isValidSuiAddress:et,isValidSuiNSName:ni,isValidSuiObjectId:_r,isValidTransactionDigest:Un,normalizeStructTag:ei,normalizeSuiAddress:te,normalizeSuiNSName:si,normalizeSuiObjectId:tt,parseStructTag:Xn,toB64:eo,toBase58:Wn,toBase64:we,toHEX:to,toHex:Pr},Symbol.toStringTag,{value:"Module"})),mc="object",gc="ID",yc="ascii",vc="String",bc="string",_c="String",wc="option",Sc="Option";function kc(t){const e=typeof t.body=="object"&&"datatype"in t.body?t.body.datatype:null;return!!e&&te(e.package)===te("0x2")&&e.module==="tx_context"&&e.type==="TxContext"}function Dn(t){if(typeof t=="string")switch(t){case"address":return F.Address;case"bool":return F.Bool;case"u8":return F.U8;case"u16":return F.U16;case"u32":return F.U32;case"u64":return F.U64;case"u128":return F.U128;case"u256":return F.U256;default:throw new Error(`Unknown type signature ${t}`)}if("vector"in t){if(t.vector==="u8")return F.vector(F.U8).transform({input:r=>typeof r=="string"?new TextEncoder().encode(r):r,output:r=>r});const e=Dn(t.vector);return e?F.vector(e):null}if("datatype"in t){const e=te(t.datatype.package);if(e===te(ii)){if(t.datatype.module===yc&&t.datatype.type===vc||t.datatype.module===bc&&t.datatype.type===_c)return F.String;if(t.datatype.module===wc&&t.datatype.type===Sc){const r=Dn(t.datatype.typeParameters[0]);return r?F.vector(r):null}}if(e===te(Yn)&&t.datatype.module===mc&&t.datatype.type===gc)return F.Address}return null}function Oc(t){return typeof t=="object"&&"Reference"in t?{ref:"&",body:Tr(t.Reference)}:typeof t=="object"&&"MutableReference"in t?{ref:"&mut",body:Tr(t.MutableReference)}:{ref:null,body:Tr(t)}}function Tr(t){if(typeof t=="string")switch(t){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${t}`)}if("Vector"in t)return{vector:Tr(t.Vector)};if("Struct"in t)return{datatype:{package:t.Struct.address,module:t.Struct.module,type:t.Struct.name,typeParameters:t.Struct.typeArguments.map(Tr)}};if("TypeParameter"in t)return{typeParameter:t.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(t)}`)}function Tc(t){return{$kind:"Pure",Pure:{bytes:t instanceof Uint8Array?we(t):t.toBase64()}}}const mt={Pure:Tc,ObjectRef({objectId:t,digest:e,version:r}){return{$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:e,version:r,objectId:te(t)}}}},SharedObjectRef({objectId:t,mutable:e,initialSharedVersion:r}){return{$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:e,initialSharedVersion:r,objectId:te(t)}}}},ReceivingRef({objectId:t,digest:e,version:r}){return{$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:e,version:r,objectId:te(t)}}}}};function Vt(t){const e=Object.entries(t).map(([r,n])=>j({[r]:n}));return se(be(e),Jn(r=>({...r,$kind:Object.keys(r)[0]})))}const mr=se(K(),Jn(t=>te(t)),on(et)),xe=mr,$t=K(),Ee=se(be([K(),se(fe(),he())]),on(t=>{try{return BigInt(t),BigInt(t)>=0&&BigInt(t)<=18446744073709551615n}catch{return!1}},"Invalid u64")),Tt=j({objectId:mr,version:Ee,digest:K()}),ie=se(be([j({GasCoin:Z(!0)}),j({Input:se(fe(),he()),type:Se(Z("pure"))}),j({Input:se(fe(),he()),type:Se(Z("object"))}),j({Result:se(fe(),he())}),j({NestedResult:Js([se(fe(),he()),se(fe(),he())])})]),Jn(t=>({...t,$kind:Object.keys(t)[0]}))),Ec=j({budget:ne(Ee),price:ne(Ee),owner:ne(mr),payment:ne(L(Tt))}),$n=be([Z("address"),Z("bool"),Z("u8"),Z("u16"),Z("u32"),Z("u64"),Z("u128"),Z("u256"),j({vector:Yr(()=>$n)}),j({datatype:j({package:K(),module:K(),type:K(),typeParameters:L(Yr(()=>$n))})}),j({typeParameter:se(fe(),he())})]),Cc=j({ref:ne(be([Z("&"),Z("&mut")])),body:$n}),xc=j({package:xe,module:K(),function:K(),typeArguments:L(K()),arguments:L(ie),_argumentTypes:Se(ne(L(Cc)))}),Ic=j({name:K(),inputs:Xr(K(),be([ie,L(ie)])),data:Xr(K(),Qt())}),jc=Vt({MoveCall:xc,TransferObjects:j({objects:L(ie),address:ie}),SplitCoins:j({coin:ie,amounts:L(ie)}),MergeCoins:j({destination:ie,sources:L(ie)}),Publish:j({modules:L($t),dependencies:L(xe)}),MakeMoveVec:j({type:ne(K()),elements:L(ie)}),Upgrade:j({modules:L($t),dependencies:L(xe),package:xe,ticket:ie}),$Intent:Ic}),Ai=Vt({ImmOrOwnedObject:Tt,SharedObject:j({objectId:xe,initialSharedVersion:Ee,mutable:Hn()}),Receiving:Tt}),Pc=Vt({Object:Ai,Pure:j({bytes:$t}),UnresolvedPure:j({value:Qt()}),UnresolvedObject:j({objectId:xe,version:Se(ne(Ee)),digest:Se(ne(K())),initialSharedVersion:Se(ne(Ee))})}),Is=Vt({Object:Ai,Pure:j({bytes:$t})}),Mi=Vt({None:Z(!0),Epoch:Ee}),Hr=j({version:Z(2),sender:Rr(mr),expiration:Rr(Mi),gasData:Ec,inputs:L(Pc),commands:L(jc)});var Rc=(t=>(t[t.COMPATIBLE=0]="COMPATIBLE",t[t.ADDITIVE=128]="ADDITIVE",t[t.DEP_ONLY=192]="DEP_ONLY",t))(Rc||{});const It={MoveCall(t){const[e,r="",n=""]="target"in t?t.target.split("::"):[t.package,t.module,t.function];return{$kind:"MoveCall",MoveCall:{package:e,module:r,function:n,typeArguments:t.typeArguments??[],arguments:t.arguments??[]}}},TransferObjects(t,e){return{$kind:"TransferObjects",TransferObjects:{objects:t.map(r=>de(ie,r)),address:de(ie,e)}}},SplitCoins(t,e){return{$kind:"SplitCoins",SplitCoins:{coin:de(ie,t),amounts:e.map(r=>de(ie,r))}}},MergeCoins(t,e){return{$kind:"MergeCoins",MergeCoins:{destination:de(ie,t),sources:e.map(r=>de(ie,r))}}},Publish({modules:t,dependencies:e}){return{$kind:"Publish",Publish:{modules:t.map(r=>typeof r=="string"?r:we(new Uint8Array(r))),dependencies:e.map(r=>tt(r))}}},Upgrade({modules:t,dependencies:e,package:r,ticket:n}){return{$kind:"Upgrade",Upgrade:{modules:t.map(s=>typeof s=="string"?s:we(new Uint8Array(s))),dependencies:e.map(s=>tt(s)),package:r,ticket:de(ie,n)}}},MakeMoveVec({type:t,elements:e}){return{$kind:"MakeMoveVec",MakeMoveVec:{type:t??null,elements:e.map(r=>de(ie,r))}}},Intent({name:t,inputs:e={},data:r={}}){return{$kind:"$Intent",$Intent:{name:t,inputs:Object.fromEntries(Object.entries(e).map(([n,s])=>[n,Array.isArray(s)?s.map(i=>de(ie,i)):de(ie,s)])),data:r}}}},Bn=j({digest:K(),objectId:K(),version:be([se(fe(),he()),K(),Hs()])}),Ac=Vt({ImmOrOwned:Bn,Shared:j({objectId:xe,initialSharedVersion:Ee,mutable:Hn()}),Receiving:Bn}),js=Vt({Object:Ac,Pure:L(se(fe(),he()))}),Ni=be([j({kind:Z("Input"),index:se(fe(),he()),value:Qt(),type:Se(Z("object"))}),j({kind:Z("Input"),index:se(fe(),he()),value:Qt(),type:Z("pure")})]),Mc=be([j({Epoch:se(fe(),he())}),j({None:ne(Z(!0))})]),Ps=se(be([fe(),K(),Hs()]),on(t=>{if(!["string","number","bigint"].includes(typeof t))return!1;try{return BigInt(t),!0}catch{return!1}})),rs=be([j({bool:ne(Z(!0))}),j({u8:ne(Z(!0))}),j({u64:ne(Z(!0))}),j({u128:ne(Z(!0))}),j({address:ne(Z(!0))}),j({signer:ne(Z(!0))}),j({vector:Yr(()=>rs)}),j({struct:Yr(()=>Nc)}),j({u16:ne(Z(!0))}),j({u32:ne(Z(!0))}),j({u256:ne(Z(!0))})]),Nc=j({address:K(),module:K(),name:K(),typeParams:L(rs)}),Uc=j({budget:Se(Ps),price:Se(Ps),payment:Se(L(Bn)),owner:Se(K())}),Dc=[Ni,j({kind:Z("GasCoin")}),j({kind:Z("Result"),index:se(fe(),he())}),j({kind:Z("NestedResult"),index:se(fe(),he()),resultIndex:se(fe(),he())})],yt=be([...Dc]),$c=j({kind:Z("MoveCall"),target:se(K(),on(t=>t.split("::").length===3)),typeArguments:L(K()),arguments:L(yt)}),Bc=j({kind:Z("TransferObjects"),objects:L(yt),address:yt}),Fc=j({kind:Z("SplitCoins"),coin:yt,amounts:L(yt)}),Lc=j({kind:Z("MergeCoins"),destination:yt,sources:L(yt)}),Vc=j({kind:Z("MakeMoveVec"),type:be([j({Some:rs}),j({None:ne(Z(!0))})]),objects:L(yt)}),Zc=j({kind:Z("Publish"),modules:L(L(se(fe(),he()))),dependencies:L(K())}),qc=j({kind:Z("Upgrade"),modules:L(L(se(fe(),he()))),dependencies:L(K()),packageId:K(),ticket:yt}),zc=[$c,Bc,Fc,Lc,Zc,qc,Vc],Gc=be([...zc]);j({version:Z(1),sender:Se(K()),expiration:Rr(Mc),gasConfig:Uc,inputs:L(Ni),transactions:L(Gc)});function Rs(t){const e=t.inputs.map((r,n)=>{if(r.Object)return{kind:"Input",index:n,value:{Object:r.Object.ImmOrOwnedObject?{ImmOrOwned:r.Object.ImmOrOwnedObject}:r.Object.Receiving?{Receiving:{digest:r.Object.Receiving.digest,version:r.Object.Receiving.version,objectId:r.Object.Receiving.objectId}}:{Shared:{mutable:r.Object.SharedObject.mutable,initialSharedVersion:r.Object.SharedObject.initialSharedVersion,objectId:r.Object.SharedObject.objectId}}},type:"object"};if(r.Pure)return{kind:"Input",index:n,value:{Pure:Array.from(nt(r.Pure.bytes))},type:"pure"};if(r.UnresolvedPure)return{kind:"Input",type:"pure",index:n,value:r.UnresolvedPure.value};if(r.UnresolvedObject)return{kind:"Input",type:"object",index:n,value:r.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:t.sender??void 0,expiration:t.expiration?.$kind==="Epoch"?{Epoch:Number(t.expiration.Epoch)}:t.expiration?{None:!0}:null,gasConfig:{owner:t.gasData.owner??void 0,budget:t.gasData.budget??void 0,price:t.gasData.price??void 0,payment:t.gasData.payment??void 0},inputs:e,transactions:t.commands.map(r=>{if(r.MakeMoveVec)return{kind:"MakeMoveVec",type:r.MakeMoveVec.type===null?{None:!0}:{Some:We.parseFromStr(r.MakeMoveVec.type)},objects:r.MakeMoveVec.elements.map(n=>ot(n,e))};if(r.MergeCoins)return{kind:"MergeCoins",destination:ot(r.MergeCoins.destination,e),sources:r.MergeCoins.sources.map(n=>ot(n,e))};if(r.MoveCall)return{kind:"MoveCall",target:`${r.MoveCall.package}::${r.MoveCall.module}::${r.MoveCall.function}`,typeArguments:r.MoveCall.typeArguments,arguments:r.MoveCall.arguments.map(n=>ot(n,e))};if(r.Publish)return{kind:"Publish",modules:r.Publish.modules.map(n=>Array.from(nt(n))),dependencies:r.Publish.dependencies};if(r.SplitCoins)return{kind:"SplitCoins",coin:ot(r.SplitCoins.coin,e),amounts:r.SplitCoins.amounts.map(n=>ot(n,e))};if(r.TransferObjects)return{kind:"TransferObjects",objects:r.TransferObjects.objects.map(n=>ot(n,e)),address:ot(r.TransferObjects.address,e)};if(r.Upgrade)return{kind:"Upgrade",modules:r.Upgrade.modules.map(n=>Array.from(nt(n))),dependencies:r.Upgrade.dependencies,packageId:r.Upgrade.package,ticket:ot(r.Upgrade.ticket,e)};throw new Error(`Unknown transaction ${Object.keys(r)}`)})}}function ot(t,e){if(t.$kind==="GasCoin")return{kind:"GasCoin"};if(t.$kind==="Result")return{kind:"Result",index:t.Result};if(t.$kind==="NestedResult")return{kind:"NestedResult",index:t.NestedResult[0],resultIndex:t.NestedResult[1]};if(t.$kind==="Input")return e[t.Input];throw new Error(`Invalid argument ${Object.keys(t)}`)}function Wc(t){return de(Hr,{version:2,sender:t.sender??null,expiration:t.expiration?"Epoch"in t.expiration?{Epoch:t.expiration.Epoch}:{None:!0}:null,gasData:{owner:t.gasConfig.owner??null,budget:t.gasConfig.budget?.toString()??null,price:t.gasConfig.price?.toString()??null,payment:t.gasConfig.payment?.map(e=>({digest:e.digest,objectId:e.objectId,version:e.version.toString()}))??null},inputs:t.inputs.map(e=>{if(e.kind==="Input"){if(Nn(js,e.value)){const r=de(js,e.value);if(r.Object){if(r.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:r.Object.ImmOrOwned.objectId,version:String(r.Object.ImmOrOwned.version),digest:r.Object.ImmOrOwned.digest}}};if(r.Object.Shared)return{Object:{SharedObject:{mutable:r.Object.Shared.mutable??null,initialSharedVersion:r.Object.Shared.initialSharedVersion,objectId:r.Object.Shared.objectId}}};if(r.Object.Receiving)return{Object:{Receiving:{digest:r.Object.Receiving.digest,version:String(r.Object.Receiving.version),objectId:r.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:we(new Uint8Array(r.Pure))}}}return e.type==="object"?{UnresolvedObject:{objectId:e.value}}:{UnresolvedPure:{value:e.value}}}throw new Error("Invalid input")}),commands:t.transactions.map(e=>{switch(e.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in e.type?We.tagToString(e.type.Some):null,elements:e.objects.map(r=>ct(r))}};case"MergeCoins":return{MergeCoins:{destination:ct(e.destination),sources:e.sources.map(r=>ct(r))}};case"MoveCall":{const[r,n,s]=e.target.split("::");return{MoveCall:{package:r,module:n,function:s,typeArguments:e.typeArguments,arguments:e.arguments.map(i=>ct(i))}}}case"Publish":return{Publish:{modules:e.modules.map(r=>we(Uint8Array.from(r))),dependencies:e.dependencies}};case"SplitCoins":return{SplitCoins:{coin:ct(e.coin),amounts:e.amounts.map(r=>ct(r))}};case"TransferObjects":return{TransferObjects:{objects:e.objects.map(r=>ct(r)),address:ct(e.address)}};case"Upgrade":return{Upgrade:{modules:e.modules.map(r=>we(Uint8Array.from(r))),dependencies:e.dependencies,package:e.packageId,ticket:ct(e.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(e)}`)})})}function ct(t){switch(t.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:t.index};case"NestedResult":return{NestedResult:[t.index,t.resultIndex]};case"Input":return{Input:t.index}}}function Lr(t){return be(Object.entries(t).map(([e,r])=>j({[e]:r})))}const qe=Lr({GasCoin:Z(!0),Input:se(fe(),he()),Result:se(fe(),he()),NestedResult:Js([se(fe(),he()),se(fe(),he())])}),Jc=j({budget:ne(Ee),price:ne(Ee),owner:ne(mr),payment:ne(L(Tt))}),Hc=j({package:xe,module:K(),function:K(),typeArguments:L(K()),arguments:L(qe)}),Kc=j({name:K(),inputs:Xr(K(),be([qe,L(qe)])),data:Xr(K(),Qt())}),Xc=Lr({MoveCall:Hc,TransferObjects:j({objects:L(qe),address:qe}),SplitCoins:j({coin:qe,amounts:L(qe)}),MergeCoins:j({destination:qe,sources:L(qe)}),Publish:j({modules:L($t),dependencies:L(xe)}),MakeMoveVec:j({type:ne(K()),elements:L(qe)}),Upgrade:j({modules:L($t),dependencies:L(xe),package:xe,ticket:qe}),$Intent:Kc}),Yc=Lr({ImmOrOwnedObject:Tt,SharedObject:j({objectId:xe,initialSharedVersion:Ee,mutable:Hn()}),Receiving:Tt}),Qc=Lr({Object:Yc,Pure:j({bytes:$t}),UnresolvedPure:j({value:Qt()}),UnresolvedObject:j({objectId:xe,version:Se(ne(Ee)),digest:Se(ne(K())),initialSharedVersion:Se(ne(Ee))})}),eu=Lr({None:Z(!0),Epoch:Ee}),tu=j({version:Z(2),sender:Rr(mr),expiration:Rr(eu),gasData:Jc,inputs:L(Qc),commands:L(Xc)}),ru=50,nu=1000n,su=5e10;async function iu(t,e,r){return await lu(t,e),await uu(t,e),e.onlyTransactionKind||(await au(t,e),await ou(t,e),await cu(t,e)),await du(t),await r()}async function au(t,e){t.gasConfig.price||(t.gasConfig.price=String(await Vr(e).getReferenceGasPrice()))}async function ou(t,e){if(t.gasConfig.budget)return;const r=await Vr(e).dryRunTransactionBlock({transactionBlock:t.build({overrides:{gasData:{budget:String(su),payment:[]}}})});if(r.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${r.effects.status.error}`,{cause:r});const n=nu*BigInt(t.gasConfig.price||1n),s=BigInt(r.effects.gasUsed.computationCost)+n,i=s+BigInt(r.effects.gasUsed.storageCost)-BigInt(r.effects.gasUsed.storageRebate);t.gasConfig.budget=String(i>s?i:s)}async function cu(t,e){if(!t.gasConfig.payment){const n=(await Vr(e).getCoins({owner:t.gasConfig.owner||t.sender,coinType:ai})).data.filter(s=>!t.inputs.find(u=>u.Object?.ImmOrOwnedObject?s.coinObjectId===u.Object.ImmOrOwnedObject.objectId:!1)).map(s=>({objectId:s.coinObjectId,digest:s.digest,version:s.version}));if(!n.length)throw new Error("No valid gas coins found for the transaction.");t.gasConfig.payment=n.map(s=>de(Tt,s))}}async function uu(t,e){const r=t.inputs.filter(k=>k.UnresolvedObject&&!(k.UnresolvedObject.version||k.UnresolvedObject?.initialSharedVersion)),n=[...new Set(r.map(k=>tt(k.UnresolvedObject.objectId)))],s=n.length?mu(n,ru):[],i=(await Promise.all(s.map(k=>Vr(e).multiGetObjects({ids:k,options:{showOwner:!0}})))).flat(),u=new Map(n.map((k,E)=>[k,i[E]])),o=Array.from(u).filter(([k,E])=>E.error).map(([k,E])=>JSON.stringify(E.error));if(o.length)throw new Error(`The following input objects are invalid: ${o.join(", ")}`);const h=i.map(k=>{if(k.error||!k.data)throw new Error(`Failed to fetch object: ${k.error}`);const E=k.data.owner,N=E&&typeof E=="object"&&"Shared"in E?E.Shared.initial_shared_version:null;return{objectId:k.data.objectId,digest:k.data.digest,version:k.data.version,initialSharedVersion:N}}),T=new Map(n.map((k,E)=>[k,h[E]]));for(const[k,E]of t.inputs.entries()){if(!E.UnresolvedObject)continue;let N;const G=te(E.UnresolvedObject.objectId),W=T.get(G);E.UnresolvedObject.initialSharedVersion??W?.initialSharedVersion?N=mt.SharedObjectRef({objectId:G,initialSharedVersion:E.UnresolvedObject.initialSharedVersion||W?.initialSharedVersion,mutable:fu(t,k)}):hu(t,k)&&(N=mt.ReceivingRef({objectId:G,digest:E.UnresolvedObject.digest??W?.digest,version:E.UnresolvedObject.version??W?.version})),t.inputs[t.inputs.indexOf(E)]=N??mt.ObjectRef({objectId:G,digest:E.UnresolvedObject.digest??W?.digest,version:E.UnresolvedObject.version??W?.version})}}async function lu(t,e){const{inputs:r,commands:n}=t,s=[],i=new Set;n.forEach(o=>{if(o.MoveCall){if(o.MoveCall._argumentTypes)return;if(o.MoveCall.arguments.map(k=>k.$kind==="Input"?t.inputs[k.Input]:null).some(k=>k?.UnresolvedPure||k?.UnresolvedObject)){const k=`${o.MoveCall.package}::${o.MoveCall.module}::${o.MoveCall.function}`;i.add(k),s.push(o.MoveCall)}}switch(o.$kind){case"SplitCoins":o.SplitCoins.amounts.forEach(h=>{As(h,F.U64,t)});break;case"TransferObjects":As(o.TransferObjects.address,F.Address,t);break}});const u=new Map;if(i.size>0){const o=Vr(e);await Promise.all([...i].map(async h=>{const[T,k,E]=h.split("::"),N=await o.getNormalizedMoveFunction({package:T,module:k,function:E});u.set(h,N.parameters.map(G=>Oc(G)))}))}s.length&&await Promise.all(s.map(async o=>{const h=u.get(`${o.package}::${o.module}::${o.function}`);if(!h)return;const k=h.length>0&&kc(h.at(-1))?h.slice(0,h.length-1):h;o._argumentTypes=k})),n.forEach(o=>{if(!o.MoveCall)return;const h=o.MoveCall,T=`${h.package}::${h.module}::${h.function}`,k=h._argumentTypes;if(k){if(k.length!==o.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${T}`);k.forEach((E,N)=>{const G=h.arguments[N];if(G.$kind!=="Input")return;const W=r[G.Input];if(!W.UnresolvedPure&&!W.UnresolvedObject)return;const ge=W.UnresolvedPure?.value??W.UnresolvedObject?.objectId,re=Dn(E.body);if(re){G.type="pure",r[r.indexOf(W)]=mt.Pure(re.serialize(ge));return}if(typeof ge!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(ge,null,2)}`);G.type="object";const Pe=W.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:ge}}:W;r[G.Input]=Pe})}})}function du(t){t.inputs.forEach((e,r)=>{if(e.$kind!=="Object"&&e.$kind!=="Pure")throw new Error(`Input at index ${r} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(e)}`)})}function As(t,e,r){if(t.$kind!=="Input")return;const n=r.inputs[t.Input];n.$kind==="UnresolvedPure"&&(r.inputs[t.Input]=mt.Pure(e.serialize(n.UnresolvedPure.value)))}function fu(t,e){let r=!1;return t.getInputUses(e,(n,s)=>{if(s.MoveCall&&s.MoveCall._argumentTypes){const i=s.MoveCall.arguments.indexOf(n);r=s.MoveCall._argumentTypes[i].ref!=="&"||r}(s.$kind==="MakeMoveVec"||s.$kind==="MergeCoins"||s.$kind==="SplitCoins")&&(r=!0)}),r}function hu(t,e){let r=!1;return t.getInputUses(e,(n,s)=>{if(s.MoveCall&&s.MoveCall._argumentTypes){const i=s.MoveCall.arguments.indexOf(n);r=pu(s.MoveCall._argumentTypes[i])||r}}),r}function pu(t){return typeof t.body!="object"||!("datatype"in t.body)?!1:t.body.datatype.package==="0x2"&&t.body.datatype.module==="transfer"&&t.body.datatype.type==="Receiving"}function Vr(t){if(!t.client)throw new Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return t.client}function mu(t,e){return Array.from({length:Math.ceil(t.length/e)},(r,n)=>t.slice(n*e,n*e+e))}function gu(t){function e(r){return t(r)}return e.system=()=>e("0x5"),e.clock=()=>e("0x6"),e.random=()=>e("0x8"),e.denyList=()=>e("0x403"),e.option=({type:r,value:n})=>s=>s.moveCall({typeArguments:[r],target:`0x1::option::${n===null?"none":"some"}`,arguments:n===null?[]:[s.object(n)]}),e}function yu(t){function e(r,n){if(typeof r=="string")return t(Er(r).serialize(n));if(r instanceof Uint8Array||Kn(r))return t(r);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return e.u8=r=>t(F.U8.serialize(r)),e.u16=r=>t(F.U16.serialize(r)),e.u32=r=>t(F.U32.serialize(r)),e.u64=r=>t(F.U64.serialize(r)),e.u128=r=>t(F.U128.serialize(r)),e.u256=r=>t(F.U256.serialize(r)),e.bool=r=>t(F.Bool.serialize(r)),e.string=r=>t(F.String.serialize(r)),e.address=r=>t(F.Address.serialize(r)),e.id=e.address,e.vector=(r,n)=>t(F.vector(Er(r)).serialize(n)),e.option=(r,n)=>t(F.option(Er(r)).serialize(n)),e}function Er(t){switch(t){case"u8":return F.u8();case"u16":return F.u16();case"u32":return F.u32();case"u64":return F.u64();case"u128":return F.u128();case"u256":return F.u256();case"bool":return F.bool();case"string":return F.string();case"id":case"address":return F.Address}const e=t.match(/^(vector|option)<(.+)>$/);if(e){const[r,n]=e.slice(1);return r==="vector"?F.vector(Er(n)):F.option(Er(n))}throw new Error(`Invalid Pure type name: ${t}`)}function vu(t,e){const r=Array.from(`${t}::`).map(s=>s.charCodeAt(0)),n=new Uint8Array(r.length+e.length);return n.set(r),n.set(e,r.length),Ws(n,{dkLen:32})}function Ms(t){return te(t).replace("0x","")}class Je{constructor(e){this.version=2,this.sender=e?.sender??null,this.expiration=e?.expiration??null,this.inputs=e?.inputs??[],this.commands=e?.commands??[],this.gasData=e?.gasData??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(e){const n=F.TransactionKind.parse(e).ProgrammableTransaction;if(!n)throw new Error("Unable to deserialize from bytes.");return Je.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:n.inputs,commands:n.commands})}static fromBytes(e){const n=F.TransactionData.parse(e)?.V1,s=n.kind.ProgrammableTransaction;if(!n||!s)throw new Error("Unable to deserialize from bytes.");return Je.restore({version:2,sender:n.sender,expiration:n.expiration,gasData:n.gasData,inputs:s.inputs,commands:s.commands})}static restore(e){return e.version===2?new Je(de(Hr,e)):new Je(de(Hr,Wc(e)))}static getDigestFromBytes(e){const r=vu("TransactionData",e);return Wn(r)}get gasConfig(){return this.gasData}set gasConfig(e){this.gasData=e}build({maxSizeBytes:e=1/0,overrides:r,onlyTransactionKind:n}={}){const s=this.inputs,i=this.commands,u={ProgrammableTransaction:{inputs:s,commands:i}};if(n)return F.TransactionKind.serialize(u,{maxSize:e}).toBytes();const o=r?.expiration??this.expiration,h=r?.sender??this.sender,T={...this.gasData,...r?.gasConfig,...r?.gasData};if(!h)throw new Error("Missing transaction sender");if(!T.budget)throw new Error("Missing gas budget");if(!T.payment)throw new Error("Missing gas payment");if(!T.price)throw new Error("Missing gas price");const k={sender:Ms(h),expiration:o||{None:!0},gasData:{payment:T.payment,owner:Ms(this.gasData.owner??h),price:BigInt(T.price),budget:BigInt(T.budget)},kind:{ProgrammableTransaction:{inputs:s,commands:i}}};return F.TransactionData.serialize({V1:k},{maxSize:e}).toBytes()}addInput(e,r){const n=this.inputs.length;return this.inputs.push(r),{Input:n,type:e,$kind:"Input"}}getInputUses(e,r){this.mapArguments((n,s)=>(n.$kind==="Input"&&n.Input===e&&r(n,s),n))}mapArguments(e){for(const r of this.commands)switch(r.$kind){case"MoveCall":r.MoveCall.arguments=r.MoveCall.arguments.map(s=>e(s,r));break;case"TransferObjects":r.TransferObjects.objects=r.TransferObjects.objects.map(s=>e(s,r)),r.TransferObjects.address=e(r.TransferObjects.address,r);break;case"SplitCoins":r.SplitCoins.coin=e(r.SplitCoins.coin,r),r.SplitCoins.amounts=r.SplitCoins.amounts.map(s=>e(s,r));break;case"MergeCoins":r.MergeCoins.destination=e(r.MergeCoins.destination,r),r.MergeCoins.sources=r.MergeCoins.sources.map(s=>e(s,r));break;case"MakeMoveVec":r.MakeMoveVec.elements=r.MakeMoveVec.elements.map(s=>e(s,r));break;case"Upgrade":r.Upgrade.ticket=e(r.Upgrade.ticket,r);break;case"$Intent":const n=r.$Intent.inputs;r.$Intent.inputs={};for(const[s,i]of Object.entries(n))r.$Intent.inputs[s]=Array.isArray(i)?i.map(u=>e(u,r)):e(i,r);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${r.$kind}`)}}replaceCommand(e,r){if(!Array.isArray(r)){this.commands[e]=r;return}const n=r.length-1;this.commands.splice(e,1,...r),n!==0&&this.mapArguments(s=>{switch(s.$kind){case"Result":s.Result>e&&(s.Result+=n);break;case"NestedResult":s.NestedResult[0]>e&&(s.NestedResult[0]+=n);break}return s})}getDigest(){const e=this.build({onlyTransactionKind:!1});return Je.getDigestFromBytes(e)}snapshot(){return de(Hr,this)}}function Ns(t){if(typeof t=="string")return te(t);if(t.Object)return t.Object.ImmOrOwnedObject?te(t.Object.ImmOrOwnedObject.objectId):t.Object.Receiving?te(t.Object.Receiving.objectId):te(t.Object.SharedObject.objectId);if(t.UnresolvedObject)return te(t.UnresolvedObject.objectId)}var Ui=t=>{throw TypeError(t)},ns=(t,e,r)=>e.has(t)||Ui("Cannot "+r),Y=(t,e,r)=>(ns(t,e,"read from private field"),r?r.call(t):e.get(t)),vr=(t,e,r)=>e.has(t)?Ui("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),jt=(t,e,r,n)=>(ns(t,e,"write to private field"),e.set(t,r),r),dt=(t,e,r)=>(ns(t,e,"access private method"),r),wr,Cr,At,Q,ze,Kr,ss,Fn,is;function bu(t){const e={$kind:"Result",Result:t},r=[],n=s=>r[s]??(r[s]={$kind:"NestedResult",NestedResult:[t,s]});return new Proxy(e,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(s,i){if(i in s)return Reflect.get(s,i);if(i===Symbol.iterator)return function*(){let o=0;for(;;)yield n(o),o++};if(typeof i=="symbol")return;const u=parseInt(i,10);if(!(Number.isNaN(u)||u<0))return n(u)}})}const Di=Symbol.for("@mysten/transaction");function $i(t){return!!t&&typeof t=="object"&&t[Di]===!0}const Us={buildPlugins:new Map,serializationPlugins:new Map},Tn=Symbol.for("@mysten/transaction/registry");function br(){try{const t=globalThis;return t[Tn]||(t[Tn]=Us),t[Tn]}catch{return Us}}const _u=class Ln{constructor(){vr(this,ze),vr(this,wr),vr(this,Cr),vr(this,At,new Map),vr(this,Q),this.object=gu(r=>{if(typeof r=="function")return this.object(r(this));if(typeof r=="object"&&Nn(ie,r))return r;const n=Ns(r),s=Y(this,Q).inputs.find(i=>n===Ns(i));return s?.Object?.SharedObject&&typeof r=="object"&&r.Object?.SharedObject&&(s.Object.SharedObject.mutable=s.Object.SharedObject.mutable||r.Object.SharedObject.mutable),s?{$kind:"Input",Input:Y(this,Q).inputs.indexOf(s),type:"object"}:Y(this,Q).addInput("object",typeof r=="string"?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:te(r)}}:r)});const e=br();jt(this,Q,new Je),jt(this,Cr,[...e.buildPlugins.values()]),jt(this,wr,[...e.serializationPlugins.values()])}static fromKind(e){const r=new Ln;return jt(r,Q,Je.fromKindBytes(typeof e=="string"?nt(e):e)),r}static from(e){const r=new Ln;return $i(e)?jt(r,Q,new Je(e.getData())):typeof e!="string"||!e.startsWith("{")?jt(r,Q,Je.fromBytes(typeof e=="string"?nt(e):e)):jt(r,Q,Je.restore(JSON.parse(e))),r}static registerGlobalSerializationPlugin(e,r){br().serializationPlugins.set(e,r??e)}static unregisterGlobalSerializationPlugin(e){br().serializationPlugins.delete(e)}static registerGlobalBuildPlugin(e,r){br().buildPlugins.set(e,r??e)}static unregisterGlobalBuildPlugin(e){br().buildPlugins.delete(e)}addSerializationPlugin(e){Y(this,wr).push(e)}addBuildPlugin(e){Y(this,Cr).push(e)}addIntentResolver(e,r){if(Y(this,At).has(e)&&Y(this,At).get(e)!==r)throw new Error(`Intent resolver for ${e} already exists`);Y(this,At).set(e,r)}setSender(e){Y(this,Q).sender=e}setSenderIfNotSet(e){Y(this,Q).sender||(Y(this,Q).sender=e)}setExpiration(e){Y(this,Q).expiration=e?de(Mi,e):null}setGasPrice(e){Y(this,Q).gasConfig.price=String(e)}setGasBudget(e){Y(this,Q).gasConfig.budget=String(e)}setGasBudgetIfNotSet(e){Y(this,Q).gasData.budget==null&&(Y(this,Q).gasConfig.budget=String(e))}setGasOwner(e){Y(this,Q).gasConfig.owner=e}setGasPayment(e){Y(this,Q).gasConfig.payment=e.map(r=>de(Tt,r))}get blockData(){return Rs(Y(this,Q).snapshot())}getData(){return Y(this,Q).snapshot()}get[Di](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:yu(e=>Kn(e)?Y(this,Q).addInput("pure",{$kind:"Pure",Pure:{bytes:e.toBase64()}}):Y(this,Q).addInput("pure",Nn(Is,e)?de(Is,e):e instanceof Uint8Array?mt.Pure(e):{$kind:"UnresolvedPure",UnresolvedPure:{value:e}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...e){return this.object(mt.ObjectRef(...e))}receivingRef(...e){return this.object(mt.ReceivingRef(...e))}sharedObjectRef(...e){return this.object(mt.SharedObjectRef(...e))}add(e){if(typeof e=="function")return e(this);const r=Y(this,Q).commands.push(e);return bu(r-1)}splitCoins(e,r){return this.add(It.SplitCoins(typeof e=="string"?this.object(e):dt(this,ze,ss).call(this,e),r.map(n=>typeof n=="number"||typeof n=="bigint"||typeof n=="string"?this.pure.u64(n):dt(this,ze,Kr).call(this,n))))}mergeCoins(e,r){return this.add(It.MergeCoins(this.object(e),r.map(n=>this.object(n))))}publish({modules:e,dependencies:r}){return this.add(It.Publish({modules:e,dependencies:r}))}upgrade({modules:e,dependencies:r,package:n,ticket:s}){return this.add(It.Upgrade({modules:e,dependencies:r,package:n,ticket:this.object(s)}))}moveCall({arguments:e,...r}){return this.add(It.MoveCall({...r,arguments:e?.map(n=>dt(this,ze,Kr).call(this,n))}))}transferObjects(e,r){return this.add(It.TransferObjects(e.map(n=>this.object(n)),typeof r=="string"?this.pure.address(r):dt(this,ze,Kr).call(this,r)))}makeMoveVec({type:e,elements:r}){return this.add(It.MakeMoveVec({type:e,elements:r.map(n=>this.object(n))}))}serialize(){return JSON.stringify(Rs(Y(this,Q).snapshot()))}async toJSON(e={}){return await this.prepareForSerialization(e),JSON.stringify(de(tu,Y(this,Q).snapshot()),(r,n)=>typeof n=="bigint"?n.toString():n,2)}async sign(e){const{signer:r,...n}=e,s=await this.build(n);return r.signTransaction(s)}async build(e={}){return await this.prepareForSerialization(e),await dt(this,ze,Fn).call(this,e),Y(this,Q).build({onlyTransactionKind:e.onlyTransactionKind})}async getDigest(e={}){return await dt(this,ze,Fn).call(this,e),Y(this,Q).getDigest()}async prepareForSerialization(e){const r=new Set;for(const s of Y(this,Q).commands)s.$Intent&&r.add(s.$Intent.name);const n=[...Y(this,wr)];for(const s of r)if(!e.supportedIntents?.includes(s)){if(!Y(this,At).has(s))throw new Error(`Missing intent resolver for ${s}`);n.push(Y(this,At).get(s))}await dt(this,ze,is).call(this,n,e)}};wr=new WeakMap;Cr=new WeakMap;At=new WeakMap;Q=new WeakMap;ze=new WeakSet;Kr=function(t){return Kn(t)?this.pure(t):dt(this,ze,ss).call(this,t)};ss=function(t){return typeof t=="function"?de(ie,t(this)):de(ie,t)};Fn=async function(t){if(!t.onlyTransactionKind&&!Y(this,Q).sender)throw new Error("Missing transaction sender");await dt(this,ze,is).call(this,[...Y(this,Cr),iu],t)};is=async function(t,e){const r=n=>{if(n>=t.length)return()=>{};const s=t[n];return async()=>{const i=r(n+1);let u=!1,o=!1;if(await s(Y(this,Q),e,async()=>{if(u)throw new Error(`next() was call multiple times in TransactionPlugin ${n}`);u=!0,await i(),o=!0}),!u)throw new Error(`next() was not called in TransactionPlugin ${n}`);if(!o)throw new Error(`next() was not awaited in TransactionPlugin ${n}`)}};await r(0)()};let Fl=_u;const wu="1.14.3",Su="1.38.0",ku={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};class Bi extends Error{}class Fi extends Bi{constructor(e,r){super(e),this.code=r,this.type=ku[r]??"ServerError"}}class Ou extends Bi{constructor(e,r,n){super(e),this.status=r,this.statusText=n}}var Li=t=>{throw TypeError(t)},as=(t,e,r)=>e.has(t)||Li("Cannot "+r),le=(t,e,r)=>(as(t,e,"read from private field"),r?r.call(t):e.get(t)),Pt=(t,e,r)=>e.has(t)?Li("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Xt=(t,e,r,n)=>(as(t,e,"write to private field"),e.set(t,r),r),Vi=(t,e,r)=>(as(t,e,"access private method"),r),Tu=(t,e,r,n)=>({set _(s){Xt(t,e,s)},get _(){return le(t,e,n)}}),Mt,xr,ft,Nt,Mr,Yt,Qr,Zi,qi;function Eu(t){const e=new URL(t);return e.protocol=e.protocol.replace("http","ws"),e.toString()}const Cu={WebSocketConstructor:typeof WebSocket<"u"?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class xu{constructor(e,r={}){if(Pt(this,Qr),Pt(this,Mt,0),Pt(this,xr,0),Pt(this,ft,null),Pt(this,Nt,null),Pt(this,Mr,new Set),Pt(this,Yt,new Map),this.endpoint=e,this.options={...Cu,...r},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=Eu(this.endpoint))}async makeRequest(e,r){const n=await Vi(this,Qr,Zi).call(this);return new Promise((s,i)=>{Xt(this,Mt,le(this,Mt)+1),le(this,Yt).set(le(this,Mt),{resolve:s,reject:i,timeout:setTimeout(()=>{le(this,Yt).delete(le(this,Mt)),i(new Error(`Request timeout: ${e}`))},this.options.callTimeout)}),n.send(JSON.stringify({jsonrpc:"2.0",id:le(this,Mt),method:e,params:r}))}).then(({error:s,result:i})=>{if(s)throw new Fi(s.message,s.code);return i})}async subscribe(e){const r=new Iu(e);return le(this,Mr).add(r),await r.subscribe(this),()=>r.unsubscribe(this)}}Mt=new WeakMap;xr=new WeakMap;ft=new WeakMap;Nt=new WeakMap;Mr=new WeakMap;Yt=new WeakMap;Qr=new WeakSet;Zi=function(){return le(this,Nt)?le(this,Nt):(Xt(this,Nt,new Promise(t=>{le(this,ft)?.close(),Xt(this,ft,new this.options.WebSocketConstructor(this.endpoint)),le(this,ft).addEventListener("open",()=>{Xt(this,xr,0),t(le(this,ft))}),le(this,ft).addEventListener("close",()=>{Tu(this,xr)._++,le(this,xr)<=this.options.maxReconnects&&setTimeout(()=>{Vi(this,Qr,qi).call(this)},this.options.reconnectTimeout)}),le(this,ft).addEventListener("message",({data:e})=>{let r;try{r=JSON.parse(e)}catch(n){console.error(new Error(`Failed to parse RPC message: ${e}`,{cause:n}));return}if("id"in r&&r.id!=null&&le(this,Yt).has(r.id)){const{resolve:n,timeout:s}=le(this,Yt).get(r.id);clearTimeout(s),n(r)}else if("params"in r){const{params:n}=r;le(this,Mr).forEach(s=>{s.subscriptionId===n.subscription&&n.subscription===s.subscriptionId&&s.onMessage(n.result)})}})})),le(this,Nt))};qi=async function(){return le(this,ft)?.close(),Xt(this,Nt,null),Promise.allSettled([...le(this,Mr)].map(t=>t.subscribe(this)))};class Iu{constructor(e){this.subscriptionId=null,this.subscribed=!1,this.input=e}onMessage(e){this.subscribed&&this.input.onMessage(e)}async unsubscribe(e){const{subscriptionId:r}=this;return this.subscribed=!1,r==null?!1:(this.subscriptionId=null,e.makeRequest(this.input.unsubscribe,[r]))}async subscribe(e){this.subscriptionId=null,this.subscribed=!0;const r=await e.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=r)}}var zi=t=>{throw TypeError(t)},os=(t,e,r)=>e.has(t)||zi("Cannot "+r),Be=(t,e,r)=>(os(t,e,"read from private field"),r?r.call(t):e.get(t)),Wr=(t,e,r)=>e.has(t)?zi("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Vn=(t,e,r,n)=>(os(t,e,"write to private field"),e.set(t,r),r),ju=(t,e,r)=>(os(t,e,"access private method"),r),Sr,Ge,Ir,Zn,Gi;class Pu{constructor(e){Wr(this,Zn),Wr(this,Sr,0),Wr(this,Ge),Wr(this,Ir),Vn(this,Ge,e)}fetch(e,r){const n=Be(this,Ge).fetch??fetch;if(!n)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return n(e,r)}async request(e){Vn(this,Sr,Be(this,Sr)+1);const r=await this.fetch(Be(this,Ge).rpc?.url??Be(this,Ge).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":wu,"Client-Target-Api-Version":Su,...Be(this,Ge).rpc?.headers},body:JSON.stringify({jsonrpc:"2.0",id:Be(this,Sr),method:e.method,params:e.params})});if(!r.ok)throw new Ou(`Unexpected status code: ${r.status}`,r.status,r.statusText);const n=await r.json();if("error"in n&&n.error!=null)throw new Fi(n.error.message,n.error.code);return n.result}async subscribe(e){const r=await ju(this,Zn,Gi).call(this).subscribe(e);return async()=>!!await r()}}Sr=new WeakMap;Ge=new WeakMap;Ir=new WeakMap;Zn=new WeakSet;Gi=function(){if(!Be(this,Ir)){const t=Be(this,Ge).WebSocketConstructor??WebSocket;if(!t)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");Vn(this,Ir,new xu(Be(this,Ge).websocket?.url??Be(this,Ge).url,{WebSocketConstructor:t,...Be(this,Ge).websocket}))}return Be(this,Ir)};function Ll(t){switch(t){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${t}`)}}const Wi=Symbol.for("@mysten/SuiClient");function Vl(t){return typeof t=="object"&&t!==null&&t[Wi]===!0}class Zl{get[Wi](){return!0}constructor(e){this.transport=e.transport??new Pu({url:e.url})}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(e){if(!e.owner||!et(te(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[e.owner,e.coinType,e.cursor,e.limit]})}async getAllCoins(e){if(!e.owner||!et(te(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[e.owner,e.cursor,e.limit]})}async getBalance(e){if(!e.owner||!et(te(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[e.owner,e.coinType]})}async getAllBalances(e){if(!e.owner||!et(te(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[e.owner]})}async getCoinMetadata(e){return await this.transport.request({method:"suix_getCoinMetadata",params:[e.coinType]})}async getTotalSupply(e){return await this.transport.request({method:"suix_getTotalSupply",params:[e.coinType]})}async call(e,r){return await this.transport.request({method:e,params:r})}async getMoveFunctionArgTypes(e){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[e.package,e.module,e.function]})}async getNormalizedMoveModulesByPackage(e){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[e.package]})}async getNormalizedMoveModule(e){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[e.package,e.module]})}async getNormalizedMoveFunction(e){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[e.package,e.module,e.function]})}async getNormalizedMoveStruct(e){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[e.package,e.module,e.struct]})}async getOwnedObjects(e){if(!e.owner||!et(te(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit]})}async getObject(e){if(!e.id||!_r(tt(e.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[e.id,e.options]})}async tryGetPastObject(e){return await this.transport.request({method:"sui_tryGetPastObject",params:[e.id,e.version,e.options]})}async multiGetObjects(e){if(e.ids.forEach(n=>{if(!n||!_r(tt(n)))throw new Error(`Invalid Sui Object id ${n}`)}),e.ids.length!==new Set(e.ids).size)throw new Error(`Duplicate object ids in batch call ${e.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[e.ids,e.options]})}async queryTransactionBlocks(e){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:e.filter,options:e.options},e.cursor,e.limit,(e.order||"descending")==="descending"]})}async getTransactionBlock(e){if(!Un(e.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[e.digest,e.options]})}async multiGetTransactionBlocks(e){if(e.digests.forEach(n=>{if(!Un(n))throw new Error(`Invalid Transaction digest ${n}`)}),e.digests.length!==new Set(e.digests).size)throw new Error(`Duplicate digests in batch call ${e.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[e.digests,e.options]})}async executeTransactionBlock({transactionBlock:e,signature:r,options:n,requestType:s}){const i=await this.transport.request({method:"sui_executeTransactionBlock",params:[typeof e=="string"?e:we(e),Array.isArray(r)?r:[r],n]});if(s==="WaitForLocalExecution")try{await this.waitForTransaction({digest:i.digest})}catch{}return i}async signAndExecuteTransaction({transaction:e,signer:r,...n}){let s;e instanceof Uint8Array?s=e:(e.setSenderIfNotSet(r.toSuiAddress()),s=await e.build({client:this}));const{signature:i,bytes:u}=await r.signTransaction(s);return this.executeTransactionBlock({transactionBlock:u,signature:i,...n})}async getTotalTransactionBlocks(){const e=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[]});return BigInt(e)}async getReferenceGasPrice(){const e=await this.transport.request({method:"suix_getReferenceGasPrice",params:[]});return BigInt(e)}async getStakes(e){if(!e.owner||!et(te(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[e.owner]})}async getStakesByIds(e){return e.stakedSuiIds.forEach(r=>{if(!r||!_r(tt(r)))throw new Error(`Invalid Sui Stake id ${r}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[e.stakedSuiIds]})}async getLatestSuiSystemState(){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[]})}async queryEvents(e){return await this.transport.request({method:"suix_queryEvents",params:[e.query,e.cursor,e.limit,(e.order||"descending")==="descending"]})}async subscribeEvent(e){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[e.filter],onMessage:e.onMessage})}async subscribeTransaction(e){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[e.filter],onMessage:e.onMessage})}async devInspectTransactionBlock(e){let r;if($i(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(e.sender),r=we(await e.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if(typeof e.transactionBlock=="string")r=e.transactionBlock;else if(e.transactionBlock instanceof Uint8Array)r=we(e.transactionBlock);else throw new Error("Unknown transaction block format.");return await this.transport.request({method:"sui_devInspectTransactionBlock",params:[e.sender,r,e.gasPrice?.toString(),e.epoch]})}async dryRunTransactionBlock(e){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:[typeof e.transactionBlock=="string"?e.transactionBlock:we(e.transactionBlock)]})}async getDynamicFields(e){if(!e.parentId||!_r(tt(e.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[e.parentId,e.cursor,e.limit]})}async getDynamicFieldObject(e){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[e.parentId,e.name]})}async getLatestCheckpointSequenceNumber(){const e=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[]});return String(e)}async getCheckpoint(e){return await this.transport.request({method:"sui_getCheckpoint",params:[e.id]})}async getCheckpoints(e){return await this.transport.request({method:"sui_getCheckpoints",params:[e.cursor,e?.limit,e.descendingOrder]})}async getCommitteeInfo(e){return await this.transport.request({method:"suix_getCommitteeInfo",params:[e?.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"suix_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[]})}async getEpochMetrics(e){return await this.transport.request({method:"suix_getEpochMetrics",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getAllEpochAddressMetrics(e){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[e?.descendingOrder]})}async getEpochs(e){return await this.transport.request({method:"suix_getEpochs",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"suix_getCurrentEpoch",params:[]})}async getValidatorsApy(){return await this.transport.request({method:"suix_getValidatorsApy",params:[]})}async getChainIdentifier(){const e=await this.getCheckpoint({id:"0"}),r=jr(e.digest);return Pr(r.slice(0,4))}async resolveNameServiceAddress(e){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[e.name]})}async resolveNameServiceNames({format:e="dot",...r}){const{nextCursor:n,hasNextPage:s,data:i}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[r.address,r.cursor,r.limit]});return{hasNextPage:s,nextCursor:n,data:i.map(u=>si(u,e))}}async getProtocolConfig(e){return await this.transport.request({method:"sui_getProtocolConfig",params:[e?.version]})}async waitForTransaction({signal:e,timeout:r=60*1e3,pollInterval:n=2*1e3,...s}){const i=AbortSignal.timeout(r),u=new Promise((o,h)=>{i.addEventListener("abort",()=>h(i.reason))});for(u.catch(()=>{});!i.aborted;){e?.throwIfAborted();try{return await this.getTransactionBlock(s)}catch{await Promise.race([new Promise(h=>setTimeout(h,n)),u])}}throw i.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}}var Ru={},ln={},cs={},dn={},us={},fn={};Object.defineProperty(fn,"__esModule",{value:!0});fn.Convert=void 0;class Au{static toPriceFeed(e){return En(e,ht("PriceFeed"))}static priceFeedToJson(e){return Cn(e,ht("PriceFeed"))}static toPrice(e){return En(e,ht("Price"))}static priceToJson(e){return Cn(e,ht("Price"))}static toPriceFeedMetadata(e){return En(e,ht("PriceFeedMetadata"))}static priceFeedMetadataToJson(e){return Cn(e,ht("PriceFeedMetadata"))}}fn.Convert=Au;function ut(t,e,r=""){throw Error(r?`Invalid value for key "${r}". Expected type ${JSON.stringify(t)} but got ${JSON.stringify(e)}`:`Invalid value ${JSON.stringify(e)} for type ${JSON.stringify(t)}`)}function Mu(t){if(t.jsonToJS===void 0){const e={};t.props.forEach(r=>e[r.json]={key:r.js,typ:r.typ}),t.jsonToJS=e}return t.jsonToJS}function Nu(t){if(t.jsToJSON===void 0){const e={};t.props.forEach(r=>e[r.js]={key:r.json,typ:r.typ}),t.jsToJSON=e}return t.jsToJSON}function Kt(t,e,r,n=""){function s(k,E){return typeof k==typeof E?E:ut(k,E,n)}function i(k,E){const N=k.length;for(let G=0;G<N;G++){const W=k[G];try{return Kt(E,W,r)}catch{}}return ut(k,E)}function u(k,E){return k.indexOf(E)!==-1?E:ut(k,E)}function o(k,E){return Array.isArray(E)?E.map(N=>Kt(N,k,r)):ut("array",E)}function h(k){if(k===null)return null;const E=new Date(k);return isNaN(E.valueOf())?ut("Date",k):E}function T(k,E,N){if(N===null||typeof N!="object"||Array.isArray(N))return ut("object",N);const G={};return Object.getOwnPropertyNames(k).forEach(W=>{const ge=k[W],re=Object.prototype.hasOwnProperty.call(N,W)?N[W]:void 0;G[ge.key]=Kt(re,ge.typ,r,ge.key)}),Object.getOwnPropertyNames(N).forEach(W=>{Object.prototype.hasOwnProperty.call(k,W)||(G[W]=Kt(N[W],E,r,W))}),G}if(e==="any")return t;if(e===null)return t===null?t:ut(e,t);if(e===!1)return ut(e,t);for(;typeof e=="object"&&e.ref!==void 0;)e=Uu[e.ref];return Array.isArray(e)?u(e,t):typeof e=="object"?e.hasOwnProperty("unionMembers")?i(e.unionMembers,t):e.hasOwnProperty("arrayItems")?o(e.arrayItems,t):e.hasOwnProperty("props")?T(r(e),e.additional,t):ut(e,t):e===Date&&typeof t!="number"?h(t):s(e,t)}function En(t,e){return Kt(t,e,Mu)}function Cn(t,e){return Kt(t,e,Nu)}function Rt(...t){return{unionMembers:t}}function xn(t,e){return{props:t,additional:e}}function ht(t){return{ref:t}}const Uu={PriceFeed:xn([{json:"ema_price",js:"ema_price",typ:ht("Price")},{json:"id",js:"id",typ:""},{json:"metadata",js:"metadata",typ:Rt(void 0,ht("PriceFeedMetadata"))},{json:"price",js:"price",typ:ht("Price")},{json:"vaa",js:"vaa",typ:Rt(void 0,"")}],"any"),Price:xn([{json:"conf",js:"conf",typ:""},{json:"expo",js:"expo",typ:0},{json:"price",js:"price",typ:""},{json:"publish_time",js:"publish_time",typ:0}],"any"),PriceFeedMetadata:xn([{json:"attestation_time",js:"attestation_time",typ:Rt(void 0,0)},{json:"emitter_chain",js:"emitter_chain",typ:0},{json:"prev_publish_time",js:"prev_publish_time",typ:Rt(void 0,0)},{json:"price_service_receive_time",js:"price_service_receive_time",typ:Rt(void 0,0)},{json:"sequence_number",js:"sequence_number",typ:Rt(void 0,0)},{json:"slot",js:"slot",typ:Rt(void 0,0)}],"any")};var rt={},Du=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rt,"__esModule",{value:!0});rt.parseAccumulatorUpdateData=rt.sliceAccumulatorUpdateData=rt.parsePriceFeedMessage=rt.isAccumulatorUpdateData=void 0;const zt=Du(ro),$u="504e4155",Bu=1,Fu=0,qn=20,Lu=0;function ls(t){return t.toString("hex").slice(0,8)===$u&&t[4]===Bu&&t[5]===Fu}rt.isAccumulatorUpdateData=ls;function Vu(t){let e=0;if(t.readUInt8(e)!==Lu)throw new Error("Not a price feed message");e+=1;const n=t.subarray(e,e+32);e+=32;const s=new zt.default(t.subarray(e,e+8),"be");e+=8;const i=new zt.default(t.subarray(e,e+8),"be");e+=8;const u=t.readInt32BE(e);e+=4;const o=new zt.default(t.subarray(e,e+8),"be");e+=8;const h=new zt.default(t.subarray(e,e+8),"be");e+=8;const T=new zt.default(t.subarray(e,e+8),"be");e+=8;const k=new zt.default(t.subarray(e,e+8),"be");return e+=8,{feedId:n,price:s,confidence:i,exponent:u,publishTime:o,prevPublishTime:h,emaPrice:T,emaConf:k}}rt.parsePriceFeedMessage=Vu;function Zu(t,e,r){if(!ls(t))throw new Error("Invalid accumulator message");let n=6;const s=t.readUint8(n);n+=1+s,n+=1;const i=t.readUint16BE(n);n+=2,n+=i;const u=n,o=[],h=t.readUInt8(n);n+=1;for(let k=0;k<h;k++){const E=n,N=t.readUint16BE(n);n+=2,n+=N;const G=t.readUInt8(n);n+=1,n+=qn*G,o.push(t.subarray(E,n))}if(n!==t.length)throw new Error("Didn't reach the end of the message");const T=o.slice(e,r);return ws.concat([t.subarray(0,u),ws.from([T.length]),...o.slice(e,r)])}rt.sliceAccumulatorUpdateData=Zu;function qu(t){if(!ls(t))throw new Error("Invalid accumulator message");let e=6;const r=t.readUint8(e);e+=1+r,e+=1;const n=t.readUint16BE(e);e+=2;const s=t.subarray(e,e+n);e+=n;const i=t.readUInt8(e),u=[];e+=1;for(let o=0;o<i;o++){const h=t.readUint16BE(e);e+=2;const T=t.subarray(e,e+h);e+=h;const k=t.readUInt8(e);e+=1;const E=[];for(let N=0;N<k;N++)E.push(Array.from(t.subarray(e,e+qn))),e+=qn;u.push({message:T,proof:E})}if(e!==t.length)throw new Error("Didn't reach the end of the message");return{vaa:s,updates:u}}rt.parseAccumulatorUpdateData=qu;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PriceFeed=t.PriceFeedMetadata=t.Price=t.parsePriceFeedMessage=t.parseAccumulatorUpdateData=t.sliceAccumulatorUpdateData=t.isAccumulatorUpdateData=void 0;const e=fn;var r=rt;Object.defineProperty(t,"isAccumulatorUpdateData",{enumerable:!0,get:function(){return r.isAccumulatorUpdateData}}),Object.defineProperty(t,"sliceAccumulatorUpdateData",{enumerable:!0,get:function(){return r.sliceAccumulatorUpdateData}}),Object.defineProperty(t,"parseAccumulatorUpdateData",{enumerable:!0,get:function(){return r.parseAccumulatorUpdateData}}),Object.defineProperty(t,"parsePriceFeedMessage",{enumerable:!0,get:function(){return r.parsePriceFeedMessage}});class n{constructor(o){H(this,"conf");H(this,"expo");H(this,"price");H(this,"publishTime");this.conf=o.conf,this.expo=o.expo,this.price=o.price,this.publishTime=o.publishTime}getPriceAsNumberUnchecked(){return Number(this.price)*10**this.expo}getConfAsNumberUnchecked(){return Number(this.conf)*10**this.expo}static fromJson(o){const h=e.Convert.toPrice(o);return new n({conf:h.conf,expo:h.expo,price:h.price,publishTime:h.publish_time})}toJson(){const o={conf:this.conf,expo:this.expo,price:this.price,publish_time:this.publishTime};return e.Convert.priceToJson(o)}}t.Price=n;class s{constructor(o){H(this,"attestationTime");H(this,"emitterChain");H(this,"priceServiceReceiveTime");H(this,"sequenceNumber");H(this,"slot");H(this,"prevPublishTime");this.attestationTime=o.attestationTime,this.emitterChain=o.emitterChain,this.priceServiceReceiveTime=o.receiveTime,this.sequenceNumber=o.sequenceNumber,this.slot=o.slot,this.prevPublishTime=o.prevPublishTime}static fromJson(o){if(o===void 0)return;const h=e.Convert.toPriceFeedMetadata(o);return new s({attestationTime:h.attestation_time,emitterChain:h.emitter_chain,receiveTime:h.price_service_receive_time,sequenceNumber:h.sequence_number,slot:h.slot,prevPublishTime:h.prev_publish_time})}toJson(){const o={attestation_time:this.attestationTime,emitter_chain:this.emitterChain,price_service_receive_time:this.priceServiceReceiveTime,sequence_number:this.sequenceNumber,slot:this.slot,prev_publish_time:this.prevPublishTime};return e.Convert.priceFeedMetadataToJson(o)}}t.PriceFeedMetadata=s;let i=class Ji{constructor(o){H(this,"emaPrice");H(this,"id");H(this,"metadata");H(this,"vaa");H(this,"price");this.emaPrice=o.emaPrice,this.id=o.id,this.metadata=o.metadata,this.vaa=o.vaa,this.price=o.price}static fromJson(o){const h=e.Convert.toPriceFeed(o);return new Ji({emaPrice:n.fromJson(h.ema_price),id:h.id,metadata:s.fromJson(h.metadata),vaa:h.vaa,price:n.fromJson(h.price)})}toJson(){const o={ema_price:this.emaPrice.toJson(),id:this.id,metadata:this.metadata?.toJson(),price:this.price.toJson()};return e.Convert.priceFeedToJson(o)}getPriceUnchecked(){return this.price}getEmaPriceUnchecked(){return this.emaPrice}getPriceNoOlderThan(o){const h=this.getPriceUnchecked(),T=Math.floor(Date.now()/1e3);if(!(Math.abs(T-h.publishTime)>o))return h}getEmaPriceNoOlderThan(o){const h=this.getEmaPriceUnchecked(),T=Math.floor(Date.now()/1e3);if(!(Math.abs(T-h.publishTime)>o))return h}getMetadata(){return this.metadata}getVAA(){return this.vaa}};t.PriceFeed=i})(us);const zu=cn(_o);var ds={exports:{}},Ie={},Hi={exports:{}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Hi);var Gu=Hi.exports;const Wu=cn(To);var In,Ds;function Ju(){if(Ds)return In;Ds=1;const t=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);return In=e=>!t.has(e&&e.code),In}var Zr=Gu;Object.defineProperty(Ie,"__esModule",{value:!0});Ie.isNetworkError=hs;Ie.isRetryableError=hn;Ie.isSafeRequestError=Yi;Ie.isIdempotentRequestError=ps;Ie.isNetworkOrIdempotentRequestError=ms;Ie.exponentialDelay=Qi;Ie.default=Zt;Ie.DEFAULT_OPTIONS=Ie.namespace=void 0;var en=Zr(xo()),Hu=Zr(Ys()),Ki=Zr(Eo()),Ku=Zr(Wu),Xu=Zr(Ju());function $s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$s(Object(r),!0).forEach(function(n){(0,Ku.default)(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$s(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var fs="axios-retry";Ie.namespace=fs;function hs(t){var e=["ERR_CANCELED","ECONNABORTED"];return!t.response&&!!t.code&&!e.includes(t.code)&&(0,Xu.default)(t)}var Xi=["get","head","options"],Yu=Xi.concat(["put","delete"]);function hn(t){return t.code!=="ECONNABORTED"&&(!t.response||t.response.status>=500&&t.response.status<=599)}function Yi(t){return t.config?hn(t)&&Xi.indexOf(t.config.method)!==-1:!1}function ps(t){return t.config?hn(t)&&Yu.indexOf(t.config.method)!==-1:!1}function ms(t){return hs(t)||ps(t)}function Qu(){return 0}function Qi(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,r=Math.pow(2,t)*e,n=r*.2*Math.random();return r+n}var ea={retries:3,retryCondition:ms,retryDelay:Qu,shouldResetTimeout:!1,onRetry:function(){}};Ie.DEFAULT_OPTIONS=ea;function el(t,e){return jn(jn(jn({},ea),e),t[fs])}function Bs(t,e){var r=el(t,e);return r.retryCount=r.retryCount||0,t[fs]=r,r}function tl(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}function rl(t,e){return zn.apply(this,arguments)}function zn(){return zn=(0,Ki.default)(en.default.mark(function t(e,r){var n,s,i,u;return en.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(n=e.retries,s=e.retryCondition,i=e.retryCount<n&&s(r),(0,Hu.default)(i)!=="object"){h.next=13;break}return h.prev=3,h.next=6,i;case 6:return u=h.sent,h.abrupt("return",u!==!1);case 10:return h.prev=10,h.t0=h.catch(3),h.abrupt("return",!1);case 13:return h.abrupt("return",i);case 14:case"end":return h.stop()}},t,null,[[3,10]])})),zn.apply(this,arguments)}function Zt(t,e){var r=t.interceptors.request.use(function(s){var i=Bs(s,e);return i.lastRequestTime=Date.now(),s}),n=t.interceptors.response.use(null,function(){var s=(0,Ki.default)(en.default.mark(function i(u){var o,h,T,k,E,N,G,W;return en.default.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(o=u.config,o){re.next=3;break}return re.abrupt("return",Promise.reject(u));case 3:return h=Bs(o,e),re.next=6,rl(h,u);case 6:if(!re.sent){re.next=21;break}if(h.retryCount+=1,T=h.retryDelay,k=h.shouldResetTimeout,E=h.onRetry,N=T(h.retryCount,u),tl(t,o),!(!k&&o.timeout&&h.lastRequestTime)){re.next=17;break}if(G=Date.now()-h.lastRequestTime,W=o.timeout-G-N,!(W<=0)){re.next=16;break}return re.abrupt("return",Promise.reject(u));case 16:o.timeout=W;case 17:return o.transformRequest=[function(Pe){return Pe}],re.next=20,E(h.retryCount,u,o);case 20:return re.abrupt("return",new Promise(function(Pe){return setTimeout(function(){return Pe(t(o))},N)}));case 21:return re.abrupt("return",Promise.reject(u));case 22:case"end":return re.stop()}},i)}));return function(i){return s.apply(this,arguments)}}());return{requestInterceptorId:r,responseInterceptorId:n}}Zt.isNetworkError=hs;Zt.isSafeRequestError=Yi;Zt.isIdempotentRequestError=ps;Zt.isNetworkOrIdempotentRequestError=ms;Zt.exponentialDelay=Qi;Zt.isRetryableError=hn;const ta=Ie.default;ds.exports=ta;ds.exports.default=ta;var nl=ds.exports,pn={},Wt=null;typeof WebSocket<"u"?Wt=WebSocket:typeof MozWebSocket<"u"?Wt=MozWebSocket:typeof gt<"u"?Wt=gt.WebSocket||gt.MozWebSocket:typeof window<"u"?Wt=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Wt=self.WebSocket||self.MozWebSocket);var sl=Wt,il=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pn,"__esModule",{value:!0});pn.ResilientWebSocket=void 0;const al=il(sl),ol=33e3;class cl{constructor(e,r){H(this,"endpoint");H(this,"wsClient");H(this,"wsUserClosed");H(this,"wsFailedAttempts");H(this,"pingTimeout");H(this,"logger");H(this,"onError");H(this,"onMessage");H(this,"onReconnect");this.endpoint=e,this.logger=r,this.wsFailedAttempts=0,this.onError=n=>{this.logger?.error(n)},this.wsUserClosed=!0,this.onMessage=()=>{},this.onReconnect=()=>{}}async send(e){this.logger?.info(`Sending ${e}`),await this.waitForMaybeReadyWebSocket(),this.wsClient===void 0?this.logger?.error("Couldn't connect to the websocket server. Error callback is called."):this.wsClient?.send(e)}async startWebSocket(){this.wsClient===void 0&&(this.logger?.info("Creating Web Socket client"),this.wsClient=new al.default(this.endpoint),this.wsUserClosed=!1,this.wsClient.onopen=()=>{this.wsFailedAttempts=0,this.wsClient.on!==void 0&&this.heartbeat()},this.wsClient.onerror=e=>{this.onError(e.error)},this.wsClient.onmessage=e=>{this.onMessage(e.data)},this.wsClient.onclose=async()=>{if(this.pingTimeout!==void 0&&clearInterval(this.pingTimeout),this.wsUserClosed===!1){this.wsFailedAttempts+=1,this.wsClient=void 0;const e=ul(this.wsFailedAttempts);this.logger?.error(`Connection closed unexpectedly or because of timeout. Reconnecting after ${e}ms.`),await Fs(e),this.restartUnexpectedClosedWebsocket()}else this.logger?.info("The connection has been closed successfully.")},this.wsClient.on!==void 0&&this.wsClient.on("ping",this.heartbeat.bind(this)))}heartbeat(){this.logger?.info("Heartbeat"),this.pingTimeout!==void 0&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{this.logger?.warn("Connection timed out. Reconnecting..."),this.wsClient?.terminate(),this.restartUnexpectedClosedWebsocket()},ol)}async waitForMaybeReadyWebSocket(){let e=0;for(;this.wsClient!==void 0&&this.wsClient.readyState!==this.wsClient.OPEN;)if(e>5e3){this.wsClient.close();return}else e+=10,await Fs(10)}async restartUnexpectedClosedWebsocket(){if(this.wsUserClosed!==!0){if(await this.startWebSocket(),await this.waitForMaybeReadyWebSocket(),this.wsClient===void 0){this.logger?.error("Couldn't reconnect to websocket. Error callback is called.");return}this.onReconnect()}}closeWebSocket(){if(this.wsClient!==void 0){const e=this.wsClient;this.wsClient=void 0,e.close()}this.wsUserClosed=!0}}pn.ResilientWebSocket=cl;async function Fs(t){return new Promise(e=>setTimeout(e,t))}function ul(t){return 2**t*100}var er={};Object.defineProperty(er,"__esModule",{value:!0});er.removeLeading0xIfExists=er.makeWebsocketUrl=void 0;function ll(t){const e=new URL("ws",t),r=e.protocol==="https:";return e.protocol=r?"wss:":"ws:",e.toString()}er.makeWebsocketUrl=ll;function dl(t){return t.startsWith("0x")?t.substring(2):t}er.removeLeading0xIfExists=dl;var ra=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dn,"__esModule",{value:!0});dn.PriceServiceConnection=void 0;const Pn=us,fl=ra(zu),Ls=ra(nl),hl=pn,Rn=er;class pl{constructor(e,r){H(this,"httpClient");H(this,"priceFeedCallbacks");H(this,"wsClient");H(this,"wsEndpoint");H(this,"logger");H(this,"priceFeedRequestConfig");H(this,"onWsError");this.httpClient=fl.default.create({baseURL:e,timeout:r?.timeout||5e3}),(0,Ls.default)(this.httpClient,{retries:r?.httpRetries||3,retryDelay:Ls.default.exponentialDelay}),this.priceFeedRequestConfig={binary:r?.priceFeedRequestConfig?.binary,verbose:r?.priceFeedRequestConfig?.verbose??r?.verbose,allowOutOfOrder:r?.priceFeedRequestConfig?.allowOutOfOrder},this.priceFeedCallbacks=new Map,this.logger=r?.logger||{trace:()=>{},debug:()=>{},info:()=>{},warn:console.warn,error:console.error},this.onWsError=n=>{this.logger.error(n),typeof yn<"u"&&typeof yn.exit=="function"?(this.logger.error("Halting the process due to the websocket error"),yn.exit(1)):this.logger.error("Cannot halt process. Please handle the websocket error.")},this.wsEndpoint=(0,Rn.makeWebsocketUrl)(e)}async getLatestPriceFeeds(e){return e.length===0?[]:(await this.httpClient.get("/api/latest_price_feeds",{params:{ids:e,verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary}})).data.map(s=>Pn.PriceFeed.fromJson(s))}async getLatestVaas(e){return(await this.httpClient.get("/api/latest_vaas",{params:{ids:e}})).data}async getVaa(e,r){const n=await this.httpClient.get("/api/get_vaa",{params:{id:e,publish_time:r}});return[n.data.vaa,n.data.publishTime]}async getPriceFeed(e,r){const n=await this.httpClient.get("/api/get_price_feed",{params:{id:e,publish_time:r,verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary}});return Pn.PriceFeed.fromJson(n.data)}async getPriceFeedIds(){return(await this.httpClient.get("/api/price_feed_ids")).data}async subscribePriceFeedUpdates(e,r){this.wsClient===void 0&&await this.startWebSocket(),e=e.map(i=>(0,Rn.removeLeading0xIfExists)(i));const n=[];for(const i of e)this.priceFeedCallbacks.has(i)||(this.priceFeedCallbacks.set(i,new Set),n.push(i)),this.priceFeedCallbacks.get(i).add(r);const s={ids:n,type:"subscribe",verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary,allow_out_of_order:this.priceFeedRequestConfig.allowOutOfOrder};await this.wsClient?.send(JSON.stringify(s))}async unsubscribePriceFeedUpdates(e,r){this.wsClient===void 0&&await this.startWebSocket(),e=e.map(i=>(0,Rn.removeLeading0xIfExists)(i));const n=[];for(const i of e)if(this.priceFeedCallbacks.has(i)){let u=!1;r===void 0?(this.priceFeedCallbacks.delete(i),u=!0):(this.priceFeedCallbacks.get(i).delete(r),this.priceFeedCallbacks.get(i).size===0&&(this.priceFeedCallbacks.delete(i),u=!0)),u&&n.push(i)}const s={ids:n,type:"unsubscribe"};await this.wsClient?.send(JSON.stringify(s)),this.priceFeedCallbacks.size===0&&this.closeWebSocket()}async startWebSocket(){if(this.wsEndpoint===void 0)throw new Error("Websocket endpoint is undefined.");this.wsClient=new hl.ResilientWebSocket(this.wsEndpoint,this.logger),this.wsClient.onError=this.onWsError,this.wsClient.onReconnect=()=>{if(this.priceFeedCallbacks.size>0){const e={ids:Array.from(this.priceFeedCallbacks.keys()),type:"subscribe",verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary,allow_out_of_order:this.priceFeedRequestConfig.allowOutOfOrder};this.logger.info("Resubscribing to existing price feeds."),this.wsClient?.send(JSON.stringify(e))}},this.wsClient.onMessage=e=>{this.logger.info(`Received message ${e.toString()}`);let r;try{r=JSON.parse(e.toString())}catch(n){this.logger.error(`Error parsing message ${e.toString()} as JSON.`),this.logger.error(n),this.onWsError(n);return}if(r.type==="response")r.status==="error"&&(this.logger.error(`Error response from the websocket server ${r.error}.`),this.onWsError(new Error(r.error)));else if(r.type==="price_update"){let n;try{n=Pn.PriceFeed.fromJson(r.price_feed)}catch(s){this.logger.error(`Error parsing price feeds from message ${e.toString()}.`),this.logger.error(s),this.onWsError(s);return}if(this.priceFeedCallbacks.has(n.id))for(const s of this.priceFeedCallbacks.get(n.id))s(n)}else this.logger.warn(`Ignoring unsupported server response ${e.toString()}.`)},await this.wsClient.startWebSocket()}closeWebSocket(){this.wsClient?.closeWebSocket(),this.wsClient=void 0,this.priceFeedCallbacks.clear()}}dn.PriceServiceConnection=pl;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseAccumulatorUpdateData=t.isAccumulatorUpdateData=t.Price=t.PriceFeed=t.PriceFeedMetadata=t.PriceServiceConnection=void 0;var e=dn;Object.defineProperty(t,"PriceServiceConnection",{enumerable:!0,get:function(){return e.PriceServiceConnection}});var r=us;Object.defineProperty(t,"PriceFeedMetadata",{enumerable:!0,get:function(){return r.PriceFeedMetadata}}),Object.defineProperty(t,"PriceFeed",{enumerable:!0,get:function(){return r.PriceFeed}}),Object.defineProperty(t,"Price",{enumerable:!0,get:function(){return r.Price}}),Object.defineProperty(t,"isAccumulatorUpdateData",{enumerable:!0,get:function(){return r.isAccumulatorUpdateData}}),Object.defineProperty(t,"parseAccumulatorUpdateData",{enumerable:!0,get:function(){return r.parseAccumulatorUpdateData}})})(cs);Object.defineProperty(ln,"__esModule",{value:!0});ln.SuiPriceServiceConnection=void 0;const ml=cs,gl=Ks;class yl extends ml.PriceServiceConnection{async getPriceFeedsUpdateData(e){return(await this.getLatestVaas(e)).map(n=>gl.Buffer.from(n,"base64"))}}ln.SuiPriceServiceConnection=yl;var mn={};const vl=cn(pc),bl=cn(fc);Object.defineProperty(mn,"__esModule",{value:!0});mn.SuiPythClient=void 0;const Jr=vl,Gt=bl,_l=Ks,An=16*1024;class wl{constructor(e,r,n){H(this,"provider");H(this,"pythStateId");H(this,"wormholeStateId");H(this,"pythPackageId");H(this,"wormholePackageId");H(this,"priceTableInfo");H(this,"priceFeedObjectIdCache",new Map);H(this,"baseUpdateFee");this.provider=e,this.pythStateId=r,this.wormholeStateId=n,this.pythPackageId=void 0,this.wormholePackageId=void 0}async getBaseUpdateFee(){if(this.baseUpdateFee===void 0){const e=await this.provider.getObject({id:this.pythStateId,options:{showContent:!0}});if(!e.data||!e.data.content||e.data.content.dataType!=="moveObject")throw new Error("Unable to fetch pyth state object");this.baseUpdateFee=e.data.content.fields.base_update_fee}return this.baseUpdateFee}async getPackageId(e){const r=await this.provider.getObject({id:e,options:{showContent:!0}}).then(n=>{if(n.data?.content?.dataType=="moveObject")return n.data.content.fields;throw console.log(n.data?.content),new Error(`Cannot fetch package id for object ${e}`)});if("upgrade_cap"in r)return r.upgrade_cap.fields.package;throw new Error("upgrade_cap not found")}async verifyVaas(e,r){const n=await this.getWormholePackageId(),s=[];for(const i of e){const[u]=r.moveCall({target:`${n}::vaa::parse_and_verify`,arguments:[r.object(this.wormholeStateId),r.pure(Gt.bcs.vector(Gt.bcs.U8).serialize(Array.from(i),{maxSize:An}).toBytes()),r.object(Jr.SUI_CLOCK_OBJECT_ID)]});s.push(u)}return s}async updatePriceFeeds(e,r,n){const s=await this.getPythPackageId();let i;if(r.length>1)throw new Error("SDK does not support sending multiple accumulator messages in a single transaction");const u=this.extractVaaBytesFromAccumulatorMessage(r[0]),o=await this.verifyVaas([u],e);[i]=e.moveCall({target:`${s}::pyth::create_authenticated_price_infos_using_accumulator`,arguments:[e.object(this.pythStateId),e.pure(Gt.bcs.vector(Gt.bcs.U8).serialize(Array.from(r[0]),{maxSize:An}).toBytes()),o[0],e.object(Jr.SUI_CLOCK_OBJECT_ID)]});const h=[],T=await this.getBaseUpdateFee(),k=e.splitCoins(e.gas,n.map(()=>e.pure.u64(T)));let E=0;for(const N of n){const G=await this.getPriceFeedObjectId(N);if(!G)throw new Error(`Price feed ${N} not found, please create it first`);h.push(G),[i]=e.moveCall({target:`${s}::pyth::update_single_price_feed`,arguments:[e.object(this.pythStateId),i,e.object(G),k[E],e.object(Jr.SUI_CLOCK_OBJECT_ID)]}),E++}return e.moveCall({target:`${s}::hot_potato_vector::destroy`,arguments:[i],typeArguments:[`${s}::price_info::PriceInfo`]}),h}async createPriceFeed(e,r){const n=await this.getPythPackageId();if(r.length>1)throw new Error("SDK does not support sending multiple accumulator messages in a single transaction");const s=this.extractVaaBytesFromAccumulatorMessage(r[0]),i=await this.verifyVaas([s],e);e.moveCall({target:`${n}::pyth::create_price_feeds_using_accumulator`,arguments:[e.object(this.pythStateId),e.pure(Gt.bcs.vector(Gt.bcs.U8).serialize(Array.from(r[0]),{maxSize:An}).toBytes()),i[0],e.object(Jr.SUI_CLOCK_OBJECT_ID)]})}async getWormholePackageId(){return this.wormholePackageId||(this.wormholePackageId=await this.getPackageId(this.wormholeStateId)),this.wormholePackageId}async getPythPackageId(){return this.pythPackageId||(this.pythPackageId=await this.getPackageId(this.pythStateId)),this.pythPackageId}async getPriceFeedObjectId(e){const r=e.replace("0x","");if(!this.priceFeedObjectIdCache.has(r)){const{id:n,fieldType:s}=await this.getPriceTableInfo(),i=await this.provider.getDynamicFieldObject({parentId:n,name:{type:`${s}::price_identifier::PriceIdentifier`,value:{bytes:Array.from(_l.Buffer.from(r,"hex"))}}});if(!i.data||!i.data.content)return;if(i.data.content.dataType!=="moveObject")throw new Error("Price feed type mismatch");this.priceFeedObjectIdCache.set(r,i.data.content.fields.value)}return this.priceFeedObjectIdCache.get(r)}async getPriceTableInfo(){if(this.priceTableInfo===void 0){const e=await this.provider.getDynamicFieldObject({parentId:this.pythStateId,name:{type:"vector<u8>",value:"price_info"}});if(!e.data||!e.data.type)throw new Error("Price Table not found, contract may not be initialized");let r=e.data.type.replace("0x2::table::Table<","");r=r.replace("::price_identifier::PriceIdentifier, 0x2::object::ID>",""),this.priceTableInfo={id:e.data.objectId,fieldType:r}}return this.priceTableInfo}extractVaaBytesFromAccumulatorMessage(e){const n=7+e.readUint8(6)+1,s=e.readUint16BE(n),i=n+2;return e.subarray(i,i+s)}}mn.SuiPythClient=wl;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PriceFeed=t.Price=t.SuiPythClient=t.SuiPriceServiceConnection=void 0;var e=ln;Object.defineProperty(t,"SuiPriceServiceConnection",{enumerable:!0,get:function(){return e.SuiPriceServiceConnection}});var r=mn;Object.defineProperty(t,"SuiPythClient",{enumerable:!0,get:function(){return r.SuiPythClient}});var n=cs;Object.defineProperty(t,"Price",{enumerable:!0,get:function(){return n.Price}}),Object.defineProperty(t,"PriceFeed",{enumerable:!0,get:function(){return n.PriceFeed}})})(Ru);var X;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const u of s)i[u]=u;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),u={};for(const o of i)u[o]=s[o];return t.objectValues(u)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const u in s)Object.prototype.hasOwnProperty.call(s,u)&&i.push(u);return i},t.find=(s,i)=>{for(const u of s)if(i(u))return u},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(u=>typeof u=="string"?`'${u}'`:u).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(X||(X={}));var tn;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(tn||(tn={}));const R=X.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),pt=t=>{switch(typeof t){case"undefined":return R.undefined;case"string":return R.string;case"number":return isNaN(t)?R.nan:R.number;case"boolean":return R.boolean;case"function":return R.function;case"bigint":return R.bigint;case"symbol":return R.symbol;case"object":return Array.isArray(t)?R.array:t===null?R.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?R.promise:typeof Map<"u"&&t instanceof Map?R.map:typeof Set<"u"&&t instanceof Set?R.set:typeof Date<"u"&&t instanceof Date?R.date:R.object;default:return R.unknown}},C=X.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),na=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Te extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const u of i.issues)if(u.code==="invalid_union")u.unionErrors.map(s);else if(u.code==="invalid_return_type")s(u.returnTypeError);else if(u.code==="invalid_arguments")s(u.argumentsError);else if(u.path.length===0)n._errors.push(r(u));else{let o=n,h=0;for(;h<u.path.length;){const T=u.path[h];h===u.path.length-1?(o[T]=o[T]||{_errors:[]},o[T]._errors.push(r(u))):o[T]=o[T]||{_errors:[]},o=o[T],h++}}};return s(this),n}static assert(e){if(!(e instanceof Te))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,X.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Te.create=t=>new Te(t);const Bt=(t,e)=>{let r;switch(t.code){case C.invalid_type:t.received===R.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case C.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,X.jsonStringifyReplacer)}`;break;case C.unrecognized_keys:r=`Unrecognized key(s) in object: ${X.joinValues(t.keys,", ")}`;break;case C.invalid_union:r="Invalid input";break;case C.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${X.joinValues(t.options)}`;break;case C.invalid_enum_value:r=`Invalid enum value. Expected ${X.joinValues(t.options)}, received '${t.received}'`;break;case C.invalid_arguments:r="Invalid function arguments";break;case C.invalid_return_type:r="Invalid function return type";break;case C.invalid_date:r="Invalid date";break;case C.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:X.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case C.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case C.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case C.custom:r="Invalid input";break;case C.invalid_intersection_types:r="Intersection results could not be merged";break;case C.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case C.not_finite:r="Number must be finite";break;default:r=e.defaultError,X.assertNever(t)}return{message:r}};let sa=Bt;function ia(t){sa=t}function Nr(){return sa}const Ur=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],u={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const h=n.filter(T=>!!T).slice().reverse();for(const T of h)o=T(u,{data:e,defaultError:o}).message;return{...s,path:i,message:o}},aa=[];function P(t,e){const r=Nr(),n=Ur({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Bt?void 0:Bt].filter(s=>!!s)});t.common.issues.push(n)}class ye{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return B;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,u=await s.value;n.push({key:i,value:u})}return ye.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:u}=s;if(i.status==="aborted"||u.status==="aborted")return B;i.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof u.value<"u"||s.alwaysSet)&&(n[i.value]=u.value)}return{status:e.value,value:n}}}const B=Object.freeze({status:"aborted"}),Ut=t=>({status:"dirty",value:t}),ve=t=>({status:"valid",value:t}),rn=t=>t.status==="aborted",nn=t=>t.status==="dirty",tr=t=>t.status==="valid",rr=t=>typeof Promise<"u"&&t instanceof Promise;function sn(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function oa(t,e,r,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var U;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(U||(U={}));var kr,Or;class st{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Vs=(t,e)=>{if(tr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Te(t.common.issues);return this._error=r,this._error}}};function J(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(u,o)=>{var h,T;const{message:k}=t;return u.code==="invalid_enum_value"?{message:k??o.defaultError}:typeof o.data>"u"?{message:(h=k??n)!==null&&h!==void 0?h:o.defaultError}:u.code!=="invalid_type"?{message:o.defaultError}:{message:(T=k??r)!==null&&T!==void 0?T:o.defaultError}},description:s}}class z{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return pt(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:pt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ye,ctx:{common:e.parent.common,data:e.data,parsedType:pt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(rr(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pt(e)},i=this._parseSync({data:e,path:s.path,parent:s});return Vs(s,i)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pt(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(rr(s)?s:Promise.resolve(s));return Vs(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const u=e(s),o=()=>i.addIssue({code:C.custom,...n(s)});return typeof Promise<"u"&&u instanceof Promise?u.then(h=>h?!0:(o(),!1)):u?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new je({schema:this,typeName:$.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ke.create(this,this._def)}nullable(){return wt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Le.create(this,this._def)}promise(){return Lt.create(this,this._def)}or(e){return ar.create([this,e],this._def)}and(e){return or.create(this,e,this._def)}transform(e){return new je({...J(this._def),schema:this,typeName:$.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new fr({...J(this._def),innerType:this,defaultValue:r,typeName:$.ZodDefault})}brand(){return new gn({typeName:$.ZodBranded,type:this,...J(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new hr({...J(this._def),innerType:this,catchValue:r,typeName:$.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return gr.create(this,e)}readonly(){return pr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Sl=/^c[^\s-]{8,}$/i,kl=/^[0-9a-z]+$/,Ol=/^[0-9A-HJKMNP-TV-Z]{26}$/,Tl=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,El=/^[a-z0-9_-]{21}$/i,Cl=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xl=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Il="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Mn;const jl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Pl=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Rl=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ca="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Al=new RegExp(`^${ca}$`);function ua(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Ml(t){return new RegExp(`^${ua(t)}$`)}function gs(t){let e=`${ca}T${ua(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Nl(t,e){return!!((e==="v4"||!e)&&jl.test(t)||(e==="v6"||!e)&&Pl.test(t))}class Fe extends z{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==R.string){const i=this._getOrReturnCtx(e);return P(i,{code:C.invalid_type,expected:R.string,received:i.parsedType}),B}const n=new ye;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),P(s,{code:C.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),P(s,{code:C.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const u=e.data.length>i.value,o=e.data.length<i.value;(u||o)&&(s=this._getOrReturnCtx(e,s),u?P(s,{code:C.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&P(s,{code:C.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")xl.test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"email",code:C.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Mn||(Mn=new RegExp(Il,"u")),Mn.test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"emoji",code:C.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Tl.test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"uuid",code:C.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")El.test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"nanoid",code:C.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Sl.test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"cuid",code:C.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")kl.test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"cuid2",code:C.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Ol.test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"ulid",code:C.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),P(s,{validation:"url",code:C.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"regex",code:C.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),P(s,{code:C.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),P(s,{code:C.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),P(s,{code:C.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?gs(i).test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{code:C.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Al.test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{code:C.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Ml(i).test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{code:C.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Cl.test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"duration",code:C.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Nl(e.data,i.version)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"ip",code:C.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Rl.test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"base64",code:C.invalid_string,message:i.message}),n.dirty()):X.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:C.invalid_string,...U.errToObj(n)})}_addCheck(e){return new Fe({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...U.errToObj(e)})}url(e){return this._addCheck({kind:"url",...U.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...U.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...U.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...U.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...U.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...U.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...U.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...U.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...U.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...U.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...U.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...U.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...U.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...U.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...U.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...U.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...U.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...U.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...U.errToObj(r)})}nonempty(e){return this.min(1,U.errToObj(e))}trim(){return new Fe({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fe({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fe({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Fe.create=t=>{var e;return new Fe({checks:[],typeName:$.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...J(t)})};function Ul(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(t.toFixed(s).replace(".","")),u=parseInt(e.toFixed(s).replace(".",""));return i%u/Math.pow(10,s)}class vt extends z{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==R.number){const i=this._getOrReturnCtx(e);return P(i,{code:C.invalid_type,expected:R.number,received:i.parsedType}),B}let n;const s=new ye;for(const i of this._def.checks)i.kind==="int"?X.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),P(n,{code:C.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),P(n,{code:C.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),P(n,{code:C.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Ul(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),P(n,{code:C.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),P(n,{code:C.not_finite,message:i.message}),s.dirty()):X.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,U.toString(r))}gt(e,r){return this.setLimit("min",e,!1,U.toString(r))}lte(e,r){return this.setLimit("max",e,!0,U.toString(r))}lt(e,r){return this.setLimit("max",e,!1,U.toString(r))}setLimit(e,r,n,s){return new vt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:U.toString(s)}]})}_addCheck(e){return new vt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:U.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:U.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:U.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:U.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:U.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:U.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:U.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:U.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:U.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&X.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}vt.create=t=>new vt({checks:[],typeName:$.ZodNumber,coerce:t?.coerce||!1,...J(t)});class bt extends z{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==R.bigint){const i=this._getOrReturnCtx(e);return P(i,{code:C.invalid_type,expected:R.bigint,received:i.parsedType}),B}let n;const s=new ye;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),P(n,{code:C.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),P(n,{code:C.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),P(n,{code:C.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):X.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,U.toString(r))}gt(e,r){return this.setLimit("min",e,!1,U.toString(r))}lte(e,r){return this.setLimit("max",e,!0,U.toString(r))}lt(e,r){return this.setLimit("max",e,!1,U.toString(r))}setLimit(e,r,n,s){return new bt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:U.toString(s)}]})}_addCheck(e){return new bt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:U.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:U.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:U.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:U.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:U.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}bt.create=t=>{var e;return new bt({checks:[],typeName:$.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...J(t)})};class nr extends z{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==R.boolean){const n=this._getOrReturnCtx(e);return P(n,{code:C.invalid_type,expected:R.boolean,received:n.parsedType}),B}return ve(e.data)}}nr.create=t=>new nr({typeName:$.ZodBoolean,coerce:t?.coerce||!1,...J(t)});class Et extends z{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==R.date){const i=this._getOrReturnCtx(e);return P(i,{code:C.invalid_type,expected:R.date,received:i.parsedType}),B}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return P(i,{code:C.invalid_date}),B}const n=new ye;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),P(s,{code:C.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),P(s,{code:C.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):X.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Et({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:U.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:U.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Et.create=t=>new Et({checks:[],coerce:t?.coerce||!1,typeName:$.ZodDate,...J(t)});class Dr extends z{_parse(e){if(this._getType(e)!==R.symbol){const n=this._getOrReturnCtx(e);return P(n,{code:C.invalid_type,expected:R.symbol,received:n.parsedType}),B}return ve(e.data)}}Dr.create=t=>new Dr({typeName:$.ZodSymbol,...J(t)});class sr extends z{_parse(e){if(this._getType(e)!==R.undefined){const n=this._getOrReturnCtx(e);return P(n,{code:C.invalid_type,expected:R.undefined,received:n.parsedType}),B}return ve(e.data)}}sr.create=t=>new sr({typeName:$.ZodUndefined,...J(t)});class ir extends z{_parse(e){if(this._getType(e)!==R.null){const n=this._getOrReturnCtx(e);return P(n,{code:C.invalid_type,expected:R.null,received:n.parsedType}),B}return ve(e.data)}}ir.create=t=>new ir({typeName:$.ZodNull,...J(t)});class Ft extends z{constructor(){super(...arguments),this._any=!0}_parse(e){return ve(e.data)}}Ft.create=t=>new Ft({typeName:$.ZodAny,...J(t)});class Ot extends z{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ve(e.data)}}Ot.create=t=>new Ot({typeName:$.ZodUnknown,...J(t)});class it extends z{_parse(e){const r=this._getOrReturnCtx(e);return P(r,{code:C.invalid_type,expected:R.never,received:r.parsedType}),B}}it.create=t=>new it({typeName:$.ZodNever,...J(t)});class $r extends z{_parse(e){if(this._getType(e)!==R.undefined){const n=this._getOrReturnCtx(e);return P(n,{code:C.invalid_type,expected:R.void,received:n.parsedType}),B}return ve(e.data)}}$r.create=t=>new $r({typeName:$.ZodVoid,...J(t)});class Le extends z{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==R.array)return P(r,{code:C.invalid_type,expected:R.array,received:r.parsedType}),B;if(s.exactLength!==null){const u=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(u||o)&&(P(r,{code:u?C.too_big:C.too_small,minimum:o?s.exactLength.value:void 0,maximum:u?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(P(r,{code:C.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(P(r,{code:C.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((u,o)=>s.type._parseAsync(new st(r,u,r.path,o)))).then(u=>ye.mergeArray(n,u));const i=[...r.data].map((u,o)=>s.type._parseSync(new st(r,u,r.path,o)));return ye.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Le({...this._def,minLength:{value:e,message:U.toString(r)}})}max(e,r){return new Le({...this._def,maxLength:{value:e,message:U.toString(r)}})}length(e,r){return new Le({...this._def,exactLength:{value:e,message:U.toString(r)}})}nonempty(e){return this.min(1,e)}}Le.create=(t,e)=>new Le({type:t,minLength:null,maxLength:null,exactLength:null,typeName:$.ZodArray,...J(e)});function Jt(t){if(t instanceof ae){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Ke.create(Jt(n))}return new ae({...t._def,shape:()=>e})}else return t instanceof Le?new Le({...t._def,type:Jt(t.element)}):t instanceof Ke?Ke.create(Jt(t.unwrap())):t instanceof wt?wt.create(Jt(t.unwrap())):t instanceof Xe?Xe.create(t.items.map(e=>Jt(e))):t}class ae extends z{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=X.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==R.object){const T=this._getOrReturnCtx(e);return P(T,{code:C.invalid_type,expected:R.object,received:T.parsedType}),B}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:u}=this._getCached(),o=[];if(!(this._def.catchall instanceof it&&this._def.unknownKeys==="strip"))for(const T in s.data)u.includes(T)||o.push(T);const h=[];for(const T of u){const k=i[T],E=s.data[T];h.push({key:{status:"valid",value:T},value:k._parse(new st(s,E,s.path,T)),alwaysSet:T in s.data})}if(this._def.catchall instanceof it){const T=this._def.unknownKeys;if(T==="passthrough")for(const k of o)h.push({key:{status:"valid",value:k},value:{status:"valid",value:s.data[k]}});else if(T==="strict")o.length>0&&(P(s,{code:C.unrecognized_keys,keys:o}),n.dirty());else if(T!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const T=this._def.catchall;for(const k of o){const E=s.data[k];h.push({key:{status:"valid",value:k},value:T._parse(new st(s,E,s.path,k)),alwaysSet:k in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const T=[];for(const k of h){const E=await k.key,N=await k.value;T.push({key:E,value:N,alwaysSet:k.alwaysSet})}return T}).then(T=>ye.mergeObjectSync(n,T)):ye.mergeObjectSync(n,h)}get shape(){return this._def.shape()}strict(e){return U.errToObj,new ae({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,i,u,o;const h=(u=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&u!==void 0?u:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=U.errToObj(e).message)!==null&&o!==void 0?o:h}:{message:h}}}:{}})}strip(){return new ae({...this._def,unknownKeys:"strip"})}passthrough(){return new ae({...this._def,unknownKeys:"passthrough"})}extend(e){return new ae({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ae({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new ae({...this._def,catchall:e})}pick(e){const r={};return X.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new ae({...this._def,shape:()=>r})}omit(e){const r={};return X.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new ae({...this._def,shape:()=>r})}deepPartial(){return Jt(this)}partial(e){const r={};return X.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new ae({...this._def,shape:()=>r})}required(e){const r={};return X.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Ke;)i=i._def.innerType;r[n]=i}}),new ae({...this._def,shape:()=>r})}keyof(){return la(X.objectKeys(this.shape))}}ae.create=(t,e)=>new ae({shape:()=>t,unknownKeys:"strip",catchall:it.create(),typeName:$.ZodObject,...J(e)});ae.strictCreate=(t,e)=>new ae({shape:()=>t,unknownKeys:"strict",catchall:it.create(),typeName:$.ZodObject,...J(e)});ae.lazycreate=(t,e)=>new ae({shape:t,unknownKeys:"strip",catchall:it.create(),typeName:$.ZodObject,...J(e)});class ar extends z{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const u=i.map(o=>new Te(o.ctx.common.issues));return P(r,{code:C.invalid_union,unionErrors:u}),B}if(r.common.async)return Promise.all(n.map(async i=>{const u={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:u}),ctx:u}})).then(s);{let i;const u=[];for(const h of n){const T={...r,common:{...r.common,issues:[]},parent:null},k=h._parseSync({data:r.data,path:r.path,parent:T});if(k.status==="valid")return k;k.status==="dirty"&&!i&&(i={result:k,ctx:T}),T.common.issues.length&&u.push(T.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=u.map(h=>new Te(h));return P(r,{code:C.invalid_union,unionErrors:o}),B}}get options(){return this._def.options}}ar.create=(t,e)=>new ar({options:t,typeName:$.ZodUnion,...J(e)});const lt=t=>t instanceof ur?lt(t.schema):t instanceof je?lt(t.innerType()):t instanceof lr?[t.value]:t instanceof _t?t.options:t instanceof dr?X.objectValues(t.enum):t instanceof fr?lt(t._def.innerType):t instanceof sr?[void 0]:t instanceof ir?[null]:t instanceof Ke?[void 0,...lt(t.unwrap())]:t instanceof wt?[null,...lt(t.unwrap())]:t instanceof gn||t instanceof pr?lt(t.unwrap()):t instanceof hr?lt(t._def.innerType):[];class qr extends z{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==R.object)return P(r,{code:C.invalid_type,expected:R.object,received:r.parsedType}),B;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(P(r,{code:C.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),B)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const i of r){const u=lt(i.shape[e]);if(!u.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of u){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new qr({typeName:$.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...J(n)})}}function Gn(t,e){const r=pt(t),n=pt(e);if(t===e)return{valid:!0,data:t};if(r===R.object&&n===R.object){const s=X.objectKeys(e),i=X.objectKeys(t).filter(o=>s.indexOf(o)!==-1),u={...t,...e};for(const o of i){const h=Gn(t[o],e[o]);if(!h.valid)return{valid:!1};u[o]=h.data}return{valid:!0,data:u}}else if(r===R.array&&n===R.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const u=t[i],o=e[i],h=Gn(u,o);if(!h.valid)return{valid:!1};s.push(h.data)}return{valid:!0,data:s}}else return r===R.date&&n===R.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class or extends z{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,u)=>{if(rn(i)||rn(u))return B;const o=Gn(i.value,u.value);return o.valid?((nn(i)||nn(u))&&r.dirty(),{status:r.value,value:o.data}):(P(n,{code:C.invalid_intersection_types}),B)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,u])=>s(i,u)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}or.create=(t,e,r)=>new or({left:t,right:e,typeName:$.ZodIntersection,...J(r)});class Xe extends z{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==R.array)return P(n,{code:C.invalid_type,expected:R.array,received:n.parsedType}),B;if(n.data.length<this._def.items.length)return P(n,{code:C.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),B;!this._def.rest&&n.data.length>this._def.items.length&&(P(n,{code:C.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((u,o)=>{const h=this._def.items[o]||this._def.rest;return h?h._parse(new st(n,u,n.path,o)):null}).filter(u=>!!u);return n.common.async?Promise.all(i).then(u=>ye.mergeArray(r,u)):ye.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Xe({...this._def,rest:e})}}Xe.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xe({items:t,typeName:$.ZodTuple,rest:null,...J(e)})};class cr extends z{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==R.object)return P(n,{code:C.invalid_type,expected:R.object,received:n.parsedType}),B;const s=[],i=this._def.keyType,u=this._def.valueType;for(const o in n.data)s.push({key:i._parse(new st(n,o,n.path,o)),value:u._parse(new st(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?ye.mergeObjectAsync(r,s):ye.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof z?new cr({keyType:e,valueType:r,typeName:$.ZodRecord,...J(n)}):new cr({keyType:Fe.create(),valueType:e,typeName:$.ZodRecord,...J(r)})}}class Br extends z{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==R.map)return P(n,{code:C.invalid_type,expected:R.map,received:n.parsedType}),B;const s=this._def.keyType,i=this._def.valueType,u=[...n.data.entries()].map(([o,h],T)=>({key:s._parse(new st(n,o,n.path,[T,"key"])),value:i._parse(new st(n,h,n.path,[T,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const h of u){const T=await h.key,k=await h.value;if(T.status==="aborted"||k.status==="aborted")return B;(T.status==="dirty"||k.status==="dirty")&&r.dirty(),o.set(T.value,k.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const h of u){const T=h.key,k=h.value;if(T.status==="aborted"||k.status==="aborted")return B;(T.status==="dirty"||k.status==="dirty")&&r.dirty(),o.set(T.value,k.value)}return{status:r.value,value:o}}}}Br.create=(t,e,r)=>new Br({valueType:e,keyType:t,typeName:$.ZodMap,...J(r)});class Ct extends z{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==R.set)return P(n,{code:C.invalid_type,expected:R.set,received:n.parsedType}),B;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(P(n,{code:C.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(P(n,{code:C.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function u(h){const T=new Set;for(const k of h){if(k.status==="aborted")return B;k.status==="dirty"&&r.dirty(),T.add(k.value)}return{status:r.value,value:T}}const o=[...n.data.values()].map((h,T)=>i._parse(new st(n,h,n.path,T)));return n.common.async?Promise.all(o).then(h=>u(h)):u(o)}min(e,r){return new Ct({...this._def,minSize:{value:e,message:U.toString(r)}})}max(e,r){return new Ct({...this._def,maxSize:{value:e,message:U.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ct.create=(t,e)=>new Ct({valueType:t,minSize:null,maxSize:null,typeName:$.ZodSet,...J(e)});class Dt extends z{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==R.function)return P(r,{code:C.invalid_type,expected:R.function,received:r.parsedType}),B;function n(o,h){return Ur({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Nr(),Bt].filter(T=>!!T),issueData:{code:C.invalid_arguments,argumentsError:h}})}function s(o,h){return Ur({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Nr(),Bt].filter(T=>!!T),issueData:{code:C.invalid_return_type,returnTypeError:h}})}const i={errorMap:r.common.contextualErrorMap},u=r.data;if(this._def.returns instanceof Lt){const o=this;return ve(async function(...h){const T=new Te([]),k=await o._def.args.parseAsync(h,i).catch(G=>{throw T.addIssue(n(h,G)),T}),E=await Reflect.apply(u,this,k);return await o._def.returns._def.type.parseAsync(E,i).catch(G=>{throw T.addIssue(s(E,G)),T})})}else{const o=this;return ve(function(...h){const T=o._def.args.safeParse(h,i);if(!T.success)throw new Te([n(h,T.error)]);const k=Reflect.apply(u,this,T.data),E=o._def.returns.safeParse(k,i);if(!E.success)throw new Te([s(k,E.error)]);return E.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Dt({...this._def,args:Xe.create(e).rest(Ot.create())})}returns(e){return new Dt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Dt({args:e||Xe.create([]).rest(Ot.create()),returns:r||Ot.create(),typeName:$.ZodFunction,...J(n)})}}class ur extends z{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ur.create=(t,e)=>new ur({getter:t,typeName:$.ZodLazy,...J(e)});class lr extends z{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return P(r,{received:r.data,code:C.invalid_literal,expected:this._def.value}),B}return{status:"valid",value:e.data}}get value(){return this._def.value}}lr.create=(t,e)=>new lr({value:t,typeName:$.ZodLiteral,...J(e)});function la(t,e){return new _t({values:t,typeName:$.ZodEnum,...J(e)})}class _t extends z{constructor(){super(...arguments),kr.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return P(r,{expected:X.joinValues(n),received:r.parsedType,code:C.invalid_type}),B}if(sn(this,kr)||oa(this,kr,new Set(this._def.values)),!sn(this,kr).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return P(r,{received:r.data,code:C.invalid_enum_value,options:n}),B}return ve(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return _t.create(e,{...this._def,...r})}exclude(e,r=this._def){return _t.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}kr=new WeakMap;_t.create=la;class dr extends z{constructor(){super(...arguments),Or.set(this,void 0)}_parse(e){const r=X.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==R.string&&n.parsedType!==R.number){const s=X.objectValues(r);return P(n,{expected:X.joinValues(s),received:n.parsedType,code:C.invalid_type}),B}if(sn(this,Or)||oa(this,Or,new Set(X.getValidEnumValues(this._def.values))),!sn(this,Or).has(e.data)){const s=X.objectValues(r);return P(n,{received:n.data,code:C.invalid_enum_value,options:s}),B}return ve(e.data)}get enum(){return this._def.values}}Or=new WeakMap;dr.create=(t,e)=>new dr({values:t,typeName:$.ZodNativeEnum,...J(e)});class Lt extends z{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==R.promise&&r.common.async===!1)return P(r,{code:C.invalid_type,expected:R.promise,received:r.parsedType}),B;const n=r.parsedType===R.promise?r.data:Promise.resolve(r.data);return ve(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Lt.create=(t,e)=>new Lt({type:t,typeName:$.ZodPromise,...J(e)});class je extends z{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:u=>{P(n,u),u.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const u=s.transform(n.data,i);if(n.common.async)return Promise.resolve(u).then(async o=>{if(r.value==="aborted")return B;const h=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return h.status==="aborted"?B:h.status==="dirty"||r.value==="dirty"?Ut(h.value):h});{if(r.value==="aborted")return B;const o=this._def.schema._parseSync({data:u,path:n.path,parent:n});return o.status==="aborted"?B:o.status==="dirty"||r.value==="dirty"?Ut(o.value):o}}if(s.type==="refinement"){const u=o=>{const h=s.refinement(o,i);if(n.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?B:(o.status==="dirty"&&r.dirty(),u(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?B:(o.status==="dirty"&&r.dirty(),u(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!tr(u))return u;const o=s.transform(u.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>tr(u)?Promise.resolve(s.transform(u.value,i)).then(o=>({status:r.value,value:o})):u);X.assertNever(s)}}je.create=(t,e,r)=>new je({schema:t,typeName:$.ZodEffects,effect:e,...J(r)});je.createWithPreprocess=(t,e,r)=>new je({schema:e,effect:{type:"preprocess",transform:t},typeName:$.ZodEffects,...J(r)});class Ke extends z{_parse(e){return this._getType(e)===R.undefined?ve(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ke.create=(t,e)=>new Ke({innerType:t,typeName:$.ZodOptional,...J(e)});class wt extends z{_parse(e){return this._getType(e)===R.null?ve(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wt.create=(t,e)=>new wt({innerType:t,typeName:$.ZodNullable,...J(e)});class fr extends z{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===R.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}fr.create=(t,e)=>new fr({innerType:t,typeName:$.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...J(e)});class hr extends z{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return rr(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Te(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Te(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}hr.create=(t,e)=>new hr({innerType:t,typeName:$.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...J(e)});class Fr extends z{_parse(e){if(this._getType(e)!==R.nan){const n=this._getOrReturnCtx(e);return P(n,{code:C.invalid_type,expected:R.nan,received:n.parsedType}),B}return{status:"valid",value:e.data}}}Fr.create=t=>new Fr({typeName:$.ZodNaN,...J(t)});const da=Symbol("zod_brand");class gn extends z{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class gr extends z{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?B:i.status==="dirty"?(r.dirty(),Ut(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?B:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new gr({in:e,out:r,typeName:$.ZodPipeline})}}class pr extends z{_parse(e){const r=this._def.innerType._parse(e),n=s=>(tr(s)&&(s.value=Object.freeze(s.value)),s);return rr(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}pr.create=(t,e)=>new pr({innerType:t,typeName:$.ZodReadonly,...J(e)});function ys(t,e={},r){return t?Ft.create().superRefine((n,s)=>{var i,u;if(!t(n)){const o=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,h=(u=(i=o.fatal)!==null&&i!==void 0?i:r)!==null&&u!==void 0?u:!0,T=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...T,fatal:h})}}):Ft.create()}const fa={object:ae.lazycreate};var $;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})($||($={}));const ha=(t,e={message:`Input not instance of ${t.name}`})=>ys(r=>r instanceof t,e),vs=Fe.create,bs=vt.create,pa=Fr.create,ma=bt.create,_s=nr.create,ga=Et.create,ya=Dr.create,va=sr.create,ba=ir.create,_a=Ft.create,wa=Ot.create,Sa=it.create,ka=$r.create,Oa=Le.create,Ta=ae.create,Ea=ae.strictCreate,Ca=ar.create,xa=qr.create,Ia=or.create,ja=Xe.create,Pa=cr.create,Ra=Br.create,Aa=Ct.create,Ma=Dt.create,Na=ur.create,Ua=lr.create,Da=_t.create,$a=dr.create,Ba=Lt.create,an=je.create,Fa=Ke.create,La=wt.create,Va=je.createWithPreprocess,Za=gr.create,qa=()=>vs().optional(),za=()=>bs().optional(),Ga=()=>_s().optional(),Wa={string:t=>Fe.create({...t,coerce:!0}),number:t=>vt.create({...t,coerce:!0}),boolean:t=>nr.create({...t,coerce:!0}),bigint:t=>bt.create({...t,coerce:!0}),date:t=>Et.create({...t,coerce:!0})},Ja=B;var Zs=Object.freeze({__proto__:null,defaultErrorMap:Bt,setErrorMap:ia,getErrorMap:Nr,makeIssue:Ur,EMPTY_PATH:aa,addIssueToContext:P,ParseStatus:ye,INVALID:B,DIRTY:Ut,OK:ve,isAborted:rn,isDirty:nn,isValid:tr,isAsync:rr,get util(){return X},get objectUtil(){return tn},ZodParsedType:R,getParsedType:pt,ZodType:z,datetimeRegex:gs,ZodString:Fe,ZodNumber:vt,ZodBigInt:bt,ZodBoolean:nr,ZodDate:Et,ZodSymbol:Dr,ZodUndefined:sr,ZodNull:ir,ZodAny:Ft,ZodUnknown:Ot,ZodNever:it,ZodVoid:$r,ZodArray:Le,ZodObject:ae,ZodUnion:ar,ZodDiscriminatedUnion:qr,ZodIntersection:or,ZodTuple:Xe,ZodRecord:cr,ZodMap:Br,ZodSet:Ct,ZodFunction:Dt,ZodLazy:ur,ZodLiteral:lr,ZodEnum:_t,ZodNativeEnum:dr,ZodPromise:Lt,ZodEffects:je,ZodTransformer:je,ZodOptional:Ke,ZodNullable:wt,ZodDefault:fr,ZodCatch:hr,ZodNaN:Fr,BRAND:da,ZodBranded:gn,ZodPipeline:gr,ZodReadonly:pr,custom:ys,Schema:z,ZodSchema:z,late:fa,get ZodFirstPartyTypeKind(){return $},coerce:Wa,any:_a,array:Oa,bigint:ma,boolean:_s,date:ga,discriminatedUnion:xa,effect:an,enum:Da,function:Ma,instanceof:ha,intersection:Ia,lazy:Na,literal:Ua,map:Ra,nan:pa,nativeEnum:$a,never:Sa,null:ba,nullable:La,number:bs,object:Ta,oboolean:Ga,onumber:za,optional:Fa,ostring:qa,pipeline:Za,preprocess:Va,promise:Ba,record:Pa,set:Aa,strictObject:Ea,string:vs,symbol:ya,transformer:an,tuple:ja,undefined:va,union:Ca,unknown:wa,void:ka,NEVER:Ja,ZodIssueCode:C,quotelessJson:na,ZodError:Te});const ql=Object.freeze(Object.defineProperty({__proto__:null,BRAND:da,DIRTY:Ut,EMPTY_PATH:aa,INVALID:B,NEVER:Ja,OK:ve,ParseStatus:ye,Schema:z,ZodAny:Ft,ZodArray:Le,ZodBigInt:bt,ZodBoolean:nr,ZodBranded:gn,ZodCatch:hr,ZodDate:Et,ZodDefault:fr,ZodDiscriminatedUnion:qr,ZodEffects:je,ZodEnum:_t,ZodError:Te,get ZodFirstPartyTypeKind(){return $},ZodFunction:Dt,ZodIntersection:or,ZodIssueCode:C,ZodLazy:ur,ZodLiteral:lr,ZodMap:Br,ZodNaN:Fr,ZodNativeEnum:dr,ZodNever:it,ZodNull:ir,ZodNullable:wt,ZodNumber:vt,ZodObject:ae,ZodOptional:Ke,ZodParsedType:R,ZodPipeline:gr,ZodPromise:Lt,ZodReadonly:pr,ZodRecord:cr,ZodSchema:z,ZodSet:Ct,ZodString:Fe,ZodSymbol:Dr,ZodTransformer:je,ZodTuple:Xe,ZodType:z,ZodUndefined:sr,ZodUnion:ar,ZodUnknown:Ot,ZodVoid:$r,addIssueToContext:P,any:_a,array:Oa,bigint:ma,boolean:_s,coerce:Wa,custom:ys,date:ga,datetimeRegex:gs,default:Zs,defaultErrorMap:Bt,discriminatedUnion:xa,effect:an,enum:Da,function:Ma,getErrorMap:Nr,getParsedType:pt,instanceof:ha,intersection:Ia,isAborted:rn,isAsync:rr,isDirty:nn,isValid:tr,late:fa,lazy:Na,literal:Ua,makeIssue:Ur,map:Ra,nan:pa,nativeEnum:$a,never:Sa,null:ba,nullable:La,number:bs,object:Ta,get objectUtil(){return tn},oboolean:Ga,onumber:za,optional:Fa,ostring:qa,pipeline:Za,preprocess:Va,promise:Ba,quotelessJson:na,record:Pa,set:Aa,setErrorMap:ia,strictObject:Ea,string:vs,symbol:ya,transformer:an,tuple:ja,undefined:va,union:Ca,unknown:wa,get util(){return X},void:ka,z:Zs},Symbol.toStringTag,{value:"Module"}));export{Ou as A,ks as B,It as C,Pu as D,Bi as E,Vl as F,Gu as G,vl as H,mt as I,Fi as J,bl as K,un as S,Fl as T,Rc as U,Lo as a,Zl as b,_r as c,tt as d,Dn as e,ei as f,Ll as g,ai as h,et as i,Bo as j,ql as k,Ru as l,Bl as m,te as n,$i as o,Xn as p,Je as q,zu as r,F as s,Vr as t,yu as u,gu as v,ci as w,zo as x,Oc as y,Zs as z};
