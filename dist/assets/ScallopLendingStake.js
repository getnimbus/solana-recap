import{by as Ue,bz as He,bA as Re,bB as We,bC as Ye,bD as N,bE as P,bF as x,bG as Q,bH as ke,bI as $,bJ as ye,bK as w,bL as S,bM as q,bN as fe,bO as Ke,bP as Fe,bQ as ze,bR as Ge,bS as Je,bT as Xe,bU as Ze,bV as et,bW as tt,bX as lt,bY as st,bZ as _e,b_ as nt,b$ as rt,c0 as de,c1 as ot,c2 as ct,c3 as Ae,c4 as we,c5 as _,c6 as A,c7 as f,c8 as ne,c9 as i,ca as pe,cb as $e,cc as at,cd as Me,ce as it,cf as ut,cg as ft,ch as dt,ci as je,cj as Oe,ck as Ve}from"./index.js";import{S as pt,a as _t,b as mt,c as bt}from"./StatusModalUI.js";import{I as gt}from"./Image.js";import{d as vt}from"./defaultToken.js";function ht(n){let t,e,l,s,o,r,p,a,u=n[7]?.symbol+"",d,b,v,h,U,M,T,W,B,I,F,y,G,Y,K,H=(n[13]?.toFixed(4)||0)+"",re,oe,k,V,me,ee,be,z,ce,C,xe,J,ge,ae,Se,te,Ce,ie,Le,D,j,ve,X,E,O,he,ue,c,g,R,Z;p=new Ae({props:{number:Number(n[4]||0),type:"balance"}}),B=new gt({props:{logo:n[7]?.logo,defaultLogo:vt}});const Ne=[$t,yt],le=[];function Be(m,L){return m[10]?0:1}D=Be(n),j=le[D]=Ne[D](n);const De=[Ct,St],se=[];function Ee(m,L){return m[12]?1:0}return E=Ee(n),O=se[E]=De[E](n),c=new we({props:{variant:"secondary",$$slots:{default:[Et]},$$scope:{ctx:n}}}),c.$on("click",n[29]),{c(){t=_("div"),e=_("div"),e.textContent="Lending on Scallop",l=N(),s=_("div"),o=_("div"),r=_("div"),P(p.$$.fragment),a=N(),d=A(u),b=A(" in wallet"),v=N(),h=_("div"),h.textContent="Bridge Tokens",U=N(),M=_("div"),T=_("div"),W=_("div"),P(B.$$.fragment),I=N(),F=_("div"),y=_("input"),G=N(),Y=_("div"),K=A("â‰ˆ $"),re=A(H),oe=N(),k=_("div"),V=_("div"),me=A("25%"),be=N(),z=_("div"),ce=A("50%"),xe=N(),J=_("div"),ge=A("75%"),Se=N(),te=_("div"),Ce=A("100%"),Le=N(),j.c(),ve=N(),X=_("div"),O.c(),he=N(),ue=_("div"),P(c.$$.fragment),f(e,"class","font-medium text-2xl svelte-1797206"),f(r,"class","text-gray-500 text-sm px-1 svelte-1797206"),f(h,"class","underline text-sm cursor-pointer hover:text-[#1e96fc] transition-all svelte-1797206"),f(o,"class","flex justify-between svelte-1797206"),f(W,"class","rounded-full w-[46px] h-[46px] overflow-hidden svelte-1797206"),f(y,"type","text"),f(y,"placeholder","0"),f(y,"autocomplete","off"),f(y,"inputmode","decimal"),f(y,"class","text-xl p-0 border-none focus:outline-none focus:ring-0 flex-1 bg-transparent svelte-1797206"),y.value=n[1],f(Y,"class","text-gray-500 text-sm svelte-1797206"),f(F,"class","flex-1 flex flex-col svelte-1797206"),f(T,"class","flex items-start gap-4 svelte-1797206"),f(V,"class",ee=ne(`cursor-pointer text-sm rounded-[10px] p-2 border ${n[0]===25?"border-[#1e96fc] text-[#1e96fc]":"border_0000000d"} ${n[15]?"text-white":"text-black"}`)+" svelte-1797206"),f(z,"class",C=ne(`cursor-pointer text-sm rounded-[10px] p-2 border ${n[0]===50?"border-[#1e96fc] text-[#1e96fc]":"border_0000000d"} ${n[15]?"text-white":"text-black"}`)+" svelte-1797206"),f(J,"class",ae=ne(`cursor-pointer text-sm rounded-[10px] p-2 border ${n[0]===75?"border-[#1e96fc] text-[#1e96fc]":"border_0000000d"} ${n[15]?"text-white":"text-black"}`)+" svelte-1797206"),f(te,"class",ie=ne(`cursor-pointer text-sm rounded-[10px] p-2 border ${n[0]===100?"border-[#1e96fc] text-[#1e96fc]":"border_0000000d"} ${n[15]?"text-white":"text-black"}`)+" svelte-1797206"),f(k,"class","flex items-center gap-4 svelte-1797206"),f(M,"class","flex flex-col gap-3 border border_0000000d p-4 rounded-[10px] svelte-1797206"),f(s,"class","flex flex-col gap-1 svelte-1797206"),f(ue,"class","w-[120px] svelte-1797206"),f(X,"class","flex justify-start gap-2 svelte-1797206"),f(t,"class","flex flex-col gap-4 svelte-1797206")},m(m,L){x(m,t,L),i(t,e),i(t,l),i(t,s),i(s,o),i(o,r),Q(p,r,null),i(r,a),i(r,d),i(r,b),i(o,v),i(o,h),i(s,U),i(s,M),i(M,T),i(T,W),Q(B,W,null),i(T,I),i(T,F),i(F,y),i(F,G),i(F,Y),i(Y,K),i(Y,re),i(M,oe),i(M,k),i(k,V),i(V,me),i(k,be),i(k,z),i(z,ce),i(k,xe),i(k,J),i(J,ge),i(k,Se),i(k,te),i(te,Ce),i(t,Le),le[D].m(t,null),i(t,ve),i(t,X),se[E].m(X,null),i(X,he),i(X,ue),Q(c,ue,null),g=!0,R||(Z=[pe(h,"click",n[23]),pe(y,"change",n[24]),pe(V,"click",n[25]),pe(z,"click",n[26]),pe(J,"click",n[27]),pe(te,"click",n[28])],R=!0)},p(m,L){const Pe={};L[0]&16&&(Pe.number=Number(m[4]||0)),p.$set(Pe),(!g||L[0]&128)&&u!==(u=m[7]?.symbol+"")&&$e(d,u);const Qe={};L[0]&128&&(Qe.logo=m[7]?.logo),B.$set(Qe),(!g||L[0]&2&&y.value!==m[1])&&(y.value=m[1]),(!g||L[0]&8192)&&H!==(H=(m[13]?.toFixed(4)||0)+"")&&$e(re,H),(!g||L[0]&32769&&ee!==(ee=ne(`cursor-pointer text-sm rounded-[10px] p-2 border ${m[0]===25?"border-[#1e96fc] text-[#1e96fc]":"border_0000000d"} ${m[15]?"text-white":"text-black"}`)+" svelte-1797206"))&&f(V,"class",ee),(!g||L[0]&32769&&C!==(C=ne(`cursor-pointer text-sm rounded-[10px] p-2 border ${m[0]===50?"border-[#1e96fc] text-[#1e96fc]":"border_0000000d"} ${m[15]?"text-white":"text-black"}`)+" svelte-1797206"))&&f(z,"class",C),(!g||L[0]&32769&&ae!==(ae=ne(`cursor-pointer text-sm rounded-[10px] p-2 border ${m[0]===75?"border-[#1e96fc] text-[#1e96fc]":"border_0000000d"} ${m[15]?"text-white":"text-black"}`)+" svelte-1797206"))&&f(J,"class",ae),(!g||L[0]&32769&&ie!==(ie=ne(`cursor-pointer text-sm rounded-[10px] p-2 border ${m[0]===100?"border-[#1e96fc] text-[#1e96fc]":"border_0000000d"} ${m[15]?"text-white":"text-black"}`)+" svelte-1797206"))&&f(te,"class",ie);let Te=D;D=Be(m),D===Te?le[D].p(m,L):(ke(),$(le[Te],1,1,()=>{le[Te]=null}),ye(),j=le[D],j?j.p(m,L):(j=le[D]=Ne[D](m),j.c()),w(j,1),j.m(t,ve));let Ie=E;E=Ee(m),E===Ie?se[E].p(m,L):(ke(),$(se[Ie],1,1,()=>{se[Ie]=null}),ye(),O=se[E],O?O.p(m,L):(O=se[E]=De[E](m),O.c()),w(O,1),O.m(X,he));const qe={};L[1]&131072&&(qe.$$scope={dirty:L,ctx:m}),c.$set(qe)},i(m){g||(w(p.$$.fragment,m),w(B.$$.fragment,m),w(j),w(O),w(c.$$.fragment,m),g=!0)},o(m){$(p.$$.fragment,m),$(B.$$.fragment,m),$(j),$(O),$(c.$$.fragment,m),g=!1},d(m){m&&S(t),q(p),q(B),le[D].d(),se[E].d(),q(c),R=!1,at(Z)}}}function kt(n){let t,e;return t=new bt({props:{type:n[11]?.status,title:n[11]?.status==="success"?"Success":"Fail",$$slots:{msg:[qt]},$$scope:{ctx:n}}}),{c(){P(t.$$.fragment)},m(l,s){Q(t,l,s),e=!0},p(l,s){const o={};s[0]&2048&&(o.type=l[11]?.status),s[0]&2048&&(o.title=l[11]?.status==="success"?"Success":"Fail"),s[0]&2048|s[1]&131072&&(o.$$scope={dirty:s,ctx:l}),t.$set(o)},i(l){e||(w(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){q(t,l)}}}function yt(n){let t,e,l,s,o,r,p,a,u,d,b,v,h,U,M,T,W,B,I,F;return r=new Ae({props:{number:Number(n[4]||0),type:"balance"}}),v=new Ae({props:{number:Number(n[9]?.supplyApr||0)*100,type:"percent"}}),I=new Ae({props:{number:n[3]||0}}),{c(){t=_("div"),e=_("div"),l=_("div"),l.textContent="Max Supply",s=N(),o=_("div"),P(r.$$.fragment),p=N(),a=_("div"),u=_("div"),u.textContent="Supply APR",d=N(),b=_("div"),P(v.$$.fragment),h=A("%"),U=N(),M=_("div"),T=_("div"),T.textContent="Market Price",W=N(),B=_("div"),P(I.$$.fragment),f(l,"class","text_00000099 text-sm svelte-1797206"),f(o,"class","text-sm svelte-1797206"),f(e,"class","flex justify-between items-center svelte-1797206"),f(u,"class","text_00000099 text-sm svelte-1797206"),f(b,"class","text-sm svelte-1797206"),f(a,"class","flex justify-between items-center svelte-1797206"),f(T,"class","text_00000099 text-sm svelte-1797206"),f(B,"class","text-sm svelte-1797206"),f(M,"class","flex justify-between items-center svelte-1797206"),f(t,"class","flex flex-col gap-2 svelte-1797206")},m(y,G){x(y,t,G),i(t,e),i(e,l),i(e,s),i(e,o),Q(r,o,null),i(t,p),i(t,a),i(a,u),i(a,d),i(a,b),Q(v,b,null),i(b,h),i(t,U),i(t,M),i(M,T),i(M,W),i(M,B),Q(I,B,null),F=!0},p(y,G){const Y={};G[0]&16&&(Y.number=Number(y[4]||0)),r.$set(Y);const K={};G[0]&512&&(K.number=Number(y[9]?.supplyApr||0)*100),v.$set(K);const H={};G[0]&8&&(H.number=y[3]||0),I.$set(H)},i(y){F||(w(r.$$.fragment,y),w(v.$$.fragment,y),w(I.$$.fragment,y),F=!0)},o(y){$(r.$$.fragment,y),$(v.$$.fragment,y),$(I.$$.fragment,y),F=!1},d(y){y&&S(t),q(r),q(v),q(I)}}}function $t(n){let t,e,l,s;const o=[xt,wt],r=[];function p(a,u){return 0}return e=p(),l=r[e]=o[e](n),{c(){t=_("div"),l.c(),f(t,"class","flex justify-center items-center svelte-1797206")},m(a,u){x(a,t,u),r[e].m(t,null),s=!0},p:_e,i(a){s||(w(l),s=!0)},o(a){$(l),s=!1},d(a){a&&S(t),r[e].d()}}}function wt(n){let t,e;return t=new ft({}),{c(){P(t.$$.fragment)},m(l,s){Q(t,l,s),e=!0},i(l){e||(w(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){q(t,l)}}}function xt(n){let t,e;return t=new dt({}),{c(){P(t.$$.fragment)},m(l,s){Q(t,l,s),e=!0},i(l){e||(w(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){q(t,l)}}}function St(n){let t,e,l,s,o;const r=[Nt,Lt],p=[];function a(u,d){return d[0]&2&&(e=null),e==null&&(e=Number(u[1])>0),e?0:1}return l=a(n,[-1,-1]),s=p[l]=r[l](n),{c(){t=_("div"),s.c(),f(t,"class","w-[120px] svelte-1797206")},m(u,d){x(u,t,d),p[l].m(t,null),o=!0},p(u,d){let b=l;l=a(u,d),l===b?p[l].p(u,d):(ke(),$(p[b],1,1,()=>{p[b]=null}),ye(),s=p[l],s?s.p(u,d):(s=p[l]=r[l](u),s.c()),w(s,1),s.m(t,null))},i(u){o||(w(s),o=!0)},o(u){$(s),o=!1},d(u){u&&S(t),p[l].d()}}}function Ct(n){let t,e,l,s;const o=[It,Tt],r=[];function p(a,u){return a[2]!==a[6]&&a[5]?.data&&a[5]?.data?.type==="MOVE"?0:1}return t=p(n),e=r[t]=o[t](n),{c(){e.c(),l=ut()},m(a,u){r[t].m(a,u),x(a,l,u),s=!0},p(a,u){let d=t;t=p(a),t===d?r[t].p(a,u):(ke(),$(r[d],1,1,()=>{r[d]=null}),ye(),e=r[t],e?e.p(a,u):(e=r[t]=o[t](a),e.c()),w(e,1),e.m(l.parentNode,l))},i(a){s||(w(e),s=!0)},o(a){$(e),s=!1},d(a){a&&S(l),r[t].d(a)}}}function Lt(n){let t,e,l,s,o;return e=new we({props:{variant:"disabled",disabled:!0,$$slots:{default:[Mt]},$$scope:{ctx:n}}}),{c(){t=_("div"),P(e.$$.fragment)},m(r,p){x(r,t,p),Q(e,t,null),l=!0,s||(o=je(Oe.call(null,t,{content:'<tooltip-detail text="Invalid amount!" />',allowHTML:!0,placement:"top",interactive:!0})),s=!0)},p(r,p){const a={};p[1]&131072&&(a.$$scope={dirty:p,ctx:r}),e.$set(a)},i(r){l||(w(e.$$.fragment,r),l=!0)},o(r){$(e.$$.fragment,r),l=!1},d(r){r&&S(t),q(e),s=!1,o()}}}function Nt(n){let t,e;return t=new we({props:{variant:"tertiary",isLoading:n[8],disabled:n[8],$$slots:{default:[At]},$$scope:{ctx:n}}}),t.$on("click",n[19]),{c(){P(t.$$.fragment)},m(l,s){Q(t,l,s),e=!0},p(l,s){const o={};s[0]&256&&(o.isLoading=l[8]),s[0]&256&&(o.disabled=l[8]),s[1]&131072&&(o.$$scope={dirty:s,ctx:l}),t.$set(o)},i(l){e||(w(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){q(t,l)}}}function Mt(n){let t;return{c(){t=_("div"),t.textContent="Supply",f(t,"class","text-white svelte-1797206")},m(e,l){x(e,t,l)},p:_e,d(e){e&&S(t)}}}function At(n){let t;return{c(){t=_("div"),t.textContent="Supply",f(t,"class","text-white svelte-1797206")},m(e,l){x(e,t,l)},p:_e,d(e){e&&S(t)}}}function Tt(n){let t,e,l;return e=new we({props:{variant:"tertiary",$$slots:{default:[Bt]},$$scope:{ctx:n}}}),e.$on("click",n[18]),{c(){t=_("div"),P(e.$$.fragment),f(t,"class","w-[120px] svelte-1797206")},m(s,o){x(s,t,o),Q(e,t,null),l=!0},p(s,o){const r={};o[1]&131072&&(r.$$scope={dirty:o,ctx:s}),e.$set(r)},i(s){l||(w(e.$$.fragment,s),l=!0)},o(s){$(e.$$.fragment,s),l=!1},d(s){s&&S(t),q(e)}}}function It(n){let t,e,l,s,o;return e=new we({props:{variant:"disabled",disabled:!0,$$slots:{default:[Dt]},$$scope:{ctx:n}}}),{c(){t=_("div"),P(e.$$.fragment),f(t,"class","w-[120px] svelte-1797206")},m(r,p){x(r,t,p),Q(e,t,null),l=!0,s||(o=je(Oe.call(null,t,{content:'<tooltip-detail text="Your connected wallet is not matches with selected wallet" />',allowHTML:!0,placement:"top",interactive:!0})),s=!0)},p(r,p){const a={};p[1]&131072&&(a.$$scope={dirty:p,ctx:r}),e.$set(a)},i(r){l||(w(e.$$.fragment,r),l=!0)},o(r){$(e.$$.fragment,r),l=!1},d(r){r&&S(t),q(e),s=!1,o()}}}function Bt(n){let t;return{c(){t=_("div"),t.textContent="Connect SUI",f(t,"class","text-white svelte-1797206")},m(e,l){x(e,t,l)},p:_e,d(e){e&&S(t)}}}function Dt(n){let t;return{c(){t=_("div"),t.textContent="Supply",f(t,"class","text-white svelte-1797206")},m(e,l){x(e,t,l)},p:_e,d(e){e&&S(t)}}}function Et(n){let t;return{c(){t=A("Cancel")},m(e,l){x(e,t,l)},d(e){e&&S(t)}}}function Pt(n){let t,e,l=n[11]?.type+"",s,o,r,p,a,u=Ve(n[11]?.tx)+"",d;return{c(){t=A("You have successfully "),e=_("span"),s=A(l),o=A(`
        on `),r=_("span"),r.textContent="Scallop",p=A(` with tx
        `),a=_("span"),d=A(u),f(e,"class","font-medium svelte-1797206"),f(r,"class","font-medium svelte-1797206"),f(a,"class","font-medium svelte-1797206")},m(b,v){x(b,t,v),x(b,e,v),i(e,s),x(b,o,v),x(b,r,v),x(b,p,v),x(b,a,v),i(a,d)},p(b,v){v[0]&2048&&l!==(l=b[11]?.type+"")&&$e(s,l),v[0]&2048&&u!==(u=Ve(b[11]?.tx)+"")&&$e(d,u)},d(b){b&&(S(t),S(e),S(o),S(r),S(p),S(a))}}}function Qt(n){let t,e=n[11]?.type+"",l,s;return{c(){t=A("Something wrong when try to "),l=A(e),s=A(". Please try again!")},m(o,r){x(o,t,r),x(o,l,r),x(o,s,r)},p(o,r){r[0]&2048&&e!==(e=o[11]?.type+"")&&$e(l,e)},d(o){o&&(S(t),S(l),S(s))}}}function qt(n){let t;function e(o,r){return o[11]?.status==="fail"?Qt:Pt}let l=e(n),s=l(n);return{c(){t=_("span"),s.c(),f(t,"slot","msg")},m(o,r){x(o,t,r),s.m(t,null)},p(o,r){l===(l=e(o))&&s?s.p(o,r):(s.d(1),s=l(o),s&&(s.c(),s.m(t,null)))},d(o){o&&S(t),s.d()}}}function Ft(n){let t,e,l,s,o,r;const p=[kt,ht],a=[];function u(d,b){return b[0]&2048&&(t=null),t==null&&(t=!!(d[11]&&Object.keys(d[11]).length!==0)),t?0:1}return e=u(n,[-1,-1]),l=a[e]=p[e](n),o=new We({props:{element:Ye,config:n[17],autoConnect:!1,chains:n[16],integrator:"svelte-example"}}),{c(){l.c(),s=N(),P(o.$$.fragment)},m(d,b){a[e].m(d,b),x(d,s,b),Q(o,d,b),r=!0},p(d,b){let v=e;e=u(d,b),e===v?a[e].p(d,b):(ke(),$(a[v],1,1,()=>{a[v]=null}),ye(),l=a[e],l?l.p(d,b):(l=a[e]=p[e](d),l.c()),w(l,1),l.m(s.parentNode,s))},i(d){r||(w(l),w(o.$$.fragment,d),r=!0)},o(d){$(l),$(o.$$.fragment,d),r=!1},d(d){d&&S(s),a[e].d(d),q(o,d)}}}function Vt(n,t,e){let l,s,o,r,p,a,u,d=_e,b=()=>(d(),d=nt(r,c=>e(5,u=c)),r),v,h,U,M,T,W;fe(n,Ke,c=>e(6,v=c)),fe(n,Fe,c=>e(21,h=c)),fe(n,ze,c=>e(7,U=c)),fe(n,Ge,c=>e(33,M=c)),fe(n,Je,c=>e(22,T=c)),fe(n,Xe,c=>e(15,W=c)),n.$$.on_destroy.push(()=>d());const B=new Ze,I=et(),F=[{id:"sui:mainnet",name:"Mainnet",rpcUrl:rt}],Y={walletFn:c=>{h&&h?.connected||Fe.update(g=>c)},onConnectSuccess:c=>{console.log("Success connect: ",c),h&&h.toggleSelect()},onConnectError:c=>{console.error("Error connect",c),h&&h.toggleSelect()}},K=new pt({networkType:"mainnet"}),H=new _t({networkType:"mainnet"});let re=!1,oe=!1,k=0,V="",me={},ee=0,be=0,z=!1,ce={},C=h&&h?.connected?h?.account?.address:T;const xe=async()=>{await K.init(),await H.init()},J=async c=>{try{await K.init();const g=await K.getLendings([l],c);g&&(ee=g[l]?.coinDecimal||0,be=g[l]?.availableSupplyCoin||0)}catch(g){console.error(g)}},ge=async()=>{try{e(10,z=!0);const c=await H.queryMarket();c&&c?.pools&&e(9,me=c?.pools[l])}catch(c){console.error(c)}finally{e(10,z=!1)}};tt(()=>{xe(),ge()});const ae=async()=>{try{const c=u.data;await Me.get(`/v2/address/${v}/sync?chain=${c?.type==="BUNDLE"?"":c?.type}`)}catch(c){console.error("e: ",c)}},Se=async c=>{try{await Me.get(`/v2/address/${c}/positions?protocol=Scallop&force_refresh=true`,{headers:{"Cache-Control":"no-cache"}}).then(g=>g?.data)}catch(g){console.error(g)}},te=async(c,g)=>{try{await Me.get(`/v2/address/${c}/holding?chain=${g}&force_refresh=true`,{headers:{"Cache-Control":"no-cache"}})}catch(R){console.error(R)}},Ce=async()=>{de.track("user_login_sui"),de.track("user_login_sui_Scallop_farm");try{e(20,oe=!0),h.toggleSelect()}catch(c){console.log("error: ",c)}},ie=async c=>{try{const g=await Me.post(`/onchain/${C}/bonus?chain=SUI`,{volume:c?.volume,txHash:c?.txHash,chain:M,type:c?.type}).then(R=>R.data);g&&g?.message==="Claim bonus successfully"&&(I?.invalidateQueries([T,"daily-checkin"]),it(c?.volume*5,2e3))}catch(g){console.error(g)}},Le=async()=>{try{await new mt({walletAddress:C,networkType:"mainnet"}).init(),de.track("user_Supply_Scallop",{address:C}),D()}catch(c){console.error(c)}},D=async()=>{e(8,re=!0);try{const c=await K.getObligations(C),g=k===100?be:Number(V);let R=null;if(c.length!==0){const Ne=c[0].id;R=await H.depositCollateral(l,Math.round(g*10**ee),!1,Ne,C)}else R=await H.deposit(l,Math.round(g*10**ee),!1,C);const Z=await h.signAndExecuteTransactionBlock({transactionBlock:R,options:{showInput:!0,showEffects:!0,showEvents:!0,showObjectChanges:!0,showBalanceChanges:!0}});Z&&Z?.digest?(J(C),ge(),B.clear(),ae(),te(v,M),Se(v),I?.refetchQueries(["position-list",v]),I?.refetchQueries(["positions"]),I?.refetchQueries(["position-history"]),I?.refetchQueries(["token-holding-each-chain"]),I?.refetchQueries(["token-holding"]),e(11,ce={status:"success",tx:Z?.digest,type:"Lending"}),de.track("user_Lending_Scallop",{address:C,tx:Z?.digest,amount:Number(g),value:Number(g)*Number(s)}),ie({volume:Math.floor(Number(g)*Number(s)),txHash:Z.digest,chain:M,type:"lending"})):(de.track("user_Lending_Scallop_fail",{res:Z}),e(11,ce={status:"fail",type:"Lending"}))}catch(c){console.error(c),e(11,ce={status:"fail",type:"Lending"}),de.track("user_Lending_Scallop_fail",{e:c})}finally{e(8,re=!1)}},j=()=>ot.update(c=>!0),ve=c=>{e(1,V=c?.target?.value),k&&k*Number(o)/100!==V&&e(0,k=0)},X=()=>{k===25?e(0,k=0):e(0,k=25)},E=()=>{k===50?e(0,k=0):e(0,k=50)},O=()=>{k===75?e(0,k=0):e(0,k=75)},he=()=>{k===100?e(0,k=0):e(0,k=100)},ue=()=>{ct.update(c=>!1)};return n.$$.update=()=>{n.$$.dirty[0]&128&&(l=U?.symbol?.toLowerCase()||""),n.$$.dirty[0]&128&&e(3,s=U?.market_price),n.$$.dirty[0]&128&&e(4,o=U?.amount),n.$$.dirty[0]&7340032&&h&&h.connected&&oe&&(h?.account?.address?e(2,C=h?.account?.address?.toLowerCase()):(h&&h?.connected&&h.disconnect(),e(20,oe=!1),e(2,C=T))),n.$$.dirty[0]&4&&b(e(14,r=lt({queryKey:["validate",C],queryFn:()=>st(C),retry:!1}))),n.$$.dirty[0]&32&&!u.isError&&u.data!==void 0&&u?.data?.type==="MOVE"&&J(u?.data.address),n.$$.dirty[0]&17&&k&&e(1,V=k*Number(o)/100),n.$$.dirty[0]&10&&e(13,p=V*Number(s)||0),n.$$.dirty[0]&2097380&&e(12,a=!!(U&&h&&h?.connected&&C===v&&u?.data&&u?.data?.type==="MOVE"))},[k,V,C,s,o,u,v,U,re,me,z,ce,a,p,r,W,F,Y,Ce,Le,oe,h,T,j,ve,X,E,O,he,ue]}class Rt extends Ue{constructor(t){super(),He(this,t,Vt,Ft,Re,{},null,[-1,-1])}}export{Rt as S};
