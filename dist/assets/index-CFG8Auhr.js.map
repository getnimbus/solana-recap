{"version":3,"file":"index-CFG8Auhr.js","sources":["../../node_modules/@wormhole-foundation/wormhole-connect/lib/index-CFG8Auhr.mjs"],"sourcesContent":["var d = Object.defineProperty;\nvar h = (i, e, r) => e in i ? d(i, e, { enumerable: !0, configurable: !0, writable: !0, value: r }) : i[e] = r;\nvar o = (i, e, r) => h(i, typeof e != \"symbol\" ? e + \"\" : e, r);\nimport { ah as m, cz as w, Q as g, bH as p } from \"./index-DgePBEwv.mjs\";\nimport { S as u } from \"./sui-BZ3grhrf.mjs\";\nclass c {\n  constructor(e, r, t, n) {\n    o(this, \"network\");\n    o(this, \"chain\");\n    o(this, \"provider\");\n    o(this, \"contracts\");\n    o(this, \"chainId\");\n    o(this, \"coreBridgePackageId\");\n    this.network = e, this.chain = r, this.provider = t, this.contracts = n, this.chainId = m(r);\n    const s = n.coreBridge;\n    if (!s)\n      throw new Error(`CoreBridge contract Address for chain ${r} not found`);\n    this.coreBridgePackageId = s;\n  }\n  getGuardianSet(e) {\n    throw new Error(\"Method not implemented.\");\n  }\n  getMessageFee() {\n    throw new Error(\"Method not implemented.\");\n  }\n  static async fromRpc(e, r) {\n    const [t, n] = await u.chainFromRpc(e), s = r[n];\n    if (s.network !== t)\n      throw new Error(`Network mismatch: ${s.network} !== ${t}`);\n    return new c(t, n, e, s.contracts);\n  }\n  async *verifyMessage(e, r) {\n    throw new Error(\"Method not implemented.\");\n  }\n  async *publishMessage(e, r) {\n    throw new Error(\"Method not implemented.\");\n  }\n  async parseTransaction(e) {\n    return (await this.parseMessages(e)).map((t) => ({\n      emitter: t.emitterAddress,\n      sequence: t.sequence,\n      chain: this.chain\n    }));\n  }\n  async getGuardianSetIndex() {\n    throw new Error(\"Method not implemented.\");\n  }\n  async parseMessages(e) {\n    var n;\n    const t = (n = (await this.provider.getTransactionBlock({\n      digest: e,\n      options: { showEvents: !0, showEffects: !0, showInput: !0 }\n    })).events) == null ? void 0 : n.filter((s) => s.type.endsWith(\"WormholeMessage\"));\n    if (!t || t.length == 0)\n      throw new Error(\"WormholeMessage not found\");\n    return t.map((s) => {\n      const a = s.parsedJson;\n      return w(\"Uint8Array\", {\n        emitterChain: this.chain,\n        emitterAddress: new g(a.sender).toUniversalAddress(),\n        sequence: BigInt(a.sequence),\n        guardianSet: 0,\n        // TODO: need to implement guardian set idx\n        timestamp: Number(a.timestamp),\n        consistencyLevel: a.consistency_level,\n        nonce: a.nonce,\n        signatures: [],\n        payload: new Uint8Array(a.payload)\n      });\n    });\n  }\n}\np(\"Sui\", \"WormholeCore\", c);\nexport {\n  c as SuiWormholeCore\n};\n"],"names":["d","h","i","r","c","t","m","s","u","n","a","w","g","p"],"mappings":"8IAAA,IAAIA,EAAI,OAAO,eACXC,EAAI,CAACC,EAAG,EAAGC,IAAM,KAAKD,EAAIF,EAAEE,EAAG,EAAG,CAAE,WAAY,GAAI,aAAc,GAAI,SAAU,GAAI,MAAOC,EAAG,EAAID,EAAE,CAAC,EAAIC,EACzG,EAAI,CAACD,EAAG,EAAGC,IAAMF,EAAEC,EAAG,OAAO,GAAK,SAAW,EAAI,GAAK,EAAGC,CAAC,EAG9D,MAAMC,CAAE,CACN,YAAY,EAAGD,EAAGE,EAAG,EAAG,CACtB,EAAE,KAAM,SAAS,EACjB,EAAE,KAAM,OAAO,EACf,EAAE,KAAM,UAAU,EAClB,EAAE,KAAM,WAAW,EACnB,EAAE,KAAM,SAAS,EACjB,EAAE,KAAM,qBAAqB,EAC7B,KAAK,QAAU,EAAG,KAAK,MAAQF,EAAG,KAAK,SAAWE,EAAG,KAAK,UAAY,EAAG,KAAK,QAAUC,EAAEH,CAAC,EAC3F,MAAMI,EAAI,EAAE,WACZ,GAAI,CAACA,EACH,MAAM,IAAI,MAAM,yCAAyCJ,CAAC,YAAY,EACxE,KAAK,oBAAsBI,CAC/B,CACE,eAAe,EAAG,CAChB,MAAM,IAAI,MAAM,yBAAyB,CAC7C,CACE,eAAgB,CACd,MAAM,IAAI,MAAM,yBAAyB,CAC7C,CACE,aAAa,QAAQ,EAAGJ,EAAG,CACzB,KAAM,CAACE,EAAG,CAAC,EAAI,MAAMG,EAAE,aAAa,CAAC,EAAGD,EAAIJ,EAAE,CAAC,EAC/C,GAAII,EAAE,UAAYF,EAChB,MAAM,IAAI,MAAM,qBAAqBE,EAAE,OAAO,QAAQF,CAAC,EAAE,EAC3D,OAAO,IAAID,EAAEC,EAAG,EAAG,EAAGE,EAAE,SAAS,CACrC,CACE,MAAO,cAAc,EAAGJ,EAAG,CACzB,MAAM,IAAI,MAAM,yBAAyB,CAC7C,CACE,MAAO,eAAe,EAAGA,EAAG,CAC1B,MAAM,IAAI,MAAM,yBAAyB,CAC7C,CACE,MAAM,iBAAiB,EAAG,CACxB,OAAQ,MAAM,KAAK,cAAc,CAAC,GAAG,IAAK,IAAO,CAC/C,QAAS,EAAE,eACX,SAAU,EAAE,SACZ,MAAO,KAAK,KAClB,EAAM,CACN,CACE,MAAM,qBAAsB,CAC1B,MAAM,IAAI,MAAM,yBAAyB,CAC7C,CACE,MAAM,cAAc,EAAG,CACrB,IAAIM,EACJ,MAAMJ,GAAKI,GAAK,MAAM,KAAK,SAAS,oBAAoB,CACtD,OAAQ,EACR,QAAS,CAAE,WAAY,GAAI,YAAa,GAAI,UAAW,EAAE,CAC1D,CAAA,GAAG,SAAW,KAAO,OAASA,EAAE,OAAQF,GAAMA,EAAE,KAAK,SAAS,iBAAiB,CAAC,EACjF,GAAI,CAACF,GAAKA,EAAE,QAAU,EACpB,MAAM,IAAI,MAAM,2BAA2B,EAC7C,OAAOA,EAAE,IAAKE,GAAM,CAClB,MAAMG,EAAIH,EAAE,WACZ,OAAOI,EAAE,aAAc,CACrB,aAAc,KAAK,MACnB,eAAgB,IAAIC,EAAEF,EAAE,MAAM,EAAE,mBAAoB,EACpD,SAAU,OAAOA,EAAE,QAAQ,EAC3B,YAAa,EAEb,UAAW,OAAOA,EAAE,SAAS,EAC7B,iBAAkBA,EAAE,kBACpB,MAAOA,EAAE,MACT,WAAY,CAAE,EACd,QAAS,IAAI,WAAWA,EAAE,OAAO,CACzC,CAAO,CACP,CAAK,CACL,CACA,CACAG,EAAE,MAAO,eAAgBT,CAAC","x_google_ignoreList":[0]}