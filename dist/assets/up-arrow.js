import{dS as el,by as Ie,bz as Ue,bA as Xe,d9 as ve,dT as Ye,c5 as p,bD as M,c6 as Y,c7 as d,c8 as ue,bF as A,c9 as m,bH as me,bI as g,bJ as pe,bK as b,cb as ae,bL as T,bN as he,bO as jt,bR as Tt,bT as st,cs as tt,bX as Pe,bY as Ct,dU as ur,cf as Be,cw as qe,dV as $t,dW as Ot,bZ as le,b_ as De,c3 as ke,bE as K,bG as W,bM as G,cd as et,dX as tl,cA as Ke,dh as lr,bu as fr,dx as Qe,dq as it,ca as Oe,cg as lt,ch as rt,dY as Fe,dZ as Je,d_ as xt,d$ as Vt,cP as je,cQ as _t,e0 as ll,e1 as dr,dm as St,cI as Ft,ci as kt,e2 as ct,cF as ut,df as rr,dn as mr,e3 as pr,c4 as nr,cj as ir,cl as _r,e4 as br,dg as gr,ck as At,di as hr,dj as vr,e5 as yr,cB as kr,e6 as wr,e7 as Re,e8 as rl,e9 as nl,dc as Rt,da as It,db as ft,dp as dt,ea as Ut,eb as il,ec as $r,ed as xr,cC as Ar,cc as sr,ee as Xt,cy as Yt,dd as Tr,cD as ht}from"./index.js";import{i as Cr,O as ot,c as Kt}from"./isBetween.js";import{E as Wt}from"./EChart.js";import{P as Sr,T as mt,a as pt,b as Nr}from"./Pagination.js";import{d as yt}from"./defaultToken.js";import{I as Gt}from"./Image.js";import{O as Lr}from"./OverlaySidebar.js";import{S as Dr}from"./Select.js";import{r as zr}from"./relativeTime.js";let at,or=!1,Ht=[];const qr=n=>{at=new WebSocket("wss://general-api-wss-fgpupeioaa-uc.a.run.app"),at.onopen=()=>{console.log("Mobula WS connection established"),n&&n(),or=!0,Ht.forEach(t=>{t()}),Ht=[]}},Pr=n=>{try{return JSON.parse(n.data)}catch(t){return console.log(n.data),console.log(t),null}},sl={},Er=["FTM","XDAI","AVAX","CRONOS","ETH","MATIC","BNB","KLAY","AURA","ARB","OP","BASE","SUI","MANTLE"],ol="fe18f8be-644a-45a8-ad05-b088a5e61764",vt=n=>{switch(n){case"ETH":return"1";case"XDAI":return"100";case"AVAX":return"43114";case"CRONOS":return"25";case"MATIC":return"137";case"BNB":return"56";case"KLAY":return"8217";case"AURORA":return"1313161554";case"ARB":return"42161";case"OP":return"10";case"BASE":return"8453";case"MANTLE":return"5000";case"MOVR":return"1285";case"GLMR":return"1284";case"ZETA":return"7000";case"ONE":return"1666600000";case"FANTOM":return"250";case"ROSE":return"42262";case"SUI":return"sui";case"SOL":return"solana";case"TON":return"TON";case"NEAR":return"NEAR";default:return""}},al=(n,t)=>{try{if(!at)console.log("Mobula WS is not initiated"),qr(()=>al(n,t));else{if(!or){console.log("Delay Mobula Subscribe"),Ht.push(()=>al(n,t));return}const e=`${n}-${t}`;sl[e]?el.update(l=>l=sl[e]):(t==="CEX"&&at.send(JSON.stringify({type:"market",authorization:ol,payload:{assets:n.map(l=>({symbol:l})),interval:15}})),t!=="CEX"&&Er.includes(t)&&at.send(JSON.stringify({type:"market",authorization:ol,payload:{assets:n.map(l=>({address:l,blockchain:vt(t)})),interval:15}}))),at.addEventListener("message",l=>{const r=Pr(l);r?.data&&Object.keys(r?.data).length!==0&&(Object.keys(r?.data).forEach(o=>{(r?.data[o]?.liquidity<1e3||r?.data[o]?.price>5e5)&&delete r?.data[o]}),el.update(o=>o=r?.data))})}}catch(e){console.error("Socket error",e)}},Bt=["TON","BUNDLE","MOVE","SUI"];function Mr(n){let t,e,l,r,o;return r=new ke({props:{number:n[5],type:"balance"}}),{c(){t=p("div"),e=p("div"),e.textContent="-",l=M(),K(r.$$.fragment),d(t,"class","flex items-center text-red-500 svelte-17cmwkp")},m(i,a){A(i,t,a),m(t,e),m(t,l),W(r,t,null),o=!0},p(i,a){const s={};a&32&&(s.number=i[5]),r.$set(s)},i(i){o||(b(r.$$.fragment,i),o=!0)},o(i){g(r.$$.fragment,i),o=!1},d(i){i&&T(t),G(r)}}}function Or(n){let t,e,l,r,o;return r=new ke({props:{number:n[5],type:"balance"}}),{c(){t=p("div"),e=p("div"),e.textContent="+",l=M(),K(r.$$.fragment),d(t,"class","flex items-center text-[#00A878] svelte-17cmwkp")},m(i,a){A(i,t,a),m(t,e),m(t,l),W(r,t,null),o=!0},p(i,a){const s={};a&32&&(s.number=i[5]),r.$set(s)},i(i){o||(b(r.$$.fragment,i),o=!0)},o(i){g(r.$$.fragment,i),o=!1},d(i){i&&T(t),G(r)}}}function Hr(n){let t,e,l,r,o,i,a,s=(n[10]?.data?.nativeToken?.symbol||"N/A")+"",c,u,f;return r=new ke({props:{number:n[2],type:"value"}}),i=new ke({props:{number:n[6],type:"amount"}}),{c(){t=p("div"),e=p("span"),e.textContent="-",l=M(),K(r.$$.fragment),o=Y(" ("),K(i.$$.fragment),a=M(),c=Y(s),u=Y(")"),d(t,"class","text-red-500 svelte-17cmwkp")},m(_,y){A(_,t,y),m(t,e),m(t,l),W(r,t,null),m(t,o),W(i,t,null),m(t,a),m(t,c),m(t,u),f=!0},p(_,y){const h={};y&4&&(h.number=_[2]),r.$set(h);const E={};y&64&&(E.number=_[6]),i.$set(E),(!f||y&1024)&&s!==(s=(_[10]?.data?.nativeToken?.symbol||"N/A")+"")&&ae(c,s)},i(_){f||(b(r.$$.fragment,_),b(i.$$.fragment,_),f=!0)},o(_){g(r.$$.fragment,_),g(i.$$.fragment,_),f=!1},d(_){_&&T(t),G(r),G(i)}}}function Br(n){let t,e,l,r,o,i=(n[10]?.data?.nativeToken?.symbol||"N/A")+"",a,s,c;return e=new ke({props:{number:n[3],type:"value"}}),r=new ke({props:{number:n[6],type:"amount"}}),{c(){t=p("div"),K(e.$$.fragment),l=Y(" ("),K(r.$$.fragment),o=M(),a=Y(i),s=Y(")"),d(t,"class","text_00000099")},m(u,f){A(u,t,f),W(e,t,null),m(t,l),W(r,t,null),m(t,o),m(t,a),m(t,s),c=!0},p(u,f){const _={};f&8&&(_.number=u[3]),e.$set(_);const y={};f&64&&(y.number=u[6]),r.$set(y),(!c||f&1024)&&i!==(i=(u[10]?.data?.nativeToken?.symbol||"N/A")+"")&&ae(a,i)},i(u){c||(b(e.$$.fragment,u),b(r.$$.fragment,u),c=!0)},o(u){g(e.$$.fragment,u),g(r.$$.fragment,u),c=!1},d(u){u&&T(t),G(e),G(r)}}}function cl(n){let t,e,l,r;const o=[Vr,jr],i=[];function a(s,c){return s[0]?.to_price<1?0:1}return t=a(n),e=i[t]=o[t](n),{c(){e.c(),l=Be()},m(s,c){i[t].m(s,c),A(s,l,c),r=!0},p(s,c){let u=t;t=a(s),t===u?i[t].p(s,c):(me(),g(i[u],1,1,()=>{i[u]=null}),pe(),e=i[t],e?e.p(s,c):(e=i[t]=o[t](s),e.c()),b(e,1),e.m(l.parentNode,l))},i(s){r||(b(e),r=!0)},o(s){g(e),r=!1},d(s){s&&T(l),i[t].d(s)}}}function jr(n){let t,e;return t=new ke({props:{number:n[0]?.to_price,type:"value"}}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},p(l,r){const o={};r&1&&(o.number=l[0]?.to_price),t.$set(o)},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function Vr(n){let t,e,l;return e=new ke({props:{number:n[0]?.to_price,type:"balance"}}),{c(){t=Y("$"),K(e.$$.fragment)},m(r,o){A(r,t,o),W(e,r,o),l=!0},p(r,o){const i={};o&1&&(i.number=r[0]?.to_price),e.$set(i)},i(r){l||(b(e.$$.fragment,r),l=!0)},o(r){g(e.$$.fragment,r),l=!1},d(r){r&&T(t),G(e,r)}}}function ul(n){let t,e,l,r;const o=[Rr,Fr],i=[];function a(s,c){return s[0]?.from_price<1?0:1}return t=a(n),e=i[t]=o[t](n),{c(){e.c(),l=Be()},m(s,c){i[t].m(s,c),A(s,l,c),r=!0},p(s,c){let u=t;t=a(s),t===u?i[t].p(s,c):(me(),g(i[u],1,1,()=>{i[u]=null}),pe(),e=i[t],e?e.p(s,c):(e=i[t]=o[t](s),e.c()),b(e,1),e.m(l.parentNode,l))},i(s){r||(b(e),r=!0)},o(s){g(e),r=!1},d(s){s&&T(l),i[t].d(s)}}}function Fr(n){let t,e;return t=new ke({props:{number:n[0]?.from_price,type:"value"}}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},p(l,r){const o={};r&1&&(o.number=l[0]?.from_price),t.$set(o)},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function Rr(n){let t,e,l;return e=new ke({props:{number:n[0]?.from_price,type:"balance"}}),{c(){t=Y("$"),K(e.$$.fragment)},m(r,o){A(r,t,o),W(e,r,o),l=!0},p(r,o){const i={};o&1&&(i.number=r[0]?.from_price),e.$set(i)},i(r){l||(b(e.$$.fragment,r),l=!0)},o(r){g(e.$$.fragment,r),l=!1},d(r){r&&T(t),G(e,r)}}}function Ir(n){let t,e;return t=new ke({props:{number:n[0]?.fee,type:"value"}}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},p(l,r){const o={};r&1&&(o.number=l[0]?.fee),t.$set(o)},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function Ur(n){let t,e,l;return e=new ke({props:{number:n[0]?.fee,type:"balance"}}),{c(){t=Y("$"),K(e.$$.fragment)},m(r,o){A(r,t,o),W(e,r,o),l=!0},p(r,o){const i={};o&1&&(i.number=r[0]?.fee),e.$set(i)},i(r){l||(b(e.$$.fragment,r),l=!0)},o(r){g(e.$$.fragment,r),l=!1},d(r){r&&T(t),G(e,r)}}}function fl(n){let t,e,l,r,o,i,a;return{c(){t=p("td"),e=p("div"),l=p("a"),r=p("img"),qe(r.src,o=$t(n[0]?.chain)?.logo)||d(r,"src",o),d(r,"alt",""),d(r,"width","22"),d(r,"height","22"),d(r,"class","rounded-full block svelte-17cmwkp"),d(l,"href",i=n[0].transaction_hash?Ot(n[0].chain,n[0].transaction_hash).trx:""),d(l,"target","_blank"),d(l,"class","cursor-pointer svelte-17cmwkp"),d(e,"class","flex items-center justify-center svelte-17cmwkp"),d(t,"class",a=ue(`py-3 w-10 ${n[9]?"group-hover:bg-[#000]":"group-hover:bg-gray-100"}`)+" svelte-17cmwkp")},m(s,c){A(s,t,c),m(t,e),m(e,l),m(l,r)},p(s,c){c&1&&!qe(r.src,o=$t(s[0]?.chain)?.logo)&&d(r,"src",o),c&1&&i!==(i=s[0].transaction_hash?Ot(s[0].chain,s[0].transaction_hash).trx:"")&&d(l,"href",i),c&512&&a!==(a=ue(`py-3 w-10 ${s[9]?"group-hover:bg-[#000]":"group-hover:bg-gray-100"}`)+" svelte-17cmwkp")&&d(t,"class",a)},d(s){s&&T(t)}}}function Xr(n){let t,e,l,r,o,i,a,s,c,u,f,_,y,h,E,R,L,v=n[0]?.to_token_address?.toLowerCase()===n[1]?.toLowerCase(),B,J=n[0]?.to_token_address?.toLowerCase()!==n[1]?.toLowerCase(),H,D,F,w,P,S,U,V,O,x,Q=(n[4]<24?ve(n[0]?.created_at*1e3).fromNow():ve(n[0]?.created_at*1e3).format("YYYY-MM-DD"))+"",se,de,ee,N=Ye.filter(dl).includes(n[11])&&n[0].chain!=="CEX",k;const $=[Or,Mr],q=[];function ne(C,fe){return fe&3&&(r=null),r==null&&(r=C[0]?.to_token_address?.toLowerCase()===C[1]?.toLowerCase()),r?0:1}o=ne(n,-1),i=q[o]=$[o](n);const ie=[Br,Hr],j=[];function I(C,fe){return fe&3&&(f=null),f==null&&(f=C[0]?.to_token_address?.toLowerCase()===C[1]?.toLowerCase()),f?0:1}_=I(n,-1),y=j[_]=ie[_](n);let re=v&&cl(n),be=J&&ul(n);const ye=[Ur,Ir],z=[];function X(C,fe){return C[0]?.fee<1?0:1}P=X(n),S=z[P]=ye[P](n);let te=N&&fl(n);return{c(){t=p("tr"),e=p("td"),l=p("div"),i.c(),s=M(),c=p("td"),u=p("div"),y.c(),E=M(),R=p("td"),L=p("div"),re&&re.c(),B=M(),be&&be.c(),D=M(),F=p("td"),w=p("div"),S.c(),V=M(),O=p("td"),x=p("div"),se=Y(Q),ee=M(),te&&te.c(),d(l,"class","text-sm font-medium flex justify-start svelte-17cmwkp"),d(e,"class",a=ue(`pl-3 py-3 xl:static xl:bg-transparent sticky left-0 z-10 w-[100px] ${n[9]?"bg-[#131313] group-hover:bg-[#000]":"bg-white group-hover:bg-gray-100"}`)+" svelte-17cmwkp"),d(u,"class","text-sm font-medium flex justify-end svelte-17cmwkp"),d(c,"class",h=ue(`py-3 ${n[9]?"group-hover:bg-[#000]":"group-hover:bg-gray-100"}`)+" svelte-17cmwkp"),d(L,"class","text-sm text_00000099 font-medium flex justify-end svelte-17cmwkp"),d(R,"class",H=ue(`py-3 ${n[9]?"group-hover:bg-[#000]":"group-hover:bg-gray-100"}`)+" svelte-17cmwkp"),d(w,"class","text-sm text_00000099 font-medium text-right flex justify-end svelte-17cmwkp"),d(F,"class",U=ue(`py-3 ${n[9]?"group-hover:bg-[#000]":"group-hover:bg-gray-100"}`)+" svelte-17cmwkp"),d(x,"class","text-sm text_00000099 font-medium text-right svelte-17cmwkp"),d(O,"class",de=ue(`py-3 ${Ye.filter(ml).includes(n[11])&&n[0].chain!=="CEX"?"":"pr-3"} ${n[9]?"group-hover:bg-[#000]":"group-hover:bg-gray-100"}`)+" svelte-17cmwkp"),d(t,"class","group transition-all svelte-17cmwkp")},m(C,fe){A(C,t,fe),m(t,e),m(e,l),q[o].m(l,null),m(t,s),m(t,c),m(c,u),j[_].m(u,null),m(t,E),m(t,R),m(R,L),re&&re.m(L,null),m(L,B),be&&be.m(L,null),m(t,D),m(t,F),m(F,w),z[P].m(w,null),m(t,V),m(t,O),m(O,x),m(x,se),m(t,ee),te&&te.m(t,null),k=!0},p(C,[fe]){let Ce=o;o=ne(C,fe),o===Ce?q[o].p(C,fe):(me(),g(q[Ce],1,1,()=>{q[Ce]=null}),pe(),i=q[o],i?i.p(C,fe):(i=q[o]=$[o](C),i.c()),b(i,1),i.m(l,null)),(!k||fe&512&&a!==(a=ue(`pl-3 py-3 xl:static xl:bg-transparent sticky left-0 z-10 w-[100px] ${C[9]?"bg-[#131313] group-hover:bg-[#000]":"bg-white group-hover:bg-gray-100"}`)+" svelte-17cmwkp"))&&d(e,"class",a);let ce=_;_=I(C,fe),_===ce?j[_].p(C,fe):(me(),g(j[ce],1,1,()=>{j[ce]=null}),pe(),y=j[_],y?y.p(C,fe):(y=j[_]=ie[_](C),y.c()),b(y,1),y.m(u,null)),(!k||fe&512&&h!==(h=ue(`py-3 ${C[9]?"group-hover:bg-[#000]":"group-hover:bg-gray-100"}`)+" svelte-17cmwkp"))&&d(c,"class",h),fe&3&&(v=C[0]?.to_token_address?.toLowerCase()===C[1]?.toLowerCase()),v?re?(re.p(C,fe),fe&3&&b(re,1)):(re=cl(C),re.c(),b(re,1),re.m(L,B)):re&&(me(),g(re,1,1,()=>{re=null}),pe()),fe&3&&(J=C[0]?.to_token_address?.toLowerCase()!==C[1]?.toLowerCase()),J?be?(be.p(C,fe),fe&3&&b(be,1)):(be=ul(C),be.c(),b(be,1),be.m(L,null)):be&&(me(),g(be,1,1,()=>{be=null}),pe()),(!k||fe&512&&H!==(H=ue(`py-3 ${C[9]?"group-hover:bg-[#000]":"group-hover:bg-gray-100"}`)+" svelte-17cmwkp"))&&d(R,"class",H);let we=P;P=X(C),P===we?z[P].p(C,fe):(me(),g(z[we],1,1,()=>{z[we]=null}),pe(),S=z[P],S?S.p(C,fe):(S=z[P]=ye[P](C),S.c()),b(S,1),S.m(w,null)),(!k||fe&512&&U!==(U=ue(`py-3 ${C[9]?"group-hover:bg-[#000]":"group-hover:bg-gray-100"}`)+" svelte-17cmwkp"))&&d(F,"class",U),(!k||fe&17)&&Q!==(Q=(C[4]<24?ve(C[0]?.created_at*1e3).fromNow():ve(C[0]?.created_at*1e3).format("YYYY-MM-DD"))+"")&&ae(se,Q),(!k||fe&2561&&de!==(de=ue(`py-3 ${Ye.filter(ml).includes(C[11])&&C[0].chain!=="CEX"?"":"pr-3"} ${C[9]?"group-hover:bg-[#000]":"group-hover:bg-gray-100"}`)+" svelte-17cmwkp"))&&d(O,"class",de),fe&2049&&(N=Ye.filter(dl).includes(C[11])&&C[0].chain!=="CEX"),N?te?te.p(C,fe):(te=fl(C),te.c(),te.m(t,null)):te&&(te.d(1),te=null)},i(C){k||(b(i),b(y),b(re),b(be),b(S),k=!0)},o(C){g(i),g(y),g(re),g(be),g(S),k=!1},d(C){C&&T(t),q[o].d(),j[_].d(),re&&re.d(),be&&be.d(),z[P].d(),te&&te.d()}}}const dl=n=>n!=="CEX",ml=n=>n!=="CEX";function Yr(n,t,e){let l,r,o,i,a,s,c,u,f,_,y=le,h=()=>(y(),y=De(o,F=>e(14,_=F)),o),E,R,L,v=le,B=()=>(v(),v=De(i,F=>e(10,L=F)),i),J;he(n,jt,F=>e(13,f=F)),he(n,Tt,F=>e(15,E=F)),he(n,st,F=>e(9,R=F)),he(n,tt,F=>e(11,J=F)),n.$$.on_destroy.push(()=>y()),n.$$.on_destroy.push(()=>v()),ve.extend(zr);let{data:H}=t,{contractAddress:D}=t;return n.$$set=F=>{"data"in F&&e(0,H=F.data),"contractAddress"in F&&e(1,D=F.contractAddress)},n.$$.update=()=>{n.$$.dirty&1&&e(3,l=Number(H?.quantity_in)*Number(H?.from_price)),n.$$.dirty&1&&e(2,r=Number(H?.quantity_out)*Number(H?.to_price)),n.$$.dirty&8192&&h(e(8,o=Pe({queryKey:["validate",f],queryFn:()=>Ct(f),retry:!1,enabled:!!(f&&f?.length!==0)}))),n.$$.dirty&57344&&B(e(7,i=Pe({queryKey:["overview",f,E],queryFn:()=>ur(f,E,_.data),enabled:!!(f&&f?.length!==0)}))),n.$$.dirty&15&&e(6,a=(H?.to_token_address?.toLowerCase()===D?.toLowerCase()?l:r)/Number(H.native_price)),n.$$.dirty&3&&e(12,s=H?.to_token_address?.toLowerCase()===D?.toLowerCase()),n.$$.dirty&4097&&e(5,c=Number(s?H?.quantity_out:H?.quantity_in)),n.$$.dirty&1&&e(4,u=ve().diff(ve(H?.created_at*1e3),"hour"))},[H,D,r,l,u,c,a,i,o,R,L,J,s,f,_,E]}class Kr extends Ie{constructor(t){super(),Ue(this,t,Yr,Xr,Xe,{data:0,contractAddress:1})}}const Wr=(n,t)=>{const e=new Date(t),l=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());switch(n){case"1":case"3":case"5":case"15":l.setMinutes(l.getMinutes()+1);break;case"60":case"120":case"240":case"360":case"720":case"D":l.setHours(l.getHours()+1);break;case"W":l.setDate(l.getDate()+7);break;case"M":l.setMonth(l.getMonth()+1);break}return Math.floor(l.getTime())},pl=["1","5","15","60","120","240","24H","7D","30D"],wt=new Map,_l=new Map,bl=(n,t,e,l)=>({onReady:r=>{r({supported_resolutions:pl,supports_marks:!0})},resolveSymbol:(r,o)=>{const i=n?.price,a={name:r,description:"",type:"crypto",session:"24x7",ticker:r,minmov:1,pricescale:Math.min(10**String(Math.round(1e4/i)).length,1e16),has_intraday:!0,intraday_multipliers:["1","15","30","60"],supported_resolution:pl,volume_precision:8,data_status:"streaming"};o(a)},getBars:async(r,o,i,a)=>{if(t==="SOL"){const s=await et.get(`/token/market/chart-history?chain=${t}&symbol=${e}&address=${n.address==="11111111111111111111111111111111"?"So11111111111111111111111111111111111111112":n.address}&resolution=${o}&from=${i.from}&to=${i.to}`).then(c=>c.data);a(s,{noData:s.length!==i.countBack}),i.firstDataRequest&&wt.set(n?.name,s[s.length-1])}else if(t==="TON")if(l){const s=await tl.get(`https://dyor.io/api/tradingview/${l.id}/history`,{params:{symbol:l.pairSymbol,resolution:o,from:i.from,to:i.to,countback:Number(i.countBack),currencyCode:l.pairSymbol}}).then(c=>c.data).catch(c=>{console.error(c)});if(s!==void 0){const c=s?.o?.map((u,f)=>({close:Number(s?.c[f]||0),high:Number(s?.h[f]||0),low:Number(s?.l[f]||0),open:Number(u||0),time:Number(s?.t[f]||0)*1e3,volume:Number(s?.v[f]||0),isBarClosed:f!==s?.c.length-1,isLastBar:f===s?.o.length-1}))||[];a(c,{noData:c.length===0||c.length!==i.countBack}),i.firstDataRequest&&wt.set(e,c[c?.length-1])}else a([],{noData:!0})}else a([],{noData:!0});else{const s={from:i.from*1e3,to:i.to*1e3,amount:i.countBack,period:o,address:n?.address,usd:!0},c=await tl.get("https://api.mobula.io/api/1/market/history/pair",{params:{...s},headers:{Authorization:"eb66b1f3-c24b-4f43-9892-dbc5f37d5a6d"}}).then(u=>u.data).catch(u=>console.error(u));c?(a(c?.data,{noData:c?.data?.length!==i.countBack}),i.firstDataRequest&&wt.set(n?.name,c?.data[c?.data?.length-1])):a([],{noData:!0})}},searchSymbols:()=>{},subscribeBars:(r,o,i,a,s)=>{console.log("Subscribinnnng");const c=new WebSocket("wss://general-api-wss-fgpupeioaa-uc.a.run.app"),u="fe18f8be-644a-45a8-ad05-b088a5e61764",f={interval:5,address:n?.address};c.addEventListener("open",()=>{c.send(JSON.stringify({type:"pair",authorization:u,payload:f}))}),c.addEventListener("message",_=>{const y=JSON.parse(_.data),{data:h}=y;if(h){const{priceUSD:E,date:R}=h,L=wt.get(n?.name),v=Wr(o,L.time);let B;R>=v?B={time:v,open:L.close,high:E,low:E,close:E}:B={...L,high:Math.max(L.high,E),low:Math.min(L.low,E),close:E},i(B)}}),console.log("Subscribe",n?.name+"-"+a),_l.set(n?.name+"-"+a,c)},unsubscribeBars:r=>{console.log("Unsubscribe",n?.name+"-"+r),_l.get(n?.name+"-"+r).close()},getMarks:(r,o,i,a,s)=>{},getTimeScaleMarks:()=>({}),getServerTime:()=>({})}),Gr=n=>({"paneProperties.vertGridProperties.color":n?"#0D0D0D08":"rgba(255, 255, 255, 0.03)","paneProperties.horzGridProperties.color":n?"#0D0D0D08":"rgba(255, 255, 255, 0.03)","symbolWatermarkProperties.transparency":90,"scalesProperties.textColor":n?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)","mainSeriesProperties.candleStyle.wickUpColor":"#0ECB81","mainSeriesProperties.candleStyle.width":"190px","mainSeriesProperties.candleStyle.wickDownColor":"#ea3943","mainSeriesProperties.candleStyle.upColor":"#0ECB81","mainSeriesProperties.candleStyle.downColor":"#ea3943","paneProperties.background":n?"#ffffff":"#0f0f0f","paneProperties.backgroundType":"solid","scalesProperties.backgroundColor":n?"#ffffff":"#0f0f0f","paneProperties.legendProperties.showStudyArguments":!0,"paneProperties.legendProperties.showStudyTitles":!0,"paneProperties.legendProperties.showStudyValues":!0,"paneProperties.legendProperties.showSeriesTitle":!0,"paneProperties.legendProperties.showSeriesOHLC":!0,"paneProperties.legendProperties.showLegend":!0,"paneProperties.legendProperties.showBarChange":!0,"paneProperties.legendProperties.showBackground":!0,"mainSeriesProperties.hollowCandleStyle.drawWick":!0,"mainSeriesProperties.hollowCandleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.haStyle.drawWick":!0,"mainSeriesProperties.haStyle.drawBorder":!0,"paneProperties.legendProperties.backgroundTransparency":50});var Ze=(n=>(n.LIBRARY_PATH="/static/charting_library/",n.CHARTS_STORAGE_URL="https://saveload.tradingview.com",n.CHARTS_STORAGE_API_VERSION="1.1",n.CLIENT_ID="tradingview.com",n.USER_ID="public_user_id",n.CONTAINER_ID_SPOT="tv_chart_container",n.INTERVAL="1h",n.CUSTOM_CSS="../themed.css",n))(Ze||{});const Zr={interval:Ze.INTERVAL,library_path:Ze.LIBRARY_PATH,charts_storage_url:Ze.CHARTS_STORAGE_URL,charts_storage_api_version:Ze.CHARTS_STORAGE_API_VERSION,client_id:Ze.CLIENT_ID,user_id:Ze.USER_ID,custom_css_url:Ze.CUSTOM_CSS},Jr=["save_chart_properties_to_local_storage","two_character_bar_marks_labels","items_favoriting"],Qr=["header_compare","use_localstorage_for_settings","header_symbol_search","symbol_info","volume_force_overlay","show_interval_dialog_on_key_press","symbol_search_hot_key","display_market_status","compare_symbol"];function en(n){let t,e;function l(i,a){return a&41&&(e=null),e==null&&(e=!!(i[5]||i[0].includes("CEX-")||["ALGO","NEAR","INJ","MOVE","BTC"].includes(i[3]))),e?rn:ln}let r=l(n,-1),o=r(n);return{c(){t=p("div"),o.c()},m(i,a){A(i,t,a),o.m(t,null)},p(i,a){r===(r=l(i,a))&&o?o.p(i,a):(o.d(1),o=r(i),o&&(o.c(),o.m(t,null)))},i:le,o:le,d(i){i&&T(t),o.d()}}}function tn(n){let t,e,l,r;const o=[an,on],i=[];function a(s,c){return 0}return e=a(),l=i[e]=o[e](n),{c(){t=p("div"),l.c(),d(t,"class","flex justify-center items-center h-[485px] svelte-j7aqiy")},m(s,c){A(s,t,c),i[e].m(t,null),r=!0},p:le,i(s){r||(b(l),r=!0)},o(s){g(l),r=!1},d(s){s&&T(t),i[e].d()}}}function ln(n){let t,e,l,r,o,i,a=n[8]("Display Trade History")+"",s,c,u,f,_;return{c(){t=p("div"),e=p("div"),l=p("div"),r=p("input"),o=M(),i=p("div"),s=Y(a),c=M(),u=p("div"),d(r,"type","checkbox"),r.checked=n[7],d(r,"class","cursor-pointer relative w-5 h-5 appearance-none rounded-[0.25rem] border outline-none before:pointer-events-none before:absolute before:h-[0.875rem] before:w-[0.875rem] before:scale-0 before:rounded-full before:bg-transparent before:opacity-0 before:shadow-[0px_0px_0px_13px_transparent] before:content-[''] checked:border-primary checked:bg-primary checked:before:opacity-[0.16] checked:after:absolute checked:after:-mt-px checked:after:ml-[0.25rem] checked:after:block checked:after:h-[0.8125rem] checked:after:w-[0.375rem] checked:after:rotate-45 checked:after:border-[0.125rem] checked:after:border-l-0 checked:after:border-t-0 checked:after:border-solid checked:after:border-white checked:after:bg-transparent checked:after:content-[''] hover:cursor-pointer hover:before:opacity-[0.04] hover:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:shadow-none focus:transition-[border-color_0.2s] focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] focus:after:absolute focus:after:z-[1] focus:after:block focus:after:h-[0.875rem] focus:after:w-[0.875rem] focus:after:rounded-[0.125rem] focus:after:content-[''] checked:focus:before:scale-100 checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s] checked:focus:after:-mt-px checked:focus:after:ml-[0.25rem] checked:focus:after:h-[0.8125rem] checked:focus:after:w-[0.375rem] checked:focus:after:rotate-45 checked:focus:after:rounded-none checked:focus:after:border-[0.125rem] checked:focus:after:border-l-0 checked:focus:after:border-t-0 checked:focus:after:border-solid checked:focus:after:border-white checked:focus:after:bg-transparent dark:border-neutral-600 dark:checked:border-primary dark:checked:bg-primary dark:focus:before:shadow-[0px_0px_0px_13px_rgba(255,255,255,0.4)] dark:checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca] svelte-j7aqiy"),d(i,"class","text-sm svelte-j7aqiy"),d(l,"class","flex items-center justify-start gap-2 svelte-j7aqiy"),d(e,"class","flex xl:justify-end justify-start items-center xl:mr-2 svelte-j7aqiy"),d(u,"class","w-full h-[485px] svelte-j7aqiy"),d(u,"id",n[4]),d(t,"class","flex flex-col gap-4 xl:justify-end xl:items-end xl:-mt-10 svelte-j7aqiy")},m(y,h){A(y,t,h),m(t,e),m(e,l),m(l,r),m(l,o),m(l,i),m(i,s),m(t,c),m(t,u),n[19](u),f||(_=Oe(r,"change",n[9]),f=!0)},p(y,h){h&128&&(r.checked=y[7]),h&256&&a!==(a=y[8]("Display Trade History")+"")&&ae(s,a),h&16&&d(u,"id",y[4])},d(y){y&&T(t),n[19](null),f=!1,_()}}}function rn(n){let t,e;function l(i,a){return a&9&&(t=null),t==null&&(t=!!(i[0].includes("CEX-")||["ALGO","NEAR","INJ","MOVE","BTC"].includes(i[3]))),t?sn:nn}let r=l(n,-1),o=r(n);return{c(){o.c(),e=Be()},m(i,a){o.m(i,a),A(i,e,a)},p(i,a){r===(r=l(i,a))&&o?o.p(i,a):(o.d(1),o=r(i),o&&(o.c(),o.m(e.parentNode,e)))},d(i){i&&T(e),o.d(i)}}}function nn(n){let t,e=n[8]("Empty")+"",l;return{c(){t=p("div"),l=Y(e),d(t,"class","flex justify-center items-center h-[485px] text-base text-gray-400 svelte-j7aqiy")},m(r,o){A(r,t,o),m(t,l)},p(r,o){o&256&&e!==(e=r[8]("Empty")+"")&&ae(l,e)},d(r){r&&T(t)}}}function sn(n){let t,e,l=n[8]("Coming soon 🚀")+"",r,o;return{c(){t=p("div"),e=p("div"),r=Y(l),d(e,"class","text-lg svelte-j7aqiy"),d(t,"class",o=ue(`absolute top-0 left-0 rounded-[20px] w-full h-full flex flex-col items-center gap-3 pt-62 z-7 backdrop-blur-md ${n[2]?"bg-black/90":"bg-white/95"}`)+" svelte-j7aqiy")},m(i,a){A(i,t,a),m(t,e),m(e,r)},p(i,a){a&256&&l!==(l=i[8]("Coming soon 🚀")+"")&&ae(r,l),a&4&&o!==(o=ue(`absolute top-0 left-0 rounded-[20px] w-full h-full flex flex-col items-center gap-3 pt-62 z-7 backdrop-blur-md ${i[2]?"bg-black/90":"bg-white/95"}`)+" svelte-j7aqiy")&&d(t,"class",o)},d(i){i&&T(t)}}}function on(n){let t,e;return t=new lt({}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function an(n){let t,e;return t=new rt({}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function cn(n){let t,e,l,r;const o=[tn,en],i=[];function a(s,c){return s[6]?0:1}return t=a(n),e=i[t]=o[t](n),{c(){e.c(),l=Be()},m(s,c){i[t].m(s,c),A(s,l,c),r=!0},p(s,[c]){let u=t;t=a(s),t===u?i[t].p(s,c):(me(),g(i[u],1,1,()=>{i[u]=null}),pe(),e=i[t],e?e.p(s,c):(e=i[t]=o[t](s),e.c()),b(e,1),e.m(l.parentNode,l))},i(s){r||(b(e),r=!0)},o(s){g(e),r=!1},d(s){s&&T(l),i[t].d(s)}}}function un(n,t,e){let l,r,o;he(n,st,V=>e(2,l=V)),he(n,tt,V=>e(3,r=V)),he(n,Ke,V=>e(8,o=V));let{id:i}=t,{mobile:a=!1}=t,{contractAddress:s}=t,{price:c}=t,{chain:u}=t,{sellHistoryTradeList:f}=t,{buyHistoryTradeList:_}=t,{selectedTypeChart:y}=t,{avgCost:h}=t;const E=["ETH","BTC","SUI","BNB","SOL","ADA","AVAX","DOT","MATIC","LINK","ALGO","XTZ","CRO","MNT","XZO","KLAY","AURA","VIC","TON","NEAR","ZETA","FTM","EVMOS","ONE","GLMR","METIS","RON","MOVR","CANTO","ROSE"];let R="",L,v,B=!1,J=!1,H,D=!0;const F=async V=>{e(6,J=!0);try{const O=vt(r==="CEX"?i:u);if(O){const x={address:V,blockchain:O},Q=await et.get("/token/market-pairs/mobula",{params:x});Q&&Q?.data&&Q?.data?.pairs&&Q?.data?.pairs?.length!==0?e(18,v={name:i,address:Q?.data?.pairs[0]?.address,price:c,token0:Q?.data?.pairs[0]?.token0?.symbol,token1:Q?.data?.pairs[0]?.token1?.symbol}):r==="TON"||r==="BUNDLE"&&u==="TON"?e(18,v={name:i,address:s,price:c,token0:i,token1:i}):e(5,B=!0)}else e(5,B=!0)}catch(O){e(5,B=!0),console.error(O)}finally{e(6,J=!1)}},w=async V=>{if(!v)return()=>{};if(!L)return;let O={};if(r==="TON"||r==="BUNDLE"&&u==="TON"){const x=await et.get(`/token/market/chart-history?chain=TON&symbol=${i}`).then(se=>se.data).catch(se=>console.error(se))||null,Q=x?.isWithTONPair?v?.token0===i?v?.token0+"/TON":v?.token1+"/TON":v?.token0===i?v?.token0+"/USD":v?.token1+"/USD";O={datafeed:bl(v,r,i,x),symbol:Q}}else O={datafeed:bl(v,r,i),symbol:v?.token0===i?v?.token0+"/USD":v?.token1+"/USD"};try{fr(async()=>{const{widget:x}=await import("./charting_library.esm.js");return{widget:x}},[]).then(({widget:x})=>{H=new x({...O,...Zr,container:L,container_id:R,library_path:"/static/charting_library/",locale:"en",disabled_features:[...Qr,...a?["left_toolbar"]:[]],enabled_features:Jr,charts_storage_url:"https://saveload.tradingview.com",charts_storage_api_version:"1.1",client_id:"tradingview.com",user_id:"public_user_id",fullscreen:!1,autosize:!0,theme:l?"Dark":"Light",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,favorites:{intervals:["60","240","1","5","1440"]},studies_overrides:{"volume.volume.color.0":"#ea3943","volume.volume.color.1":"#0ECB81"},interval:"5"}),window.tvWidget=H,H.onChartReady(()=>{H.applyOverrides(Gr(!l)||{}),Number(h)>0&&H.activeChart().createShape({time:0,price:Number(h||0)},{shape:"horizontal_line",lock:!0,text:"Avg Cost",overrides:{linewidth:.5,linecolor:"#eab308",showLabel:!0,textcolor:"#eab308",horzLabelsAlign:"right"}}),V&&P()})}).catch(x=>{console.error(x)})}catch(x){console.error(x)}},P=()=>{const V=Qe.groupBy(_,"created_at");(Object.getOwnPropertyNames(V)?.map(ee=>V[ee].length>1?{created_at:ee,quantity_out:V[ee].reduce((N,k)=>N+Number(k?.quantity_out),0)}:{created_at:ee,quantity_out:Number(V[ee][0].quantity_out)})).filter(ee=>Number(ee?.quantity_out)>0).forEach(ee=>{H.activeChart().createExecutionShape().setText(`B ${it(Number(ee?.quantity_out))}`).setFont("14pt Arial").setArrowHeight(14).setTextColor("#00b580").setArrowColor("#00b580").setDirection("buy").setTime(Number(ee.created_at))});const Q=Qe.groupBy(f,"created_at");(Object.getOwnPropertyNames(Q)?.map(ee=>Q[ee].length>1?{created_at:ee,quantity_in:Q[ee].reduce((N,k)=>N+Number(k?.quantity_in),0)}:{created_at:ee,quantity_in:Number(Q[ee][0].quantity_in)})).filter(ee=>Number(ee?.quantity_in)>0).forEach(ee=>{H.activeChart().createExecutionShape().setText(`S ${it(Number(ee?.quantity_in))}`).setFont("14pt Arial").setArrowHeight(14).setTextColor("#ef4444").setArrowColor("#ef4444").setDirection("sell").setTime(Number(ee?.created_at))})},S=V=>{e(7,D=!D),D?H&&H.onChartReady(()=>{P()}):H&&H.onChartReady(()=>{w(!1)})};function U(V){lr[V?"unshift":"push"](()=>{L=V,e(1,L)})}return n.$$set=V=>{"id"in V&&e(10,i=V.id),"mobile"in V&&e(11,a=V.mobile),"contractAddress"in V&&e(0,s=V.contractAddress),"price"in V&&e(12,c=V.price),"chain"in V&&e(13,u=V.chain),"sellHistoryTradeList"in V&&e(14,f=V.sellHistoryTradeList),"buyHistoryTradeList"in V&&e(15,_=V.buyHistoryTradeList),"selectedTypeChart"in V&&e(16,y=V.selectedTypeChart),"avgCost"in V&&e(17,h=V.avgCost)},n.$$.update=()=>{n.$$.dirty&78857&&y==="candles"&&(r==="CEX"?u==="SOL"?e(18,v={name:i,address:s,price:c,token0:i,token1:"USD"}):E.includes(i)?F(i==="ETH"?"ethereum":i):F(s):r==="SOL"?e(18,v={name:i,address:s,price:c,token0:i,token1:"USD"}):u==="SOL"?e(18,v={name:i,address:s,price:c,token0:i,token1:"USD"}):s.includes("CEX-")||["ALGO","NEAR","INJ","MOVE","BTC"].includes(r)?e(18,v={}):s&&s!=="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"?E.includes(i)?F(i==="ETH"?"ethereum":i):F(s):F(i)),n.$$.dirty&1024&&i&&e(4,R=`svelte-tradingview-widget-${i};`),n.$$.dirty&264198&&(v||a||l)&&L&&(window.tvWidget!==null&&(window.tvWidget?.remove(),window.tvWidget=null),w(!0))},[s,L,l,r,R,B,J,D,o,S,i,a,c,u,f,_,y,h,v,U]}class fn extends Ie{constructor(t){super(),Ue(this,t,un,cn,Xe,{id:10,mobile:11,contractAddress:0,price:12,chain:13,sellHistoryTradeList:14,buyHistoryTradeList:15,selectedTypeChart:16,avgCost:17})}}const{Boolean:ar}=St;function gl(n,t,e){const l=n.slice();return l[31]=t[e],l}function hl(n,t,e){const l=n.slice();return l[31]=t[e],l}function vl(n){let t,e,l;return e=new Vt({props:{$$slots:{default:[mn]},$$scope:{ctx:n}}}),{c(){t=p("div"),K(e.$$.fragment),d(t,"class","flex items-center svelte-5nivoe")},m(r,o){A(r,t,o),W(e,t,null),l=!0},p(r,o){const i={};o[0]&131328|o[1]&64&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(r){l||(b(e.$$.fragment,r),l=!0)},o(r){g(e.$$.fragment,r),l=!1},d(r){r&&T(t),G(e)}}}function yl(n){let t,e;return t=new Ft({props:{layoutId:"active-pill",transition:{type:"spring",duration:.6},$$slots:{default:[dn,({motion:l})=>({34:l}),({motion:l})=>[0,l?8:0]]},$$scope:{ctx:n}}}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function dn(n){let t,e,l;return{c(){t=p("div"),d(t,"class","absolute inset-0 rounded-full bg-[#1E96FC] z-0 svelte-5nivoe")},m(r,o){A(r,t,o),e||(l=kt(n[34].call(null,t)),e=!0)},p:le,d(r){r&&T(t),e=!1,l()}}}function kl(n){let t,e,l=n[17](n[31].label)+"",r,o,i,a,s,c,u,f=n[31].value===n[8]&&yl(n);function _(){return n[23](n[31])}return{c(){t=p("div"),e=p("div"),r=Y(l),i=M(),f&&f.c(),a=M(),d(e,"class",o=ue(`relative z-1 ${n[8]===n[31].value&&"text-white"}`)+" svelte-5nivoe"),d(t,"class","relative cursor-pointer text-base font-medium py-1 px-3 rounded-[100px] transition-all svelte-5nivoe")},m(y,h){A(y,t,h),m(t,e),m(e,r),m(t,i),f&&f.m(t,null),m(t,a),s=!0,c||(u=Oe(t,"click",_),c=!0)},p(y,h){n=y,(!s||h[0]&131072)&&l!==(l=n[17](n[31].label)+"")&&ae(r,l),(!s||h[0]&256&&o!==(o=ue(`relative z-1 ${n[8]===n[31].value&&"text-white"}`)+" svelte-5nivoe"))&&d(e,"class",o),n[31].value===n[8]?f?h[0]&256&&b(f,1):(f=yl(n),f.c(),b(f,1),f.m(t,a)):f&&(me(),g(f,1,1,()=>{f=null}),pe())},i(y){s||(b(f),s=!0)},o(y){g(f),s=!1},d(y){y&&T(t),f&&f.d(),c=!1,u()}}}function mn(n){let t,e,l=je(n[19]),r=[];for(let i=0;i<l.length;i+=1)r[i]=kl(hl(n,l,i));const o=i=>g(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=Be()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);A(i,t,a),e=!0},p(i,a){if(a[0]&655616){l=je(i[19]);let s;for(s=0;s<l.length;s+=1){const c=hl(i,l,s);r[s]?(r[s].p(c,a),b(r[s],1)):(r[s]=kl(c),r[s].c(),b(r[s],1),r[s].m(t.parentNode,t))}for(me(),s=l.length;s<r.length;s+=1)o(s);pe()}},i(i){if(!e){for(let a=0;a<l.length;a+=1)b(r[a]);e=!0}},o(i){r=r.filter(ar);for(let a=0;a<r.length;a+=1)g(r[a]);e=!1},d(i){i&&T(t),_t(r,i)}}}function wl(n){let t,e,l;return e=new Vt({props:{$$slots:{default:[_n]},$$scope:{ctx:n}}}),{c(){t=p("div"),K(e.$$.fragment),d(t,"class","flex items-center svelte-5nivoe")},m(r,o){A(r,t,o),W(e,t,null),l=!0},p(r,o){const i={};o[0]&17920|o[1]&64&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(r){l||(b(e.$$.fragment,r),l=!0)},o(r){g(e.$$.fragment,r),l=!1},d(r){r&&T(t),G(e)}}}function $l(n){let t,e;return t=new Ft({props:{layoutId:"active-pill",transition:{type:"spring",duration:.6},$$slots:{default:[pn,({motion:l})=>({34:l}),({motion:l})=>[0,l?8:0]]},$$scope:{ctx:n}}}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},p(l,r){const o={};r[0]&17408|r[1]&64&&(o.$$scope={dirty:r,ctx:l}),t.$set(o)},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function pn(n){let t,e,l,r;return{c(){t=p("div"),d(t,"class","absolute inset-0 rounded-full z-0 svelte-5nivoe"),d(t,"style",e=`background:${!n[14].isError||n[10]&&n[10].length!==0?"rgba(30, 150, 252, 1)":"#dddddd"} `)},m(o,i){A(o,t,i),l||(r=kt(n[34].call(null,t)),l=!0)},p(o,i){i[0]&17408&&e!==(e=`background:${!o[14].isError||o[10]&&o[10].length!==0?"rgba(30, 150, 252, 1)":"#dddddd"} `)&&d(t,"style",e)},d(o){o&&T(t),l=!1,r()}}}function xl(n){let t,e,l=n[31].label+"",r,o,i,a,s,c,u,f=n[31].value===n[9]&&$l(n);function _(){return n[24](n[31])}return{c(){t=p("div"),e=p("div"),r=Y(l),i=M(),f&&f.c(),a=M(),d(e,"class",o=ue(`relative z-1 ${n[31].value===n[9]&&"text-white"}`)+" svelte-5nivoe"),d(t,"class","relative cursor-pointer text-sm font-medium py-1 px-3 rounded-[100px] transition-all svelte-5nivoe")},m(y,h){A(y,t,h),m(t,e),m(e,r),m(t,i),f&&f.m(t,null),m(t,a),s=!0,c||(u=Oe(t,"click",_),c=!0)},p(y,h){n=y,(!s||h[0]&512&&o!==(o=ue(`relative z-1 ${n[31].value===n[9]&&"text-white"}`)+" svelte-5nivoe"))&&d(e,"class",o),n[31].value===n[9]?f?(f.p(n,h),h[0]&512&&b(f,1)):(f=$l(n),f.c(),b(f,1),f.m(t,a)):f&&(me(),g(f,1,1,()=>{f=null}),pe())},i(y){s||(b(f),s=!0)},o(y){g(f),s=!1},d(y){y&&T(t),f&&f.d(),c=!1,u()}}}function _n(n){let t,e,l=je(ll),r=[];for(let i=0;i<l.length;i+=1)r[i]=xl(gl(n,l,i));const o=i=>g(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=Be()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);A(i,t,a),e=!0},p(i,a){if(a[0]&17920){l=je(ll);let s;for(s=0;s<l.length;s+=1){const c=gl(i,l,s);r[s]?(r[s].p(c,a),b(r[s],1)):(r[s]=xl(c),r[s].c(),b(r[s],1),r[s].m(t.parentNode,t))}for(me(),s=l.length;s<r.length;s+=1)o(s);pe()}},i(i){if(!e){for(let a=0;a<l.length;a+=1)b(r[a]);e=!0}},o(i){r=r.filter(ar);for(let a=0;a<r.length;a+=1)g(r[a]);e=!1},d(i){i&&T(t),_t(r,i)}}}function bn(n){let t,e,l,r=n[8]==="candles"&&Al(n),o=n[8]==="line"&&Tl(n);return{c(){t=p("div"),r&&r.c(),e=M(),o&&o.c(),d(t,"class","h-full svelte-5nivoe")},m(i,a){A(i,t,a),r&&r.m(t,null),m(t,e),o&&o.m(t,null),l=!0},p(i,a){i[8]==="candles"?r?(r.p(i,a),a[0]&256&&b(r,1)):(r=Al(i),r.c(),b(r,1),r.m(t,e)):r&&(me(),g(r,1,1,()=>{r=null}),pe()),i[8]==="line"?o?(o.p(i,a),a[0]&256&&b(o,1)):(o=Tl(i),o.c(),b(o,1),o.m(t,null)):o&&(me(),g(o,1,1,()=>{o=null}),pe())},i(i){l||(b(r),b(o),l=!0)},o(i){g(r),g(o),l=!1},d(i){i&&T(t),r&&r.d(),o&&o.d()}}}function gn(n){let t,e,l,r;const o=[wn,kn],i=[];function a(s,c){return 0}return e=a(),l=i[e]=o[e](n),{c(){t=p("div"),l.c(),d(t,"class","flex items-center justify-center h-[475px] svelte-5nivoe")},m(s,c){A(s,t,c),i[e].m(t,null),r=!0},p:le,i(s){r||(b(l),r=!0)},o(s){g(l),r=!1},d(s){s&&T(t),i[e].d()}}}function Al(n){let t,e,l,r,o=n[17]("Chart by")+"",i,a,s,c;return e=new fn({props:{id:n[6],mobile:!1,contractAddress:n[0],price:n[7],chain:n[5],buyHistoryTradeList:n[2],sellHistoryTradeList:n[1],selectedTypeChart:n[8],avgCost:n[4]}}),{c(){t=p("div"),K(e.$$.fragment),l=M(),r=p("div"),i=Y(o),a=M(),s=p("a"),s.textContent="TradingView",d(t,"class","relative h-[485px] mb-12 svelte-5nivoe"),d(s,"href","https://www.tradingview.com/"),d(s,"class","hover:underline max-lg:underline text-[#1E96FC] svelte-5nivoe"),d(s,"target","_blank"),d(r,"class","text-sm text_00000099 svelte-5nivoe")},m(u,f){A(u,t,f),W(e,t,null),A(u,l,f),A(u,r,f),m(r,i),m(r,a),m(r,s),c=!0},p(u,f){const _={};f[0]&64&&(_.id=u[6]),f[0]&1&&(_.contractAddress=u[0]),f[0]&128&&(_.price=u[7]),f[0]&32&&(_.chain=u[5]),f[0]&4&&(_.buyHistoryTradeList=u[2]),f[0]&2&&(_.sellHistoryTradeList=u[1]),f[0]&256&&(_.selectedTypeChart=u[8]),f[0]&16&&(_.avgCost=u[4]),e.$set(_),(!c||f[0]&131072)&&o!==(o=u[17]("Chart by")+"")&&ae(i,o)},i(u){c||(b(e.$$.fragment,u),c=!0)},o(u){g(e.$$.fragment,u),c=!1},d(u){u&&(T(t),T(l),T(r)),G(e)}}}function Tl(n){let t,e,l,r;const o=[vn,hn],i=[];function a(s,c){return s[14].isError||s[10]&&s[10].length===0?0:1}return t=a(n),e=i[t]=o[t](n),{c(){e.c(),l=Be()},m(s,c){i[t].m(s,c),A(s,l,c),r=!0},p(s,c){let u=t;t=a(s),t===u?i[t].p(s,c):(me(),g(i[u],1,1,()=>{i[u]=null}),pe(),e=i[t],e?e.p(s,c):(e=i[t]=o[t](s),e.c()),b(e,1),e.m(l.parentNode,l))},i(s){r||(b(e),r=!0)},o(s){g(e),r=!1},d(s){s&&T(l),i[t].d(s)}}}function hn(n){let t,e,l,r;e=new Wt({props:{id:n[3]+"line-chart",theme:n[15],notMerge:!0,option:n[11],height:485}});let o=yn(n);return{c(){t=p("div"),K(e.$$.fragment),l=M(),o&&o.c(),d(t,"class","relative h-[485px] svelte-5nivoe")},m(i,a){A(i,t,a),W(e,t,null),m(t,l),o&&o.m(t,null),r=!0},p(i,a){const s={};a[0]&8&&(s.id=i[3]+"line-chart"),a[0]&32768&&(s.theme=i[15]),a[0]&2048&&(s.option=i[11]),e.$set(s),o.p(i,a)},i(i){r||(b(e.$$.fragment,i),r=!0)},o(i){g(e.$$.fragment,i),r=!1},d(i){i&&T(t),G(e),o&&o.d()}}}function vn(n){let t,e=n[17]("Empty")+"",l,r,o=["CEX","BTC","AURA","INJ","ALGO"].includes(n[5]),i=o&&Cl(n);return{c(){t=p("div"),l=Y(e),r=M(),i&&i.c(),d(t,"class","flex justify-center items-center h-[485px] text-base text-gray-400 relative svelte-5nivoe")},m(a,s){A(a,t,s),m(t,l),m(t,r),i&&i.m(t,null)},p(a,s){s[0]&131072&&e!==(e=a[17]("Empty")+"")&&ae(l,e),s[0]&32&&(o=["CEX","BTC","AURA","INJ","ALGO"].includes(a[5])),o?i?i.p(a,s):(i=Cl(a),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},i:le,o:le,d(a){a&&T(t),i&&i.d()}}}function yn(n){let t,e,l;return{c(){t=p("div"),e=p("img"),qe(e.src,l=n[12]?ct:ut)||d(e,"src",l),d(e,"alt","logo"),d(e,"loading","lazy"),d(e,"decoding","async"),d(e,"width","140"),d(e,"height","140"),d(t,"class","opacity-40 absolute transform -translate-x-1/2 -translate-y-1/2 pointer-events-none top-1/2 left-1/2 svelte-5nivoe")},m(r,o){A(r,t,o),m(t,e)},p(r,o){o[0]&4096&&!qe(e.src,l=r[12]?ct:ut)&&d(e,"src",l)},d(r){r&&T(t)}}}function Cl(n){let t,e,l=n[17]("Coming soon 🚀")+"",r,o;return{c(){t=p("div"),e=p("div"),r=Y(l),d(e,"class","text-lg svelte-5nivoe"),d(t,"class",o=ue(`absolute top-0 left-0 rounded-[20px] w-full h-full flex flex-col items-center gap-3 pt-62 z-7 backdrop-blur-md ${n[12]?"bg-black/90":"bg-white/95"}`)+" svelte-5nivoe")},m(i,a){A(i,t,a),m(t,e),m(e,r)},p(i,a){a[0]&131072&&l!==(l=i[17]("Coming soon 🚀")+"")&&ae(r,l),a[0]&4096&&o!==(o=ue(`absolute top-0 left-0 rounded-[20px] w-full h-full flex flex-col items-center gap-3 pt-62 z-7 backdrop-blur-md ${i[12]?"bg-black/90":"bg-white/95"}`)+" svelte-5nivoe")&&d(t,"class",o)},d(i){i&&T(t)}}}function kn(n){let t,e;return t=new lt({}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function wn(n){let t,e;return t=new rt({}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function $n(n){let t,e,l=!n[18].includes(n[6])&&!["MOVE","NEAR","AURA","INJ","ALGO"].includes(n[13]),r,o,i,a,s,c=l&&vl(n),u=n[8]==="line"&&wl(n);const f=[gn,bn],_=[];function y(h,E){return h[14].isFetching?0:1}return i=y(n),a=_[i]=f[i](n),{c(){t=p("div"),e=p("div"),c&&c.c(),r=M(),u&&u.c(),o=M(),a.c(),d(e,"class","flex md:flex-row flex-col justify-between gap-6 svelte-5nivoe"),d(t,"class","flex flex-col gap-4 svelte-5nivoe")},m(h,E){A(h,t,E),m(t,e),c&&c.m(e,null),m(e,r),u&&u.m(e,null),m(t,o),_[i].m(t,null),s=!0},p(h,E){E[0]&8256&&(l=!h[18].includes(h[6])&&!["MOVE","NEAR","AURA","INJ","ALGO"].includes(h[13])),l?c?(c.p(h,E),E[0]&8256&&b(c,1)):(c=vl(h),c.c(),b(c,1),c.m(e,r)):c&&(me(),g(c,1,1,()=>{c=null}),pe()),h[8]==="line"?u?(u.p(h,E),E[0]&256&&b(u,1)):(u=wl(h),u.c(),b(u,1),u.m(e,null)):u&&(me(),g(u,1,1,()=>{u=null}),pe());let R=i;i=y(h),i===R?_[i].p(h,E):(me(),g(_[R],1,1,()=>{_[R]=null}),pe(),a=_[i],a?a.p(h,E):(a=_[i]=f[i](h),a.c()),b(a,1),a.m(t,null))},i(h){s||(b(c),b(u),b(a),s=!0)},o(h){g(c),g(u),g(a),s=!1},d(h){h&&T(t),c&&c.d(),u&&u.d(),_[i].d()}}}function xn(n,t,e){let l,r,o,i,a,s,c=le,u=()=>(c(),c=De(l,k=>e(14,s=k)),l);he(n,st,k=>e(12,o=k)),he(n,tt,k=>e(13,i=k)),he(n,Ke,k=>e(17,a=k)),n.$$.on_destroy.push(()=>c()),ve.extend(Cr);let{contractAddress:f}=t,{cgId:_}=t,{sellHistoryTradeList:y}=t,{buyHistoryTradeList:h}=t,{id:E}=t,{avgCost:R}=t,{chain:L}=t,{symbol:v}=t,{price:B}=t;const J=["USDT","USDC","DAI","ETH","ARB","AVAX","AURORA","BASE","BLAST","BNB","CRO","FTM","GNO","TBA","MNT","METIS","OP","MATIC","RON","SCROLL","SMR","VIC","ZETA","ZK"],H=[{label:"Candles",value:"candles"},{label:"Line",value:"line"}];let D="candles",F="30D",w=[],P=[],S={tooltip:{trigger:"axis",extraCssText:"z-index: 9997",formatter(k){const $=k[0].data?.data?.map(ie=>{if(ie.type==="sell")return"sell";if(ie.type==="buy")return"buy"}),q=$?.every(ie=>ie==="sell"),ne=$?.every(ie=>ie==="buy");return`
            <div style="display: flex; flex-direction: column; gap: 12px; min-width: 320px;">
              <div style="display: flex; justify-content: space-between; align-items: center;">
                <div style="font-weight: 500; font-size: 16px; line-height: 19px; color: ${o?"white":"black"}">
                  ${ve(k[0].axisValue).format("YYYY-MM-DD HH:mm")}
                </div>
                
                ${k[0]?.seriesName==="Buy"||k[0]?.seriesName==="Sell"||k[0]?.seriesName==="Trade"?`
                  <div style="display: flex; align-items: centers; gap: 4px; font-weight: 500; color: ${o?"white":"black"}">
                    <span>${k[0]?.marker}</span>
                    <span>${q?`${a("Sell")} +${k[0].data?.data.length}`:ne?`${a("Buy")} +${k[0].data?.data.length}`:`${a(k[0]?.seriesName)}`}</span>
                  </div>
                `:""}
              </div>

              ${k.map(ie=>`
                    ${ie?.seriesName==="Trade"?de(ie?.data):ie?.seriesName==="Buy"||ie?.seriesName==="Sell"?se(ie?.data):`
                        <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr));">
                          <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); display: flex; align-items: centers; gap: 4px; font-weight: 500; color: ${o?"white":"black"}">
                            <span>${ie?.marker}</span>
                            <span>${a(ie?.seriesName)}</span>
                          </div>

                          <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); text-align: right; margin-top: 2px;">
                            <div style="display:flex; justify-content: flex-end; align-items: center; gap: 4px; flex: 1; font-weight: 500; font-size: 14px; line-height: 17px; color: ${o?"white":"black"}">
                              $${Fe(Math.abs(ie.value[1]))}
                            </div>
                          </div>
                        </div>
                      `}
                  `).join("")}
            </div>`}},toolbox:{right:"3%",top:"-1%",feature:{dataZoom:{yAxisIndex:"none"}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"time",axisLabel:{fontSize:Je()}},yAxis:{type:"value",position:"right",axisLabel:{formatter(k,$){if(k.toString().includes("e-")){const q=k.toString();if(q.indexOf("e")!==-1){const ie=parseFloat(q.slice(0,4).split("").filter(j=>j!=".").join(""));return`${k<0?"-":""} $0.0...0${ie}`}}else return`${k<0?"-":""} $`+xt(Math.abs(k)).format("0.00a")},fontSize:Je()}},series:[]},U=30;const V=async()=>{if(L==="SOL"){const k=`solana:${f}`;return(await dr.get(`/chart/${k}?start=${ve().subtract(U==="ALL"?1825:U,"day").unix()}&span=${U==="ALL"?1825:U}&period=1d&searchWidth=600`))?.coins[`${k}`]?.prices.map(ne=>[Number(ne.timestamp)*1e3,Number(ne.price)])||[]}else if(L==="SUI"||i==="MOVE"){const k=U==="ALL"?ve("01.01.2008").valueOf():ve().subtract(U,"day").valueOf(),$=ve().valueOf();return(await et.get(`/token/${f}/chart?chain=SUI&from=${k}&to=${$}`))?.data?.map(ie=>[Number(ie.timestamp),Number(ie.price)])||[]}else{let k={blockchain:"",symbol:"",asset:"",from:null};return L==="CEX"&&(k={blockchain:vt(v),symbol:v,asset:"",from:U==="ALL"?"":ve().subtract(U,"day").valueOf()}),L!=="CEX"&&(f?k={blockchain:vt(L),symbol:"",asset:f==="TONCOIN"?"EQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM9c":f,from:U==="ALL"?"":ve().subtract(U,"day").valueOf()}:k={blockchain:vt(L),symbol:v,asset:"",from:U==="ALL"?"":ve().subtract(U,"day").valueOf()}),(await et.get("/token/price/mobula",{params:k}))?.data||[]}},O=k=>{e(10,w=k?.map($=>({value:[$[0],$[1]],itemStyle:{color:"#1e96fc"}}))),R!==void 0&&Number(R)>0&&e(21,P=k?.map($=>({value:[$[0],R],itemStyle:{color:"#eab308"}})))},x=(k,$)=>{let q=null,ne=1/0;for(const ie of $){const j=Math.abs(ve(k).diff(ve(ie.date)));j<ne&&(ne=j,q=ie)}return q},Q=k=>{let $=new Map,q=[];return k.forEach(ne=>{const j=ve(ne.date).format("YYYY-MM-DD");$.has(j)?$.get(j).push(ne):$.set(j,[ne])}),$.forEach(ne=>{ne.length>1&&q.push(...ne)}),q},se=k=>`
        <div style="display: flex; flex-direction: column; gap: 12px;">
          <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr));">
            <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); display: flex; align-items: centers; gap: 4px; font-weight: 500; color: ${o?"white":"black"}">
              ${a("Value")}
            </div>
            <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); text-align: right; margin-top: 2px;">
              <div style="display:flex; justify-content: flex-end; align-items: center; gap: 4px; flex: 1; font-weight: 500; font-size: 14px; line-height: 17px; color: ${o?"white":"black"}">
                $${k?.type==="buy"?Fe(Number(k?.quantity_in)*Number(k.past_price)):Fe(Number(k?.quantity_out)*Number(k.past_price))}
              </div>
            </div>
          </div>

          <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr));">
            <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); display: flex; align-items: centers; gap: 4px; font-weight: 500; color: ${o?"white":"black"}">
              ${a("Amount")}
            </div>
            <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); text-align: right; margin-top: 2px;">
              <div style="display:flex; justify-content: flex-end; align-items: center; gap: 4px; flex: 1; font-weight: 500; font-size: 14px; line-height: 17px; color: ${o?"white":"black"}">
                ${k?.type==="buy"?it(Number(k?.quantity_in)):it(Number(k?.quantity_out))}
              </div>
            </div>
          </div>
          
          <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr));">
            <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); display: flex; align-items: centers; gap: 4px; font-weight: 500; color: ${o?"white":"black"}">
              ${a("Price")}
            </div>
            <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); text-align: right; margin-top: 2px;">
              <div style="display:flex; justify-content: flex-end; align-items: center; gap: 4px; flex: 1; font-weight: 500; font-size: 14px; line-height: 17px; color: ${o?"white":"black"}">
                $${Fe(k.past_price)}
              </div>
            </div>
          </div>

        </div>
    `,de=k=>{const $=k.data.map(z=>({...z,past_value:z.type==="sell"?Number(z.past_price)*Number(z.quantity_out):Number(z.past_price)*Number(z.quantity_in)})),q=Qe.groupBy($,"type"),ie=Object.getOwnPropertyNames(q).map(z=>({type:z,amount:z==="sell"?q[z]?.reduce((X,te)=>X+Number(te.quantity_out),0):q[z]?.reduce((X,te)=>X+Number(te.quantity_in),0),value:0,price:k?.value[1],past_value:q[z].reduce((X,te)=>X+Number(te.past_value),0)})),j=$.map(z=>{if(z.type==="sell")return"sell";if(z.type==="buy")return"buy"}),I=j.every(z=>z==="sell"),re=j.every(z=>z==="buy"),be=$.reduce((z,X)=>z+Number(X.past_value),0),ye=$.find(z=>z.value[0]===k?.value[0]);if(I){const z=$.reduce((X,te)=>X+Number(te.quantity_out),0);return`
        <div style="display: flex; flex-direction: column; gap: 12px;">
          <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr));">
            <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); display: flex; align-items: centers; gap: 4px; font-weight: 500; color: ${o?"white":"black"}">
              ${a("Value")}
            </div>
            <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); text-align: right; margin-top: 2px;">
              <div style="display:flex; justify-content: flex-end; align-items: center; gap: 4px; flex: 1; font-weight: 500; font-size: 14px; line-height: 17px; color: ${o?"white":"black"}">
                $${Fe(Number(be))}
              </div>
            </div>
          </div>

          <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr));">
            <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); display: flex; align-items: centers; gap: 4px; font-weight: 500; color: ${o?"white":"black"}">
              ${a("Amount")}
            </div>
            <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); text-align: right; margin-top: 2px;">
              <div style="display:flex; justify-content: flex-end; align-items: center; gap: 4px; flex: 1; font-weight: 500; font-size: 14px; line-height: 17px; color: ${o?"white":"black"}">
                ${it(Number(z))}
              </div>
            </div>
          </div>
          
          <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr));">
            <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); display: flex; align-items: centers; gap: 4px; font-weight: 500; color: ${o?"white":"black"}">
              ${a("Price")}
            </div>
            <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); text-align: right; margin-top: 2px;">
              <div style="display:flex; justify-content: flex-end; align-items: center; gap: 4px; flex: 1; font-weight: 500; font-size: 14px; line-height: 17px; color: ${o?"white":"black"}">
                $${Fe(ye?.past_price)}
              </div>
            </div>
          </div>
        </div>
      `}if(re){const z=$.reduce((X,te)=>X+Number(te.quantity_in),0);return`
        <div style="display: flex; flex-direction: column; gap: 12px;">
          <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr));">
            <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); display: flex; align-items: centers; gap: 4px; font-weight: 500; color: ${o?"white":"black"}">
              ${a("Value")}
            </div>
            <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); text-align: right; margin-top: 2px;">
              <div style="display:flex; justify-content: flex-end; align-items: center; gap: 4px; flex: 1; font-weight: 500; font-size: 14px; line-height: 17px; color: ${o?"white":"black"}">
                $${Fe(Number(be))}
              </div>
            </div>
          </div>

          <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr));">
            <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); display: flex; align-items: centers; gap: 4px; font-weight: 500; color: ${o?"white":"black"}">
              ${a("Amount")}
            </div>
            <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); text-align: right; margin-top: 2px;">
              <div style="display:flex; justify-content: flex-end; align-items: center; gap: 4px; flex: 1; font-weight: 500; font-size: 14px; line-height: 17px; color: ${o?"white":"black"}">
                ${it(Number(z))}
              </div>
            </div>
          </div>
          
          <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr));">
            <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); display: flex; align-items: centers; gap: 4px; font-weight: 500; color: ${o?"white":"black"}">
              ${a("Price")}
            </div>
            <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); text-align: right; margin-top: 2px;">
              <div style="display:flex; justify-content: flex-end; align-items: center; gap: 4px; flex: 1; font-weight: 500; font-size: 14px; line-height: 17px; color: ${o?"white":"black"}">
                $${Fe(ye?.past_price)}
              </div>
            </div>
          </div>
        </div>
      `}return`
        <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr));">
          <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); display: flex; align-items: centers; gap: 4px; font-weight: 500; color: ${o?"white":"black"}">
            ${a("Price")}
          </div>
          <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); text-align: right; margin-top: 2px;">
            <div style="display:flex; justify-content: flex-end; align-items: center; gap: 4px; flex: 1; font-weight: 500; font-size: 14px; line-height: 17px; color: ${o?"white":"black"}">
              $${Fe(ie[0]?.price)}
            </div>
          </div>
        </div>
       ${ie.map(z=>`
              <div style="display: flex; flex-direction: column; gap: 6px;">
                <div style="display: flex; align-items: centers; gap: 4px; font-weight: 500; color: ${o?"white":"black"}">
                  <span style="margin-top: 5px; display:inline-block; margin-right:4px; border-radius:10px; width:10px; height:10px; background-color: ${z?.type==="buy"?"#00b580":"#ef4444"};"></span>
                  <span style="text-transform: capitalize;">${z?.type}</span>
                </div>

           
                <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr));">
                  <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); display: flex; align-items: centers; gap: 4px; font-weight: 500; color: ${o?"white":"black"}">
                    ${a("Value")}
                  </div>
                  <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); text-align: right; margin-top: 2px;">
                    <div style="display:flex; justify-content: flex-end; align-items: center; gap: 4px; flex: 1; font-weight: 500; font-size: 14px; line-height: 17px; color: ${o?"white":"black"}">
                      $${Fe(z.past_value)}
                    </div>
                  </div>
                </div>

                <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr));">
                  <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); display: flex; align-items: centers; gap: 4px; font-weight: 500; color: ${o?"white":"black"}">
                    ${a("Amount")}
                  </div>
                  <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); text-align: right; margin-top: 2px;">
                    <div style="display:flex; justify-content: flex-end; align-items: center; gap: 4px; flex: 1; font-weight: 500; font-size: 14px; line-height: 17px; color: ${o?"white":"black"}">
                      ${it(Number(z?.amount))}
                    </div>
                  </div>
                </div>
              </div>
            `).join("")}
    `},ee=k=>e(8,D=k.value),N=k=>{(!s.isError||w&&w.length!==0)&&e(9,F=k.value)};return n.$$set=k=>{"contractAddress"in k&&e(0,f=k.contractAddress),"cgId"in k&&e(20,_=k.cgId),"sellHistoryTradeList"in k&&e(1,y=k.sellHistoryTradeList),"buyHistoryTradeList"in k&&e(2,h=k.buyHistoryTradeList),"id"in k&&e(3,E=k.id),"avgCost"in k&&e(4,R=k.avgCost),"chain"in k&&e(5,L=k.chain),"symbol"in k&&e(6,v=k.symbol),"price"in k&&e(7,B=k.price)},n.$$.update=()=>{if(n.$$.dirty[0]&512)switch(F){case"ALL":e(22,U="ALL");break;case"7D":e(22,U=7);break;case"30D":e(22,U=30);break;case"3M":e(22,U=90);break;case"1Y":e(22,U=365);break;default:e(22,U=30)}if(n.$$.dirty[0]&8256&&(J.includes(v)||["MOVE","NEAR","AURA","INJ","ALGO"].includes(i))&&e(8,D="line"),n.$$.dirty[0]&5251425&&u(e(16,l=Pe({queryKey:["token-price",f,v,_,L,U],queryFn:()=>V(),retry:!1,enabled:!!(f||v||_||L||U)&&D==="line"&&["BUNDLE","CEX","EVM","SOL","TON","MOVE","NEAR"].includes(i)}))),n.$$.dirty[0]&16384&&!s.isError&&s.data!==void 0&&s.data.length!==0&&O(s.data),n.$$.dirty[0]&6294534&&U)if(w&&w.length!==0){const k=w[0]?.value[0],$=w[w.length-1]?.value[0],q=h?.map(ce=>{const we=x(ce.created_at*1e3,w.map(_e=>({..._e,date:_e?.value[0]||0})));return{quantity_in:ce.quantity_in,quantity_out:ce.quantity_out,itemStyle:{color:"#00b580"},value:[ce?.created_at*1e3,we?.value[1]||0],type:"buy",past_price:ce?.to_price}}),ne=y?.map(ce=>{const we=x(ce.created_at*1e3,w.map(_e=>({..._e,date:_e?.value[0]||0})));return{quantity_in:ce.quantity_in,quantity_out:ce.quantity_out,itemStyle:{color:"#ef4444"},value:[ce.created_at*1e3,we?.value[1]||0],type:"sell",past_price:ce.from_price}}),ie=q?.concat(ne),j=Q(ie.map(ce=>({...ce,date:ve(ce.value[0]).format("YYYY-MM-DD")}))),I=Qe.groupBy(j,"date"),ye=Object.getOwnPropertyNames(I).map(ce=>{let we="#6b7280";const _e=x(I[ce][0].value[0],w.map(Ee=>({...Ee,date:Ee.value[0]}))),$e=I[ce].map(Ee=>{if(Ee.type==="sell")return"sell";if(Ee.type==="buy")return"buy"}),Te=$e.every(Ee=>Ee==="sell"),Ve=$e.every(Ee=>Ee==="buy");return Te&&(we="#ef4444"),Ve&&(we="#00b580"),{dateFormat:ce,date:I[ce][0].value[0],data:I[ce],itemStyle:{color:we},value:[I[ce][0]?.value[0],_e?.value[1]||0],type:"trade"}}).filter(ce=>ve(ce.date).isBetween(ve(k),ve($),null,"[]"));let z=[];ye&&ye.length!==0?z=ie.map(ce=>({...ce,date:ce.value[0]})).filter(ce=>!j.map(we=>({...we,date:we.value[0]})).find(we=>ce.date===we.date)):z=ie.map(ce=>({...ce,date:ce.value[0]}));const X=Qe.groupBy(z,"type"),te=X.buy,C=X.sell,fe=(te||[]).filter(ce=>ve(ce.date).isBetween(ve(k),ve($),null,"[]")),Ce=(C||[]).filter(ce=>ve(ce.date).isBetween(ve(k),ve($),null,"[]"));e(11,S={...S,series:[{name:"Trade",type:"scatter",zlevel:2,z:3,symbolSize:16,data:ye||[]},{name:"Buy",type:"scatter",zlevel:2,z:3,symbolSize:16,data:fe||[]},{name:"Sell",type:"scatter",zlevel:2,z:3,symbolSize:16,data:Ce||[]},{name:"Price",type:"line",zlevel:1,z:2,lineStyle:{type:"solid",color:"#1e96fc"},showSymbol:!1,data:w},{name:"Avg Cost",type:"line",zlevel:1,z:2,lineStyle:{type:"dashed",color:"#eab308"},endLabel:{show:!0,offset:[-75,-14],formatter:()=>"Avg Cost",color:"#eab308"},showSymbol:!1,data:P||[]}]})}else e(11,S={...S,series:[{name:"Trade",type:"scatter",zlevel:2,z:3,symbolSize:16,data:[]},{name:"Buy",type:"scatter",zlevel:2,z:3,symbolSize:16,data:[]},{name:"Sell",type:"scatter",zlevel:2,z:3,symbolSize:16,data:[]},{name:"Price",type:"line",symbol:"circle",zlevel:1,z:2,datasetIndex:1,symbolSize:.1,lineStyle:{type:"solid",color:"#1e96fc"},showSymbol:!1,data:[]},{name:"Avg Cost",type:"line",symbol:"circle",zlevel:1,z:2,datasetIndex:1,symbolSize:.1,lineStyle:{type:"dashed",color:"#eab308"},showSymbol:!1,data:[]}]});n.$$.dirty[0]&4096&&e(15,r=o?"dark":"white")},[f,y,h,E,R,L,v,B,D,F,w,S,o,i,s,r,l,a,J,H,_,P,U,ee,N]}class An extends Ie{constructor(t){super(),Ue(this,t,xn,$n,Xe,{contractAddress:0,cgId:20,sellHistoryTradeList:1,buyHistoryTradeList:2,id:3,avgCost:4,chain:5,symbol:6,price:7},null,[-1,-1])}}function Tn(n){let t,e,l,r;const o=[Nn,Sn],i=[];function a(s,c){return s[3].isError||s[3].data!==void 0&&s[3].data.length===0?0:1}return e=a(n),l=i[e]=o[e](n),{c(){t=p("div"),l.c(),d(t,"class","h-full svelte-18z9q0h")},m(s,c){A(s,t,c),i[e].m(t,null),r=!0},p(s,c){let u=e;e=a(s),e===u?i[e].p(s,c):(me(),g(i[u],1,1,()=>{i[u]=null}),pe(),l=i[e],l?l.p(s,c):(l=i[e]=o[e](s),l.c()),b(l,1),l.m(t,null))},i(s){r||(b(l),r=!0)},o(s){g(l),r=!1},d(s){s&&T(t),i[e].d()}}}function Cn(n){let t,e,l,r;const o=[zn,Dn],i=[];function a(s,c){return 0}return e=a(),l=i[e]=o[e](n),{c(){t=p("div"),l.c(),d(t,"class","flex items-center justify-center h-[475px] svelte-18z9q0h")},m(s,c){A(s,t,c),i[e].m(t,null),r=!0},p:le,i(s){r||(b(l),r=!0)},o(s){g(l),r=!1},d(s){s&&T(t),i[e].d()}}}function Sn(n){let t,e,l,r;e=new Wt({props:{id:n[0]+"bar-chart",theme:n[9],notMerge:!0,option:n[1],height:485}});let o=Ln(n);return{c(){t=p("div"),K(e.$$.fragment),l=M(),o&&o.c(),d(t,"class","relative svelte-18z9q0h")},m(i,a){A(i,t,a),W(e,t,null),m(t,l),o&&o.m(t,null),r=!0},p(i,a){const s={};a&1&&(s.id=i[0]+"bar-chart"),a&512&&(s.theme=i[9]),a&2&&(s.option=i[1]),e.$set(s),o.p(i,a)},i(i){r||(b(e.$$.fragment,i),r=!0)},o(i){g(e.$$.fragment,i),r=!1},d(i){i&&T(t),G(e),o&&o.d()}}}function Nn(n){let t,e=n[11]("Empty")+"",l;return{c(){t=p("div"),l=Y(e),d(t,"class","flex justify-center items-center h-[475px] text-base text-gray-400 svelte-18z9q0h")},m(r,o){A(r,t,o),m(t,l)},p(r,o){o&2048&&e!==(e=r[11]("Empty")+"")&&ae(l,e)},i:le,o:le,d(r){r&&T(t)}}}function Ln(n){let t,e,l;return{c(){t=p("div"),e=p("img"),qe(e.src,l=n[2]?ct:ut)||d(e,"src",l),d(e,"alt","logo"),d(e,"loading","lazy"),d(e,"decoding","async"),d(e,"width","140"),d(e,"height","140"),d(t,"class","opacity-40 absolute transform -translate-x-1/2 -translate-y-1/2 pointer-events-none top-1/2 left-1/2 svelte-18z9q0h")},m(r,o){A(r,t,o),m(t,e)},p(r,o){o&4&&!qe(e.src,l=r[2]?ct:ut)&&d(e,"src",l)},d(r){r&&T(t)}}}function Dn(n){let t,e;return t=new lt({}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function zn(n){let t,e;return t=new rt({}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function qn(n){let t,e,l,r,o,i,a,s=n[11]("Win / Lose addresses")+"",c,u,f,_,y,h,E=n[11]("Win")+"",R,L,v,B,J,H=n[11]("Lose")+"",D,F,w,P,S,U=n[11]("Profit / Loss")+"",V,O,x,Q,se=n[11]("Profit")+"",de,ee,N,k,$,q=n[11]("Loss")+"",ne,ie,j,I,re;const be=[Cn,Tn],ye=[];function z(X,te){return X[3].isFetching?0:1}return e=z(n),l=ye[e]=be[e](n),y=new ke({props:{number:n[5]/n[4]*100,type:"percent"}}),B=new ke({props:{number:n[6]/n[4]*100,type:"percent"}}),N=new ke({props:{number:Math.abs(n[7]),type:"value"}}),j=new ke({props:{number:Math.abs(n[8]),type:"value"}}),{c(){t=p("div"),l.c(),r=M(),o=p("div"),i=p("div"),a=p("div"),c=Y(s),u=M(),f=p("div"),_=p("div"),K(y.$$.fragment),h=Y("% "),R=Y(E),L=M(),v=p("div"),K(B.$$.fragment),J=Y("% "),D=Y(H),w=M(),P=p("div"),S=p("div"),V=Y(U),O=M(),x=p("div"),Q=p("div"),de=Y(se),ee=M(),K(N.$$.fragment),k=M(),$=p("div"),ne=Y(q),ie=M(),K(j.$$.fragment),d(a,"class","text-lg svelte-18z9q0h"),d(_,"class","absolute top-5 left-0 text-sm svelte-18z9q0h"),d(v,"class","absolute top-5 right-0 text-sm svelte-18z9q0h"),d(f,"class","h-2 rounded-lg relative svelte-18z9q0h"),d(f,"style",F=`background: ${n[5]===0?"#00000066":`linear-gradient(to right, #25b770 ${(n[5]/n[4]*100).toFixed(2)}%, #e14040 ${(n[5]/n[4]*100).toFixed(2)}%)`}`),d(i,"class","flex flex-col gap-2 svelte-18z9q0h"),d(S,"class","text-lg svelte-18z9q0h"),d(Q,"class","flex gap-1 absolute top-5 left-0 text-sm w-max svelte-18z9q0h"),d($,"class","flex gap-1 absolute top-5 right-0 text-sm svelte-18z9q0h"),d(x,"class","h-2 rounded-lg relative svelte-18z9q0h"),d(x,"style",I=`background: ${n[7]===0?"#00000066":`linear-gradient(to right, #25b770 ${Math.abs(n[7]/(Math.abs(n[8])+Math.abs(n[7]))*100).toFixed(2)}%, #e14040 ${Math.abs(n[7]/(Math.abs(n[8])+Math.abs(n[7]))*100)?.toFixed(2)}%)`}`),d(P,"class","flex flex-col gap-2 svelte-18z9q0h"),d(o,"class","flex flex-col gap-14 svelte-18z9q0h"),d(t,"class","flex flex-col pb-10 svelte-18z9q0h")},m(X,te){A(X,t,te),ye[e].m(t,null),m(t,r),m(t,o),m(o,i),m(i,a),m(a,c),m(i,u),m(i,f),m(f,_),W(y,_,null),m(_,h),m(_,R),m(f,L),m(f,v),W(B,v,null),m(v,J),m(v,D),m(o,w),m(o,P),m(P,S),m(S,V),m(P,O),m(P,x),m(x,Q),m(Q,de),m(Q,ee),W(N,Q,null),m(x,k),m(x,$),m($,ne),m($,ie),W(j,$,null),re=!0},p(X,[te]){let C=e;e=z(X),e===C?ye[e].p(X,te):(me(),g(ye[C],1,1,()=>{ye[C]=null}),pe(),l=ye[e],l?l.p(X,te):(l=ye[e]=be[e](X),l.c()),b(l,1),l.m(t,r)),(!re||te&2048)&&s!==(s=X[11]("Win / Lose addresses")+"")&&ae(c,s);const fe={};te&48&&(fe.number=X[5]/X[4]*100),y.$set(fe),(!re||te&2048)&&E!==(E=X[11]("Win")+"")&&ae(R,E);const Ce={};te&80&&(Ce.number=X[6]/X[4]*100),B.$set(Ce),(!re||te&2048)&&H!==(H=X[11]("Lose")+"")&&ae(D,H),(!re||te&48&&F!==(F=`background: ${X[5]===0?"#00000066":`linear-gradient(to right, #25b770 ${(X[5]/X[4]*100).toFixed(2)}%, #e14040 ${(X[5]/X[4]*100).toFixed(2)}%)`}`))&&d(f,"style",F),(!re||te&2048)&&U!==(U=X[11]("Profit / Loss")+"")&&ae(V,U),(!re||te&2048)&&se!==(se=X[11]("Profit")+"")&&ae(de,se);const ce={};te&128&&(ce.number=Math.abs(X[7])),N.$set(ce),(!re||te&2048)&&q!==(q=X[11]("Loss")+"")&&ae(ne,q);const we={};te&256&&(we.number=Math.abs(X[8])),j.$set(we),(!re||te&384&&I!==(I=`background: ${X[7]===0?"#00000066":`linear-gradient(to right, #25b770 ${Math.abs(X[7]/(Math.abs(X[8])+Math.abs(X[7]))*100).toFixed(2)}%, #e14040 ${Math.abs(X[7]/(Math.abs(X[8])+Math.abs(X[7]))*100)?.toFixed(2)}%)`}`))&&d(x,"style",I)},i(X){re||(b(l),b(y.$$.fragment,X),b(B.$$.fragment,X),b(N.$$.fragment,X),b(j.$$.fragment,X),re=!0)},o(X){g(l),g(y.$$.fragment,X),g(B.$$.fragment,X),g(N.$$.fragment,X),g(j.$$.fragment,X),re=!1},d(X){X&&T(t),ye[e].d(),G(y),G(B),G(N),G(j)}}}function Pn(n,t,e){let l,r,o,i,a=le,s=()=>(a(),a=De(l,w=>e(3,i=w)),l),c,u,f;he(n,st,w=>e(2,o=w)),he(n,tt,w=>e(15,c=w)),he(n,jt,w=>e(16,u=w)),he(n,Ke,w=>e(11,f=w)),n.$$.on_destroy.push(()=>a());let{data:_}=t,{id:y}=t,{avgCost:h}=t,{filterType:E}=t,R={tooltip:{trigger:"axis",extraCssText:"z-index: 9997",formatter(w){return`
            <div style="display: flex; flex-direction: column; gap: 12px; min-width: 260px;">
              <div style="font-weight: 500; font-size: 16px; line-height: 19px; color: ${o?"white":"black"}">
                $${v(w[0]?.axisValue)}
              </div>
              <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr));">
                <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); display: flex; align-items: centers; gap: 4px; font-weight: 500; color: ${o?"white":"black"}">
                  <span>${w[0]?.marker}</span>
                  ${f("Amount")}
                </div>

                <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); text-align: right;">
                  <div style="margin-top: 4px; display:flex; justify-content: flex-end; align-items: center; gap: 4px; flex: 1; font-weight: 500; font-size: 14px; line-height: 17px; color: ${o?"white":"black"};">
                    ${v(w[0]?.value[1])}
                  </div>
                </div>
              </div>
              
              ${h!==0?`
                  <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr));">
                    <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); display: flex; align-items: centers; gap: 4px; font-weight: 500; color: ${o?"white":"black"}">
                      <div style="margin-top: 5px; display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:#eab308;"></div>
                      ${f("Your Avg Cost")}
                    </div>
                    <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); text-align: right;">
                      <div style="margin-top: 4px; display:flex; justify-content: flex-end; align-items: center; gap: 4px; flex: 1; font-weight: 500; font-size: 14px; line-height: 17px; color: ${o?"white":"black"};">
                        $${v(h)}
                      </div>
                    </div>
                  </div>
                `:""}
              
              <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr));">
                <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); display: flex; align-items: centers; gap: 4px; font-weight: 500; color: ${o?"white":"black"}">
                  <div style="margin-top: 5px; display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:#1e96fc;"></div>
                  ${f("Current Price")}
                </div>
                <div style="grid-template-columns: repeat(1, minmax(0, 1fr)); text-align: right;">
                  <div style="margin-top: 4px; display:flex; justify-content: flex-end; align-items: center; gap: 4px; flex: 1; font-weight: 500; font-size: 14px; line-height: 17px; color: ${o?"white":"black"};">
                    $${v(_?.market_price)}
                  </div>
                </div>
              </div>
            </div>`}},grid:{left:70,right:70},toolbox:{right:"4%",feature:{dataZoom:{yAxisIndex:"none"}}},xAxis:{type:"value",axisTick:{show:!1},nameGap:30,min(w){return w.min*.95},max(w){return w.max*1.05},axisLabel:{formatter(w,P){return"$"+v(w)},fontSize:Je()}},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{formatter(w,P){return`${w<0?"-":""}`+xt(Math.abs(w)).format("0.00a")},fontSize:Je()}},series:[]};const L=async(w,P)=>(await et.get(`/v2/address/${w}/token/${_?.contractAddress}/trade-analysis?chain=${_?.chain}&type=${P?.value}`))?.data,v=w=>{if(w&&w?.toString()?.includes("e-")){const P=w?.toString();if(P.indexOf("e")!==-1)return`0.0...0${parseFloat(P.slice(0,4).split("").filter(V=>V!=".").join(""))}`}else return xt(Math.abs(w)).format("0.000000a")};let B=0,J=0,H=0,D=0,F=0;return n.$$set=w=>{"data"in w&&e(12,_=w.data),"id"in w&&e(0,y=w.id),"avgCost"in w&&e(13,h=w.avgCost),"filterType"in w&&e(14,E=w.filterType)},n.$$.update=()=>{if(n.$$.dirty&118784&&s(e(10,l=Pe({queryKey:["trade-history-analysis",_,u,E],queryFn:()=>L(u,E),retry:!1,enabled:_!==void 0&&Object.keys(_).length!==0&&u&&u?.length!==0&&Bt.includes(c)}))),n.$$.dirty&12298)if(!i.isError&&i.data!==void 0&&i.data.length!==0){const w=i?.data?.map(O=>[O?.price,O?.totalToken]);h!==0?e(1,R={...R,series:[{tooltip:{show:!0},type:"bar",itemStyle:{color:"#27326F",borderColor:"#27326F"},data:w,markLine:{precision:10,symbol:["none","none"],data:[{name:"Current Price",label:"Current Price",xAxis:_?.market_price||_?.price?.price||_?.rate,lineStyle:{color:"#1e96fc",type:"solid",width:2}},{name:"Avg Cost",label:"Avg Cost",xAxis:h||0,lineStyle:{color:"#eab308",type:"dashed",width:2}}],label:{show:!1}}}]}):e(1,R={...R,series:[{tooltip:{show:!0},type:"bar",itemStyle:{color:"#27326F",borderColor:"#27326F"},data:w,markLine:{precision:10,symbol:["none"],data:[{name:"Current Price",label:"Current Price",xAxis:_?.market_price||0,lineStyle:{color:"#1e96fc",type:"solid",width:2}}],label:{show:!1}}}]}),e(4,B=i?.data.reduce((O,x)=>O+Number(x.count),0)),i?.data.reduce((O,x)=>O+Number(x.totalToken),0);const P=i?.data.filter(O=>Number(O.price)<=Number(_?.market_price)),S=P?.map(O=>({...O,valueProfit:Number(_?.market_price)*Number(O.totalToken)-Number(O.price)*Number(O.totalToken)}));e(7,D=S.reduce((O,x)=>O+Number(x.valueProfit),0)),e(5,J=P.reduce((O,x)=>O+Number(x.count),0));const U=i.data.filter(O=>Number(O.price)>Number(_?.market_price)),V=U?.map(O=>({...O,valueProfit:Number(_?.market_price)*Number(O.totalToken)-Number(O.price)*Number(O.totalToken)}));e(8,F=V.reduce((O,x)=>O+Number(x.valueProfit),0)),e(6,H=U.reduce((O,x)=>O+Number(x.count),0))}else e(1,R={...R,series:[{tooltip:{show:!0},type:"bar",itemStyle:{color:"#27326F",borderColor:"#27326F"},data:[],markLine:{precision:10,symbol:["none","none"],data:[{name:"Current Price",label:"Current Price",xAxis:0,lineStyle:{color:"#1e96fc",type:"solid",width:2}},{name:"Avg Cost",label:"Avg Cost",xAxis:0,lineStyle:{color:"#eab308",type:"dashed",width:2}}],label:{show:!1}}}]});n.$$.dirty&4&&e(9,r=o?"dark":"white")},[y,R,o,i,B,J,H,D,F,r,l,f,_,h,E,c,u]}class En extends Ie{constructor(t){super(),Ue(this,t,Pn,qn,Xe,{data:12,id:0,avgCost:13,filterType:14})}}function Mn(n){let t,e,l,r,o;return e=new nr({props:{variant:"premium",disabled:!0,$$slots:{default:[Hn]},$$scope:{ctx:n}}}),{c(){t=p("div"),K(e.$$.fragment),d(t,"class","w-max svelte-1f09gyz")},m(i,a){A(i,t,a),W(e,t,null),l=!0,r||(o=kt(ir.call(null,t,{content:'<tooltip-detail text="Upgrade to Premium to download your csv" />',allowHTML:!0,placement:"top",interactive:!0})),r=!0)},p(i,a){const s={};a&2080&&(s.$$scope={dirty:a,ctx:i}),e.$set(s)},i(i){l||(b(e.$$.fragment,i),l=!0)},o(i){g(e.$$.fragment,i),l=!1},d(i){i&&T(t),G(e),r=!1,o()}}}function On(n){let t,e,l;return e=new nr({props:{variant:"premium",isLoading:n[1],$$slots:{default:[Bn]},$$scope:{ctx:n}}}),e.$on("click",n[8]),{c(){t=p("div"),K(e.$$.fragment),d(t,"class","w-max min-w-[142px] svelte-1f09gyz")},m(r,o){A(r,t,o),W(e,t,null),l=!0},p(r,o){const i={};o&2&&(i.isLoading=r[1]),o&2080&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(r){l||(b(e.$$.fragment,r),l=!0)},o(r){g(e.$$.fragment,r),l=!1},d(r){r&&T(t),G(e)}}}function Hn(n){let t=n[5]("Download CSV")+"",e;return{c(){e=Y(t)},m(l,r){A(l,e,r)},p(l,r){r&32&&t!==(t=l[5]("Download CSV")+"")&&ae(e,t)},d(l){l&&T(e)}}}function Bn(n){let t=n[5]("Download CSV")+"",e;return{c(){e=Y(t)},m(l,r){A(l,e,r)},p(l,r){r&32&&t!==(t=l[5]("Download CSV")+"")&&ae(e,t)},d(l){l&&T(e)}}}function jn(n){let t,e,l,r,o;const i=[On,Mn],a=[];function s(c,u){return u&28&&(t=null),t==null&&(t=!!(c[3]!=="Free"&&c[4]&&Object.keys(c[4]).length!==0&&!c[2])),t?0:1}return e=s(n,-1),l=a[e]=i[e](n),{c(){l.c(),r=Be()},m(c,u){a[e].m(c,u),A(c,r,u),o=!0},p(c,[u]){let f=e;e=s(c,u),e===f?a[e].p(c,u):(me(),g(a[f],1,1,()=>{a[f]=null}),pe(),l=a[e],l?l.p(c,u):(l=a[e]=i[e](c),l.c()),b(l,1),l.m(r.parentNode,r))},i(c){o||(b(l),o=!0)},o(c){g(l),o=!1},d(c){c&&T(r),a[e].d(c)}}}function Vn(n,t,e){let l,r,o;he(n,rr,h=>e(3,l=h)),he(n,mr,h=>e(4,r=h)),he(n,Ke,h=>e(5,o=h));let{data:i}=t,{name:a}=t,{triggerExportCSV:s=()=>{}}=t,{isLoading:c}=t,{isDisabled:u}=t;const f=h=>{const E=Object.keys(h[0])?.map(v=>pr[v]).toString(),R=h?.map(v=>Object.values(v).toString()),L=[E,...R].join(`
`);L&&_(L)},_=h=>{const E=new Blob([h],{type:"application/csv"}),R=URL.createObjectURL(E),L=document.createElement("a");L.download=`${a}.csv`,L.href=R,L.style.display="none",document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(R),s()},y=()=>{s()};return n.$$set=h=>{"data"in h&&e(6,i=h.data),"name"in h&&e(7,a=h.name),"triggerExportCSV"in h&&e(0,s=h.triggerExportCSV),"isLoading"in h&&e(1,c=h.isLoading),"isDisabled"in h&&e(2,u=h.isDisabled)},n.$$.update=()=>{n.$$.dirty&64&&i&&i.length!==0&&f(i)},[s,c,u,l,r,o,i,a,y]}class Fn extends Ie{constructor(t){super(),Ue(this,t,Vn,jn,Xe,{data:6,name:7,triggerExportCSV:0,isLoading:1,isDisabled:2})}}const{Boolean:Rn}=St;function Sl(n,t,e){const l=n.slice();return l[40]=t[e],l}function Nl(n){let t,e,l,r;const o=[Un,In],i=[];function a(s,c){return s[8]==="MOVE"||s[8]==="BUNDLE"&&s[0]?.chain==="SUI"?0:1}return t=a(n),e=i[t]=o[t](n),{c(){e.c(),l=Be()},m(s,c){i[t].m(s,c),A(s,l,c),r=!0},p(s,c){let u=t;t=a(s),t===u?i[t].p(s,c):(me(),g(i[u],1,1,()=>{i[u]=null}),pe(),e=i[t],e?e.p(s,c):(e=i[t]=o[t](s),e.c()),b(e,1),e.m(l.parentNode,l))},i(s){r||(b(e),r=!0)},o(s){g(e),r=!1},d(s){s&&T(l),i[t].d(s)}}}function In(n){let t,e;return t=new An({props:{contractAddress:n[0]?.contractAddress,cgId:n[0]?.cg_id,sellHistoryTradeList:n[4],buyHistoryTradeList:n[5],id:n[0]?.name,symbol:n[0]?.symbol,avgCost:n[0]?.profit?.averageCost,chain:n[0]?.chain,price:Number(n[0]?.market_price||0)}}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},p(l,r){const o={};r[0]&1&&(o.contractAddress=l[0]?.contractAddress),r[0]&1&&(o.cgId=l[0]?.cg_id),r[0]&16&&(o.sellHistoryTradeList=l[4]),r[0]&32&&(o.buyHistoryTradeList=l[5]),r[0]&1&&(o.id=l[0]?.name),r[0]&1&&(o.symbol=l[0]?.symbol),r[0]&1&&(o.avgCost=l[0]?.profit?.averageCost),r[0]&1&&(o.chain=l[0]?.chain),r[0]&1&&(o.price=Number(l[0]?.market_price||0)),t.$set(o)},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function Un(n){let t,e,l;return{c(){t=p("div"),e=p("iframe"),d(e,"width","100%"),d(e,"height","521"),qe(e.src,l=n[25])||d(e,"src",l),d(e,"frameborder","0"),e.allowFullscreen=!0,d(t,"class","w-full svelte-17vih2m")},m(r,o){A(r,t,o),m(t,e)},p(r,o){o[0]&33554432&&!qe(e.src,l=r[25])&&d(e,"src",l)},i:le,o:le,d(r){r&&T(t)}}}function Xn(n){let t;return{c(){t=Y("0")},m(e,l){A(e,t,l)},p:le,i:le,o:le,d(e){e&&T(t)}}}function Yn(n){let t,e;return t=new ke({props:{number:n[0]?.profit?.averageCost,type:"balance",personalValue:!0}}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},p(l,r){const o={};r[0]&1&&(o.number=l[0]?.profit?.averageCost),t.$set(o)},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function Kn(n){let t,e,l,r,o,i;const a=[Yn,Xn],s=[];function c(u,f){return u[0]?.profit?0:1}return r=c(n),o=s[r]=a[r](n),{c(){t=p("span"),e=p("div"),l=Y("$"),o.c(),d(e,"class","flex justify-end svelte-17vih2m"),d(t,"slot","number"),d(t,"class","flex items-center svelte-17vih2m")},m(u,f){A(u,t,f),m(t,e),m(e,l),s[r].m(e,null),i=!0},p(u,f){let _=r;r=c(u),r===_?s[r].p(u,f):(me(),g(s[_],1,1,()=>{s[_]=null}),pe(),o=s[r],o?o.p(u,f):(o=s[r]=a[r](u),o.c()),b(o,1),o.m(e,null))},i(u){i||(b(o),i=!0)},o(u){g(o),i=!1},d(u){u&&T(t),s[r].d()}}}function Wn(n){let t;return{c(){t=Y("0")},m(e,l){A(e,t,l)},p:le,i:le,o:le,d(e){e&&T(t)}}}function Gn(n){let t,e;return t=new ke({props:{number:n[24],type:"balance",personalValue:!0}}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},p(l,r){const o={};r[0]&16777216&&(o.number=l[24]),t.$set(o)},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function Zn(n){let t;return{c(){t=Y("******")},m(e,l){A(e,t,l)},p:le,i:le,o:le,d(e){e&&T(t)}}}function Jn(n){let t,e,l,r,o,i;const a=[Zn,Gn,Wn],s=[];function c(u,f){return u[27]?0:u[24]?1:2}return r=c(n),o=s[r]=a[r](n),{c(){t=p("span"),e=p("div"),l=Y("$"),o.c(),d(e,"class","flex justify-end svelte-17vih2m"),d(t,"slot","number"),d(t,"class","flex items-center svelte-17vih2m")},m(u,f){A(u,t,f),m(t,e),m(e,l),s[r].m(e,null),i=!0},p(u,f){let _=r;r=c(u),r===_?s[r].p(u,f):(me(),g(s[_],1,1,()=>{s[_]=null}),pe(),o=s[r],o?o.p(u,f):(o=s[r]=a[r](u),o.c()),b(o,1),o.m(e,null))},i(u){i||(b(o),i=!0)},o(u){g(o),i=!1},d(u){u&&T(t),s[r].d()}}}function Qn(n){let t,e,l,r,o;return l=new ke({props:{number:Math.abs(n[7]),type:"value",personalValue:!0}}),{c(){t=p("span"),e=p("div"),K(l.$$.fragment),d(e,"class",r=ue(`${n[7]!==0?n[7]>=0?"text-[#00A878]":"text-red-500":""}`)+" svelte-17vih2m"),d(t,"slot","number"),d(t,"class","flex items-center svelte-17vih2m")},m(i,a){A(i,t,a),m(t,e),W(l,e,null),o=!0},p(i,a){const s={};a[0]&128&&(s.number=Math.abs(i[7])),l.$set(s),(!o||a[0]&128&&r!==(r=ue(`${i[7]!==0?i[7]>=0?"text-[#00A878]":"text-red-500":""}`)+" svelte-17vih2m"))&&d(e,"class",r)},i(i){o||(b(l.$$.fragment,i),o=!0)},o(i){g(l.$$.fragment,i),o=!1},d(i){i&&T(t),G(l)}}}function Ll(n){let t,e;return{c(){t=p("img"),qe(t.src,e=n[7]>=0?mt:pt)||d(t,"src",e),d(t,"alt","trend"),d(t,"class","mb-1 block svelte-17vih2m")},m(l,r){A(l,t,r)},p(l,r){r[0]&128&&!qe(t.src,e=l[7]>=0?mt:pt)&&d(t,"src",e)},d(l){l&&T(t)}}}function ei(n){let t,e,l,r,o,i,a,s,c;r=new ke({props:{number:Math.abs(n[23])*100,type:"percent"}});let u=n[7]!==0&&Ll(n);return{c(){t=p("span"),e=p("div"),l=p("div"),K(r.$$.fragment),o=M(),i=p("span"),i.textContent="%",s=M(),u&&u.c(),d(l,"class",a=ue(`flex items-center text-lg ${n[7]!==0?n[7]>=0?"text-[#00A878]":"text-red-500":""}`)+" svelte-17vih2m"),d(e,"class","flex items-center gap-1 svelte-17vih2m"),d(t,"slot","sub-number")},m(f,_){A(f,t,_),m(t,e),m(e,l),W(r,l,null),m(l,o),m(l,i),m(e,s),u&&u.m(e,null),c=!0},p(f,_){const y={};_[0]&8388608&&(y.number=Math.abs(f[23])*100),r.$set(y),(!c||_[0]&128&&a!==(a=ue(`flex items-center text-lg ${f[7]!==0?f[7]>=0?"text-[#00A878]":"text-red-500":""}`)+" svelte-17vih2m"))&&d(l,"class",a),f[7]!==0?u?u.p(f,_):(u=Ll(f),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(f){c||(b(r.$$.fragment,f),c=!0)},o(f){g(r.$$.fragment,f),c=!1},d(f){f&&T(t),G(r),u&&u.d()}}}function ti(n){let t,e,l,r,o;return l=new ke({props:{number:Math.abs(n[6]),type:"value",personalValue:!0}}),{c(){t=p("span"),e=p("div"),K(l.$$.fragment),d(e,"class",r=ue(`${n[6]!==0?n[22]>=0?"text-[#00A878]":"text-red-500":""}`)+" svelte-17vih2m"),d(t,"slot","number"),d(t,"class","flex items-center svelte-17vih2m")},m(i,a){A(i,t,a),m(t,e),W(l,e,null),o=!0},p(i,a){const s={};a[0]&64&&(s.number=Math.abs(i[6])),l.$set(s),(!o||a[0]&4194368&&r!==(r=ue(`${i[6]!==0?i[22]>=0?"text-[#00A878]":"text-red-500":""}`)+" svelte-17vih2m"))&&d(e,"class",r)},i(i){o||(b(l.$$.fragment,i),o=!0)},o(i){g(l.$$.fragment,i),o=!1},d(i){i&&T(t),G(l)}}}function Dl(n){let t,e;return{c(){t=p("img"),qe(t.src,e=n[6]>=0?mt:pt)||d(t,"src",e),d(t,"alt","trend"),d(t,"class","mb-1 block svelte-17vih2m")},m(l,r){A(l,t,r)},p(l,r){r[0]&64&&!qe(t.src,e=l[6]>=0?mt:pt)&&d(t,"src",e)},d(l){l&&T(t)}}}function li(n){let t,e,l,r,o,i,a,s,c;r=new ke({props:{number:Math.abs(n[22])*100,type:"percent"}});let u=n[6]!==0&&Dl(n);return{c(){t=p("span"),e=p("div"),l=p("div"),K(r.$$.fragment),o=M(),i=p("span"),i.textContent="%",s=M(),u&&u.c(),d(l,"class",a=ue(`flex items-center text-lg ${n[6]!==0?n[6]>=0?"text-[#00A878]":"text-red-500":""}`)+" svelte-17vih2m"),d(e,"class","flex items-center gap-1 svelte-17vih2m"),d(t,"slot","sub-number")},m(f,_){A(f,t,_),m(t,e),m(e,l),W(r,l,null),m(l,o),m(l,i),m(e,s),u&&u.m(e,null),c=!0},p(f,_){const y={};_[0]&4194304&&(y.number=Math.abs(f[22])*100),r.$set(y),(!c||_[0]&64&&a!==(a=ue(`flex items-center text-lg ${f[6]!==0?f[6]>=0?"text-[#00A878]":"text-red-500":""}`)+" svelte-17vih2m"))&&d(l,"class",a),f[6]!==0?u?u.p(f,_):(u=Dl(f),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(f){c||(b(r.$$.fragment,f),c=!0)},o(f){g(r.$$.fragment,f),c=!1},d(f){f&&T(t),G(r),u&&u.d()}}}function ri(n){let t;return{c(){t=Y("0")},m(e,l){A(e,t,l)},p:le,i:le,o:le,d(e){e&&T(t)}}}function ni(n){let t,e;return t=new ke({props:{number:n[19],type:"balance",personalValue:!0}}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},p(l,r){const o={};r[0]&524288&&(o.number=l[19]),t.$set(o)},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function ii(n){let t;return{c(){t=Y("******")},m(e,l){A(e,t,l)},p:le,i:le,o:le,d(e){e&&T(t)}}}function si(n){let t,e,l,r,o,i;const a=[ii,ni,ri],s=[];function c(u,f){return u[27]?0:u[19]?1:2}return r=c(n),o=s[r]=a[r](n),{c(){t=p("span"),e=p("div"),l=Y("$"),o.c(),d(e,"class","flex justify-end svelte-17vih2m"),d(t,"slot","number"),d(t,"class","flex items-center svelte-17vih2m")},m(u,f){A(u,t,f),m(t,e),m(e,l),s[r].m(e,null),i=!0},p(u,f){let _=r;r=c(u),r===_?s[r].p(u,f):(me(),g(s[_],1,1,()=>{s[_]=null}),pe(),o=s[r],o?o.p(u,f):(o=s[r]=a[r](u),o.c()),b(o,1),o.m(e,null))},i(u){i||(b(o),i=!0)},o(u){g(o),i=!1},d(u){u&&T(t),s[r].d()}}}function oi(n){let t,e=n[5].length+"",l,r,o=n[4].length+"",i;return{c(){t=p("span"),l=Y(e),r=Y("/"),i=Y(o),d(t,"slot","number"),d(t,"class","flex items-center svelte-17vih2m")},m(a,s){A(a,t,s),m(t,l),m(t,r),m(t,i)},p(a,s){s[0]&32&&e!==(e=a[5].length+"")&&ae(l,e),s[0]&16&&o!==(o=a[4].length+"")&&ae(i,o)},d(a){a&&T(t)}}}function zl(n){let t,e,l,r=n[26]("Avg Cost distribution")+"",o,i,a,s,c,u,f,_=!Bt.includes(n[8]),y,h;function E(v){n[35](v)}let R={type:"lang",positionSelectList:"right-0",listSelect:yr,isDisabledSelectWallet:!1,indexWalletDisabled:-1};n[17]!==void 0&&(R.selected=n[17]),a=new Dr({props:R}),lr.push(()=>hr(a,"selected",E)),u=new En({props:{data:n[0],id:n[0]?.name,avgCost:n[0]?.profit?.averageCost||0,filterType:n[17]}});let L=_&&ql(n);return{c(){t=p("div"),e=p("div"),l=p("div"),o=Y(r),i=M(),K(a.$$.fragment),c=M(),K(u.$$.fragment),f=M(),L&&L.c(),d(l,"class","text-2xl font-medium svelte-17vih2m"),d(e,"class","flex justify-between items-center svelte-17vih2m"),d(t,"class",y=ue(`rounded-[20px] flex flex-col gap-4 relative py-4 lg:px-3 ${n[11]?"lg:bg-[#222222]":"bg-[#fff] xl:border border_0000001a"}`)+" svelte-17vih2m")},m(v,B){A(v,t,B),m(t,e),m(e,l),m(l,o),m(e,i),W(a,e,null),m(t,c),W(u,t,null),m(t,f),L&&L.m(t,null),h=!0},p(v,B){(!h||B[0]&67108864)&&r!==(r=v[26]("Avg Cost distribution")+"")&&ae(o,r);const J={};!s&&B[0]&131072&&(s=!0,J.selected=v[17],vr(()=>s=!1)),a.$set(J);const H={};B[0]&1&&(H.data=v[0]),B[0]&1&&(H.id=v[0]?.name),B[0]&1&&(H.avgCost=v[0]?.profit?.averageCost||0),B[0]&131072&&(H.filterType=v[17]),u.$set(H),B[0]&256&&(_=!Bt.includes(v[8])),_?L?L.p(v,B):(L=ql(v),L.c(),L.m(t,null)):L&&(L.d(1),L=null),(!h||B[0]&2048&&y!==(y=ue(`rounded-[20px] flex flex-col gap-4 relative py-4 lg:px-3 ${v[11]?"lg:bg-[#222222]":"bg-[#fff] xl:border border_0000001a"}`)+" svelte-17vih2m"))&&d(t,"class",y)},i(v){h||(b(a.$$.fragment,v),b(u.$$.fragment,v),h=!0)},o(v){g(a.$$.fragment,v),g(u.$$.fragment,v),h=!1},d(v){v&&T(t),G(a),G(u),L&&L.d()}}}function ql(n){let t,e,l=n[26]("Coming soon 🚀")+"",r,o;return{c(){t=p("div"),e=p("div"),r=Y(l),d(e,"class","text-lg svelte-17vih2m"),d(t,"class",o=ue(`absolute top-0 left-0 xl:rounded-[20px] w-full h-full flex flex-col items-center gap-3 pt-62 z-7 backdrop-blur-md ${n[11]?"bg-black/90":"bg-white/95"}`)+" svelte-17vih2m")},m(i,a){A(i,t,a),m(t,e),m(e,r)},p(i,a){a[0]&67108864&&l!==(l=i[26]("Coming soon 🚀")+"")&&ae(r,l),a[0]&2048&&o!==(o=ue(`absolute top-0 left-0 xl:rounded-[20px] w-full h-full flex flex-col items-center gap-3 pt-62 z-7 backdrop-blur-md ${i[11]?"bg-black/90":"bg-white/95"}`)+" svelte-17vih2m")&&d(t,"class",o)},d(i){i&&T(t)}}}function ai(n){let t,e=n[26]("History")+"",l;return{c(){t=p("div"),l=Y(e),d(t,"class","text-2xl font-medium svelte-17vih2m")},m(r,o){A(r,t,o),m(t,l)},p(r,o){o[0]&67108864&&e!==(e=r[26]("History")+"")&&ae(l,e)},i:le,o:le,d(r){r&&T(t)}}}function ci(n){let t,e;return t=new Nr({props:{tooltipText:"Unusual trade. Total sell amount > total buy amount",type:"warning",$$slots:{default:[ui]},$$scope:{ctx:n}}}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},p(l,r){const o={};r[0]&67108864|r[1]&4096&&(o.$$scope={dirty:r,ctx:l}),t.$set(o)},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function ui(n){let t,e=n[26]("History")+"",l;return{c(){t=p("div"),l=Y(e),d(t,"class","text-2xl font-medium svelte-17vih2m")},m(r,o){A(r,t,o),m(t,l)},p(r,o){o[0]&67108864&&e!==(e=r[26]("History")+"")&&ae(l,e)},d(r){r&&T(t)}}}function Pl(n){let t;return{c(){t=p("th"),d(t,"class","py-3 w-10 svelte-17vih2m")},m(e,l){A(e,t,l)},d(e){e&&T(t)}}}function fi(n){let t,e,l,r;const o=[pi,mi],i=[];function a(s,c){return s[3]&&s[3]?.length===0?0:1}return e=a(n),l=i[e]=o[e](n),{c(){t=p("tbody"),l.c()},m(s,c){A(s,t,c),i[e].m(t,null),r=!0},p(s,c){let u=e;e=a(s),e===u?i[e].p(s,c):(me(),g(i[u],1,1,()=>{i[u]=null}),pe(),l=i[e],l?l.p(s,c):(l=i[e]=o[e](s),l.c()),b(l,1),l.m(t,null))},i(s){r||(b(l),r=!0)},o(s){g(l),r=!1},d(s){s&&T(t),i[e].d()}}}function di(n){let t,e,l,r,o,i,a;const s=[bi,_i],c=[];function u(f,_){return 0}return o=u(),i=c[o]=s[o](n),{c(){t=p("tbody"),e=p("tr"),l=p("td"),r=p("div"),i.c(),d(r,"class","flex justify-center items-center h-full py-3 px-3 svelte-17vih2m"),d(l,"colspan",n[18])},m(f,_){A(f,t,_),m(t,e),m(e,l),m(l,r),c[o].m(r,null),a=!0},p(f,_){(!a||_[0]&262144)&&d(l,"colspan",f[18])},i(f){a||(b(i),a=!0)},o(f){g(i),a=!1},d(f){f&&T(t),c[o].d()}}}function mi(n){let t,e,l=je(n[3]),r=[];for(let i=0;i<l.length;i+=1)r[i]=El(Sl(n,l,i));const o=i=>g(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=Be()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);A(i,t,a),e=!0},p(i,a){if(a[0]&9){l=je(i[3]);let s;for(s=0;s<l.length;s+=1){const c=Sl(i,l,s);r[s]?(r[s].p(c,a),b(r[s],1)):(r[s]=El(c),r[s].c(),b(r[s],1),r[s].m(t.parentNode,t))}for(me(),s=l.length;s<r.length;s+=1)o(s);pe()}},i(i){if(!e){for(let a=0;a<l.length;a+=1)b(r[a]);e=!0}},o(i){r=r.filter(Rn);for(let a=0;a<r.length;a+=1)g(r[a]);e=!1},d(i){i&&T(t),_t(r,i)}}}function pi(n){let t,e,l,r=n[26]("Empty")+"",o;return{c(){t=p("tr"),e=p("td"),l=p("div"),o=Y(r),d(l,"class","flex justify-center items-center h-full py-3 px-3 text-base text-gray-400 svelte-17vih2m"),d(e,"colspan",n[18])},m(i,a){A(i,t,a),m(t,e),m(e,l),m(l,o)},p(i,a){a[0]&67108864&&r!==(r=i[26]("Empty")+"")&&ae(o,r),a[0]&262144&&d(e,"colspan",i[18])},i:le,o:le,d(i){i&&T(t)}}}function El(n){let t,e;return t=new Kr({props:{data:n[40],contractAddress:n[0]?.contractAddress}}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},p(l,r){const o={};r[0]&8&&(o.data=l[40]),r[0]&1&&(o.contractAddress=l[0]?.contractAddress),t.$set(o)},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function _i(n){let t,e;return t=new lt({}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function bi(n){let t,e;return t=new rt({}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function Ml(n){let t,e;return t=new Sr({props:{isDisabled:!1,totalPage:n[16],handlePageChange:n[28]}}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},p(l,r){const o={};r[0]&65536&&(o.totalPage=l[16]),t.$set(o)},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function gi(n){let t,e,l,r,o,i,a,s,c,u,f,_,y,h,E,R,L,v,B,J,H,D,F,w,P,S,U,V,O,x,Q,se,de=n[26]("Amount")+"",ee,N,k,$,q=n[26]("Cost/Gain")+"",ne,ie,j,I,re=n[26]("Price")+"",be,ye,z,X,te=n[26]("Fee")+"",C,fe,Ce,ce,we=n[26]("Time")+"",_e,$e,Te,Ve=Ye.filter(Ol).includes(n[8])&&n[3].find(Hl)!==void 0,Ee,xe,Ae,ge,Le,nt,Me,Se=n[1]&&Nl(n);r=new ot({props:{title:n[26]("Avg Cost"),$$slots:{number:[Kn]},$$scope:{ctx:n}}}),i=new ot({props:{title:n[26]("Cost Basis"),$$slots:{number:[Jn]},$$scope:{ctx:n}}}),c=new ot({props:{title:n[26]("Realized PnL"),$$slots:{"sub-number":[ei],number:[Qn]},$$scope:{ctx:n}}}),f=new ot({props:{title:n[26]("Unrealized PnL"),$$slots:{"sub-number":[li],number:[ti]},$$scope:{ctx:n}}}),h=new ot({props:{title:n[26]("Total Fee"),$$slots:{number:[si]},$$scope:{ctx:n}}}),R=new ot({props:{title:n[26]("30D Trx (Buy/Sell)"),$$slots:{number:[oi]},$$scope:{ctx:n}}});let Ne=n[8]!=="CEX"&&zl(n);const bt=[ci,ai],We=[];function Zt(Z,oe){return Z[15]>Z[14]?0:1}D=Zt(n),F=We[D]=bt[D](n),P=new Fn({props:{data:n[13],name:`${At(n[10])}_${n[0]?.symbol}_Trades`,triggerExportCSV:n[29],isLoading:n[12],isDisabled:n[2]&&n[2].length===0}});let He=Ve&&Pl();const Jt=[di,fi],Ge=[];function Qt(Z,oe){return Z[9].isFetching?0:1}xe=Qt(n),Ae=Ge[xe]=Jt[xe](n);let ze=n[16]!==0&&n[16]>1&&Ml(n);return{c(){Se&&Se.c(),t=M(),e=p("div"),l=p("div"),K(r.$$.fragment),o=M(),K(i.$$.fragment),a=M(),s=p("div"),K(c.$$.fragment),u=M(),K(f.$$.fragment),_=M(),y=p("div"),K(h.$$.fragment),E=M(),K(R.$$.fragment),L=M(),v=p("div"),Ne&&Ne.c(),B=M(),J=p("div"),H=p("div"),F.c(),w=M(),K(P.$$.fragment),S=M(),U=p("div"),V=p("table"),O=p("thead"),x=p("tr"),Q=p("th"),se=p("div"),ee=Y(de),N=M(),k=p("th"),$=p("div"),ne=Y(q),ie=M(),j=p("th"),I=p("div"),be=Y(re),ye=M(),z=p("th"),X=p("div"),C=Y(te),fe=M(),Ce=p("th"),ce=p("div"),_e=Y(we),Te=M(),He&&He.c(),Ee=M(),Ae.c(),Le=M(),ze&&ze.c(),d(l,"class","flex-1 flex md:flex-row flex-col justify-between gap-6 svelte-17vih2m"),d(s,"class","flex-1 flex md:flex-row flex-col justify-between gap-6 svelte-17vih2m"),d(y,"class","flex-1 flex md:flex-row flex-col justify-between gap-6 svelte-17vih2m"),d(e,"class","flex flex-col justify-between gap-6 svelte-17vih2m"),d(H,"class","flex justify-between items-center gap-6 svelte-17vih2m"),d(se,"class","text-left text-sm uppercase font-medium svelte-17vih2m"),d(Q,"class","pl-3 py-3 rounded-tl-[10px] xl:static xl:bg-transparent sticky left-0 z-10 bg_f4f5f8 w-[100px] svelte-17vih2m"),d($,"class","text-right text-sm uppercase font-medium svelte-17vih2m"),d(k,"class","py-3 svelte-17vih2m"),d(I,"class","text-right text-sm uppercase font-medium svelte-17vih2m"),d(j,"class","py-3 svelte-17vih2m"),d(X,"class","text-right text-sm uppercase font-medium svelte-17vih2m"),d(z,"class","py-3 svelte-17vih2m"),d(ce,"class","text-right text-sm uppercase font-medium svelte-17vih2m"),d(Ce,"class",$e=ue(`py-3 rounded-tr-[10px] ${Ye.filter(Bl).includes(n[8])&&n[3].find(jl)!==void 0?"":"pr-3"}`)+" svelte-17vih2m"),d(x,"class","bg_f4f5f8"),d(V,"class","table-auto xl:w-full w-[1000px] h-full svelte-17vih2m"),d(U,"class",ge=ue(`rounded-[10px] xl:overflow-visible overflow-x-auto h-full ${n[11]?"bg-[#131313]":"bg-[#fff] border border_0000000d"}`)+" svelte-17vih2m"),d(J,"class",nt=ue(`rounded-[20px] flex flex-col gap-4 py-4 lg:px-3 xl:border border_0000001a ${n[11]?"lg:bg-[#222222]":"bg-[#fff]"}`)+" svelte-17vih2m"),d(v,"class","flex flex-col gap-6 svelte-17vih2m")},m(Z,oe){Se&&Se.m(Z,oe),A(Z,t,oe),A(Z,e,oe),m(e,l),W(r,l,null),m(l,o),W(i,l,null),m(e,a),m(e,s),W(c,s,null),m(s,u),W(f,s,null),m(e,_),m(e,y),W(h,y,null),m(y,E),W(R,y,null),A(Z,L,oe),A(Z,v,oe),Ne&&Ne.m(v,null),m(v,B),m(v,J),m(J,H),We[D].m(H,null),m(H,w),W(P,H,null),m(J,S),m(J,U),m(U,V),m(V,O),m(O,x),m(x,Q),m(Q,se),m(se,ee),m(x,N),m(x,k),m(k,$),m($,ne),m(x,ie),m(x,j),m(j,I),m(I,be),m(x,ye),m(x,z),m(z,X),m(X,C),m(x,fe),m(x,Ce),m(Ce,ce),m(ce,_e),m(x,Te),He&&He.m(x,null),m(V,Ee),Ge[xe].m(V,null),m(J,Le),ze&&ze.m(J,null),Me=!0},p(Z,oe){Z[1]?Se?(Se.p(Z,oe),oe[0]&2&&b(Se,1)):(Se=Nl(Z),Se.c(),b(Se,1),Se.m(t.parentNode,t)):Se&&(me(),g(Se,1,1,()=>{Se=null}),pe());const Nt={};oe[0]&67108864&&(Nt.title=Z[26]("Avg Cost")),oe[0]&1|oe[1]&4096&&(Nt.$$scope={dirty:oe,ctx:Z}),r.$set(Nt);const Lt={};oe[0]&67108864&&(Lt.title=Z[26]("Cost Basis")),oe[0]&150994944|oe[1]&4096&&(Lt.$$scope={dirty:oe,ctx:Z}),i.$set(Lt);const Dt={};oe[0]&67108864&&(Dt.title=Z[26]("Realized PnL")),oe[0]&8388736|oe[1]&4096&&(Dt.$$scope={dirty:oe,ctx:Z}),c.$set(Dt);const zt={};oe[0]&67108864&&(zt.title=Z[26]("Unrealized PnL")),oe[0]&4194368|oe[1]&4096&&(zt.$$scope={dirty:oe,ctx:Z}),f.$set(zt);const qt={};oe[0]&67108864&&(qt.title=Z[26]("Total Fee")),oe[0]&134742016|oe[1]&4096&&(qt.$$scope={dirty:oe,ctx:Z}),h.$set(qt);const Pt={};oe[0]&67108864&&(Pt.title=Z[26]("30D Trx (Buy/Sell)")),oe[0]&48|oe[1]&4096&&(Pt.$$scope={dirty:oe,ctx:Z}),R.$set(Pt),Z[8]!=="CEX"?Ne?(Ne.p(Z,oe),oe[0]&256&&b(Ne,1)):(Ne=zl(Z),Ne.c(),b(Ne,1),Ne.m(v,B)):Ne&&(me(),g(Ne,1,1,()=>{Ne=null}),pe());let Et=D;D=Zt(Z),D===Et?We[D].p(Z,oe):(me(),g(We[Et],1,1,()=>{We[Et]=null}),pe(),F=We[D],F?F.p(Z,oe):(F=We[D]=bt[D](Z),F.c()),b(F,1),F.m(H,w));const gt={};oe[0]&8192&&(gt.data=Z[13]),oe[0]&1025&&(gt.name=`${At(Z[10])}_${Z[0]?.symbol}_Trades`),oe[0]&4096&&(gt.isLoading=Z[12]),oe[0]&4&&(gt.isDisabled=Z[2]&&Z[2].length===0),P.$set(gt),(!Me||oe[0]&67108864)&&de!==(de=Z[26]("Amount")+"")&&ae(ee,de),(!Me||oe[0]&67108864)&&q!==(q=Z[26]("Cost/Gain")+"")&&ae(ne,q),(!Me||oe[0]&67108864)&&re!==(re=Z[26]("Price")+"")&&ae(be,re),(!Me||oe[0]&67108864)&&te!==(te=Z[26]("Fee")+"")&&ae(C,te),(!Me||oe[0]&67108864)&&we!==(we=Z[26]("Time")+"")&&ae(_e,we),(!Me||oe[0]&264&&$e!==($e=ue(`py-3 rounded-tr-[10px] ${Ye.filter(Bl).includes(Z[8])&&Z[3].find(jl)!==void 0?"":"pr-3"}`)+" svelte-17vih2m"))&&d(Ce,"class",$e),oe[0]&264&&(Ve=Ye.filter(Ol).includes(Z[8])&&Z[3].find(Hl)!==void 0),Ve?He||(He=Pl(),He.c(),He.m(x,null)):He&&(He.d(1),He=null);let Mt=xe;xe=Qt(Z),xe===Mt?Ge[xe].p(Z,oe):(me(),g(Ge[Mt],1,1,()=>{Ge[Mt]=null}),pe(),Ae=Ge[xe],Ae?Ae.p(Z,oe):(Ae=Ge[xe]=Jt[xe](Z),Ae.c()),b(Ae,1),Ae.m(V,null)),(!Me||oe[0]&2048&&ge!==(ge=ue(`rounded-[10px] xl:overflow-visible overflow-x-auto h-full ${Z[11]?"bg-[#131313]":"bg-[#fff] border border_0000000d"}`)+" svelte-17vih2m"))&&d(U,"class",ge),Z[16]!==0&&Z[16]>1?ze?(ze.p(Z,oe),oe[0]&65536&&b(ze,1)):(ze=Ml(Z),ze.c(),b(ze,1),ze.m(J,null)):ze&&(me(),g(ze,1,1,()=>{ze=null}),pe()),(!Me||oe[0]&2048&&nt!==(nt=ue(`rounded-[20px] flex flex-col gap-4 py-4 lg:px-3 xl:border border_0000001a ${Z[11]?"lg:bg-[#222222]":"bg-[#fff]"}`)+" svelte-17vih2m"))&&d(J,"class",nt)},i(Z){Me||(b(Se),b(r.$$.fragment,Z),b(i.$$.fragment,Z),b(c.$$.fragment,Z),b(f.$$.fragment,Z),b(h.$$.fragment,Z),b(R.$$.fragment,Z),b(Ne),b(F),b(P.$$.fragment,Z),b(Ae),b(ze),Me=!0)},o(Z){g(Se),g(r.$$.fragment,Z),g(i.$$.fragment,Z),g(c.$$.fragment,Z),g(f.$$.fragment,Z),g(h.$$.fragment,Z),g(R.$$.fragment,Z),g(Ne),g(F),g(P.$$.fragment,Z),g(Ae),g(ze),Me=!1},d(Z){Z&&(T(t),T(e),T(L),T(v)),Se&&Se.d(Z),G(r),G(i),G(c),G(f),G(h),G(R),Ne&&Ne.d(),We[D].d(),G(P),He&&He.d(),Ge[xe].d(),ze&&ze.d()}}}function hi(n){let t,e;return t=new _r({props:{$$slots:{default:[gi]},$$scope:{ctx:n}}}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},p(l,r){const o={};r[0]&265289727|r[1]&4096&&(o.$$scope={dirty:r,ctx:l}),t.$set(o)},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}const Ol=n=>n!=="CEX",Hl=n=>n.chain!=="CEX",Bl=n=>n!=="CEX",jl=n=>n.chain!=="CEX";function vi(n,t,e){let l,r,o,i,a,s,c,u,f,_,y,h,E,R=le,L=()=>(R(),R=De(u,z=>e(33,E=z)),u),v,B=le,J=()=>(B(),B=De(f,z=>e(9,v=z)),f),H,D,F,w,P;he(n,tt,z=>e(8,h=z)),he(n,jt,z=>e(10,H=z)),he(n,rr,z=>e(34,D=z)),he(n,st,z=>e(11,F=z)),he(n,Ke,z=>e(26,w=z)),he(n,br,z=>e(27,P=z)),n.$$.on_destroy.push(()=>R()),n.$$.on_destroy.push(()=>B());let{data:S}=t,{showSideTokenDetail:U}=t;gr();const V=async z=>(await et.get(`/v2/address/${z}/token/${S?.contractAddress}/trade-history?chain=${S?.chain}&isExportCSV=true`))?.data,O=async(z,X)=>(await et.get(`/v2/address/${z}/token/${S?.contractAddress}/trade-history?chain=${S?.chain}&page=${X}`))?.data;let x=!1,Q=!1,se=[],de=[],ee=[],N=[],k=[],$=0,q=0,ne=0,ie=0,j={label:"ALL",value:"all"};const I=z=>{e(31,ne=z)},re=()=>{e(30,x=!x)},be=(z,X)=>{e(12,Q=!0),e(13,de=z?.map(te=>({trx_hash:te.transaction_hash,trx_link:te.transaction_hash&&te.chain!=="CEX"?Ot(te.chain,te.transaction_hash).trx:"",value:`$${Number(te?.amount_usd)}`,time:ve(te?.created_at*1e3).format("YYYY-MM-DD HH:mm:ss"),fee:`$${Number(te?.fee)}`,amount_in:Number(te?.quantity_in),token_address_in:te.from_token_address,token_in_symbol:te?.from_token_address?.toLowerCase()===X?.toLowerCase()?S?.symbol:"",amount_out:Number(te?.quantity_out),token_address_out:te?.to_token_address,token_out_symbol:te?.to_token_address?.toLowerCase()===X?.toLowerCase()?S?.symbol:""}))),e(12,Q=!1)};function ye(z){j=z,e(17,j)}return n.$$set=z=>{"data"in z&&e(0,S=z.data),"showSideTokenDetail"in z&&e(1,U=z.showSideTokenDetail)},n.$$.update=()=>{n.$$.dirty[0]&2049&&e(25,l=`https://birdeye.so/tv-widget/${S?.contractAddress}?chain=sui&viewMode=pair&chartInterval=5&chartType=CANDLE&chartLeftToolbar=show&theme=${F?"dark":"light"}`),n.$$.dirty[0]&1&&e(24,r=S?.profit?.cost?Number(S?.profit?.cost):0),n.$$.dirty[0]&1&&e(7,o=S?.profit?.realizedProfit?Number(S?.profit?.realizedProfit):0),n.$$.dirty[0]&129&&e(23,i=Number(S?.avgCost)===0?0:o/Math.abs(Number(S?.avgCost))),n.$$.dirty[0]&129&&e(32,a=S?.pnl?Number(S?.pnl):Number(S?.profit?.totalBought||0)>Number(S?.profit?.totalSold||0)?Number(S?.profit?.totalBought||0)*Number(S?.market_price||0)+Number(S?.profit?.totalGain||0)-Number(S?.profit?.cost||0):o),n.$$.dirty[0]&129|n.$$.dirty[1]&2&&e(6,s=Number(S?.avgCost)===0?0:Number(a)-o),n.$$.dirty[0]&65&&e(22,c=Number(S?.avgCost)===0?0:s/Math.abs(Number(S?.avgCost))),n.$$.dirty[1]&4&&(!E?.isError&&E?.data!==void 0?(e(2,se=E?.data?.result),e(16,ie=E?.data?.totalPage)):(e(2,se=[]),e(16,ie=0))),n.$$.dirty[0]&2&&(U||e(30,x=!1)),n.$$.dirty[0]&1073741829|n.$$.dirty[1]&8&&se&&se.length!==0&&D!=="FREE"&&x&&be(se,S?.contractAddress),n.$$.dirty[0]&1027&&L(e(21,u=Pe({queryKey:["all-trade-history",U,S,H],queryFn:()=>V(H),retry:!1,enabled:!!(U&&S!==void 0&&Object.keys(S).length!==0&&H&&H?.length!==0)}))),n.$$.dirty[0]&1027|n.$$.dirty[1]&1&&J(e(20,f=Pe({queryKey:["trade-history",U,S,H,ne],queryFn:()=>O(H,ne),retry:!1,enabled:!!(U&&S!==void 0&&Object.keys(S).length!==0&&H&&H?.length!==0)}))),n.$$.dirty[0]&49|n.$$.dirty[1]&4&&(E?.data?.result?(e(4,N=E?.data?.result.filter(z=>z?.from_token_address?.toLowerCase()===S?.contractAddress?.toLowerCase())),e(5,k=E?.data?.result.filter(z=>z?.to_token_address?.toLowerCase()===S?.contractAddress?.toLowerCase())),e(14,$=(k||[]).reduce((z,X)=>z+Number(X.quantity_out),0)),e(15,q=(N||[]).reduce((z,X)=>z+Number(X.quantity_in),0))):(e(4,N=[]),e(5,k=[]),e(14,$=0),e(15,q=0))),n.$$.dirty[0]&512&&(!v?.isError&&v?.data!==void 0?e(3,ee=v?.data?.result):e(3,ee=[])),n.$$.dirty[1]&4&&e(19,_=E?.data?.result?.reduce((z,X)=>z+Number(X?.fee),0)||0),n.$$.dirty[0]&264&&e(18,y=Ye.filter(z=>z!=="CEX").includes(h)&&ee.find(z=>z.chain!=="CEX")!==void 0?6:5)},[S,U,se,ee,N,k,s,o,h,v,H,F,Q,de,$,q,ie,j,y,_,f,u,c,i,r,l,w,P,I,re,x,ne,a,E,D,ye]}class yi extends Ie{constructor(t){super(),Ue(this,t,vi,hi,Xe,{data:0,showSideTokenDetail:1},null,[-1,-1])}}function ki(n){let t=n[2]("at")+"",e,l;return{c(){e=Y(t),l=Y(`
      Nimbus`)},m(r,o){A(r,e,o),A(r,l,o)},p(r,o){o&4&&t!==(t=r[2]("at")+"")&&ae(e,t)},d(r){r&&(T(e),T(l))}}}function wi(n){let t,e,l=n[2]("Track your portfolio and make wise decision")+"",r,o,i,a,s,c,u=ki(n);return{c(){t=p("div"),e=p("div"),r=Y(l),o=M(),u&&u.c(),i=M(),a=p("div"),s=p("img"),d(e,"class","text-base text-center svelte-gsht57"),qe(s.src,c=n[0])||d(s,"src",c),d(s,"alt","Invite QR Code"),d(s,"class","w-full h-full block svelte-gsht57"),d(a,"class","w-32 h-32 svelte-gsht57"),d(t,"class","flex flex-col justify-center items-center gap-3 svelte-gsht57")},m(f,_){A(f,t,_),m(t,e),m(e,r),m(e,o),u&&u.m(e,null),m(t,i),m(t,a),m(a,s)},p(f,[_]){_&4&&l!==(l=f[2]("Track your portfolio and make wise decision")+"")&&ae(r,l),u.p(f,_),_&1&&!qe(s.src,c=f[0])&&d(s,"src",c)},i:le,o:le,d(f){f&&T(t),u&&u.d()}}}function $i(n,t,e){let l,r,o=le,i=()=>(o(),o=De(l,f=>e(4,r=f)),l),a;he(n,Ke,f=>e(2,a=f)),n.$$.on_destroy.push(()=>o());let s,c="";const u=kr(0,"L");return n.$$.update=()=>{n.$$.dirty&24&&!r.isError&&r&&r.data!==void 0&&(r.data?.publicAddress,e(3,c=`https://app.getnimbus.io/?invitation=${r?.data.id}`),u.addData(c),u.make(),e(0,s=u.createDataURL(6,0)))},i(e(1,l=Pe({queryKey:["users-me"],queryFn:()=>wr(),retry:!1}))),[s,l,a,c,r]}class As extends Ie{constructor(t){super(),Ue(this,t,$i,wi,Xe,{})}}const{Boolean:xi}=St;function Vl(n,t,e){const l=n.slice();return l[26]=t[e],l}function Ai(n){let t,e,l,r;const o=[Si,Ci],i=[];function a(s,c){return s[1].isError?0:1}return e=a(n),l=i[e]=o[e](n),{c(){t=p("div"),l.c(),d(t,"class","h-full relative svelte-12bzodt")},m(s,c){A(s,t,c),i[e].m(t,null),r=!0},p(s,c){let u=e;e=a(s),e===u?i[e].p(s,c):(me(),g(i[u],1,1,()=>{i[u]=null}),pe(),l=i[e],l?l.p(s,c):(l=i[e]=o[e](s),l.c()),b(l,1),l.m(t,null))},i(s){r||(b(l),r=!0)},o(s){g(l),r=!1},d(s){s&&T(t),i[e].d()}}}function Ti(n){let t,e,l,r;const o=[Ei,Pi],i=[];function a(s,c){return 0}return e=a(),l=i[e]=o[e](n),{c(){t=p("div"),l.c(),d(t,"class","flex items-center justify-center flex-1 svelte-12bzodt")},m(s,c){A(s,t,c),i[e].m(t,null),r=!0},p:le,i(s){r||(b(l),r=!0)},o(s){g(l),r=!1},d(s){s&&T(t),i[e].d()}}}function Ci(n){let t,e,l,r,o,i=n[2]&&n[2].length!==0&&Fl(n);const a=[zi,Di],s=[];function c(u,f){return u[2]&&u[2].length===0?0:1}return l=c(n),r=s[l]=a[l](n),{c(){t=p("div"),i&&i.c(),e=M(),r.c(),d(t,"class","h-full svelte-12bzodt")},m(u,f){A(u,t,f),i&&i.m(t,null),m(t,e),s[l].m(t,null),o=!0},p(u,f){u[2]&&u[2].length!==0?i?(i.p(u,f),f&4&&b(i,1)):(i=Fl(u),i.c(),b(i,1),i.m(t,e)):i&&(me(),g(i,1,1,()=>{i=null}),pe());let _=l;l=c(u),l===_?s[l].p(u,f):(me(),g(s[_],1,1,()=>{s[_]=null}),pe(),r=s[l],r?r.p(u,f):(r=s[l]=a[l](u),r.c()),b(r,1),r.m(t,null))},i(u){o||(b(i),b(r),o=!0)},o(u){g(i),g(r),o=!1},d(u){u&&T(t),i&&i.d(),s[l].d()}}}function Si(n){let t,e=n[11]("Empty")+"",l;return{c(){t=p("div"),l=Y(e),d(t,"class","h-full flex justify-center items-center text-base text-gray-400 svelte-12bzodt")},m(r,o){A(r,t,o),m(t,l)},p(r,o){o&2048&&e!==(e=r[11]("Empty")+"")&&ae(l,e)},i:le,o:le,d(r){r&&T(t)}}}function Fl(n){let t,e,l;return e=new Vt({props:{$$slots:{default:[Li]},$$scope:{ctx:n}}}),{c(){t=p("div"),K(e.$$.fragment),d(t,"class","flex flex-row svelte-12bzodt")},m(r,o){A(r,t,o),W(e,t,null),l=!0},p(r,o){const i={};o&1073743880&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(r){l||(b(e.$$.fragment,r),l=!0)},o(r){g(e.$$.fragment,r),l=!1},d(r){r&&T(t),G(e)}}}function Rl(n){let t,e;return t=new Ft({props:{layoutId:"active-pill",transition:{type:"spring",duration:.6},$$slots:{default:[Ni,({motion:l})=>({29:l}),({motion:l})=>l?536870912:0]},$$scope:{ctx:n}}}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function Ni(n){let t,e,l;return{c(){t=p("div"),d(t,"class","absolute inset-0 rounded-full bg-[#1E96FC] z-0 svelte-12bzodt")},m(r,o){A(r,t,o),e||(l=kt(n[29].call(null,t)),e=!0)},p:le,d(r){r&&T(t),e=!1,l()}}}function Il(n){let t,e,l=n[11](n[26].label)+"",r,o,i,a,s,c,u,f=n[26].value===n[3]&&Rl(n);function _(){return n[22](n[26])}return{c(){t=p("div"),e=p("div"),r=Y(l),i=M(),f&&f.c(),a=M(),d(e,"class",o=ue(`relative z-1 ${n[3]===n[26].value&&"text-white"}`)+" svelte-12bzodt"),d(t,"class","relative cursor-pointer text-base font-medium py-1 px-3 rounded-[100px] transition-all svelte-12bzodt")},m(y,h){A(y,t,h),m(t,e),m(e,r),m(t,i),f&&f.m(t,null),m(t,a),s=!0,c||(u=Oe(t,"click",_),c=!0)},p(y,h){n=y,(!s||h&2048)&&l!==(l=n[11](n[26].label)+"")&&ae(r,l),(!s||h&8&&o!==(o=ue(`relative z-1 ${n[3]===n[26].value&&"text-white"}`)+" svelte-12bzodt"))&&d(e,"class",o),n[26].value===n[3]?f?h&8&&b(f,1):(f=Rl(n),f.c(),b(f,1),f.m(t,a)):f&&(me(),g(f,1,1,()=>{f=null}),pe())},i(y){s||(b(f),s=!0)},o(y){g(f),s=!1},d(y){y&&T(t),f&&f.d(),c=!1,u()}}}function Li(n){let t,e,l=je(il),r=[];for(let i=0;i<l.length;i+=1)r[i]=Il(Vl(n,l,i));const o=i=>g(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=Be()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);A(i,t,a),e=!0},p(i,a){if(a&2056){l=je(il);let s;for(s=0;s<l.length;s+=1){const c=Vl(i,l,s);r[s]?(r[s].p(c,a),b(r[s],1)):(r[s]=Il(c),r[s].c(),b(r[s],1),r[s].m(t.parentNode,t))}for(me(),s=l.length;s<r.length;s+=1)o(s);pe()}},i(i){if(!e){for(let a=0;a<l.length;a+=1)b(r[a]);e=!0}},o(i){r=r.filter(xi);for(let a=0;a<r.length;a+=1)g(r[a]);e=!1},d(i){i&&T(t),_t(r,i)}}}function Di(n){let t,e,l,r;e=new Wt({props:{id:"closed-holding-token",theme:n[6],option:n[3]==="value"?n[4]:n[5],notMerge:!0,height:465}});let o=qi(n);return{c(){t=p("div"),K(e.$$.fragment),l=M(),o&&o.c(),d(t,"class","relative pl-4 svelte-12bzodt")},m(i,a){A(i,t,a),W(e,t,null),m(t,l),o&&o.m(t,null),r=!0},p(i,a){const s={};a&64&&(s.theme=i[6]),a&56&&(s.option=i[3]==="value"?i[4]:i[5]),e.$set(s),o.p(i,a)},i(i){r||(b(e.$$.fragment,i),r=!0)},o(i){g(e.$$.fragment,i),r=!1},d(i){i&&T(t),G(e),o&&o.d()}}}function zi(n){let t,e=n[11]("There have been no closed holding positions in the last 30 day")+"",l;return{c(){t=p("div"),l=Y(e),d(t,"class","h-full flex items-center justify-center text-center svelte-12bzodt")},m(r,o){A(r,t,o),m(t,l)},p(r,o){o&2048&&e!==(e=r[11]("There have been no closed holding positions in the last 30 day")+"")&&ae(l,e)},i:le,o:le,d(r){r&&T(t)}}}function qi(n){let t,e,l;return{c(){t=p("div"),e=p("img"),qe(e.src,l=n[0]?ct:ut)||d(e,"src",l),d(e,"alt","logo"),d(e,"loading","lazy"),d(e,"decoding","async"),d(e,"width","140"),d(e,"height","140"),d(t,"class","absolute transform -translate-x-1/2 -translate-y-1/2 opacity-50 pointer-events-none top-1/2 left-1/2 svelte-12bzodt")},m(r,o){A(r,t,o),m(t,e)},p(r,o){o&1&&!qe(e.src,l=r[0]?ct:ut)&&d(e,"src",l)},d(r){r&&T(t)}}}function Pi(n){let t,e;return t=new lt({}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function Ei(n){let t,e;return t=new rt({}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function Mi(n){let t,e,l=n[11]("Positions 30D")+"",r,o,i,a,s;const c=[Ti,Ai],u=[];function f(_,y){return _[1].isFetching?0:1}return i=f(n),a=u[i]=c[i](n),{c(){t=p("div"),e=p("div"),r=Y(l),o=M(),a.c(),d(e,"class","flex justify-start font-medium text-2xl svelte-12bzodt"),d(t,"class","col-span-4 xl:border border_0000001a rounded-xl flex flex-col gap-3 xl:p-6 py-3 svelte-12bzodt")},m(_,y){A(_,t,y),m(t,e),m(e,r),m(t,o),u[i].m(t,null),s=!0},p(_,[y]){(!s||y&2048)&&l!==(l=_[11]("Positions 30D")+"")&&ae(r,l);let h=i;i=f(_),i===h?u[i].p(_,y):(me(),g(u[h],1,1,()=>{u[h]=null}),pe(),a=u[i],a?a.p(_,y):(a=u[i]=c[i](_),a.c()),b(a,1),a.m(t,null))},i(_){s||(b(a),s=!0)},o(_){g(a),s=!1},d(_){_&&T(t),u[i].d()}}}function Oi(n,t,e){let l,r,o,i,a,s,c,u,f,_=le,y=()=>(_(),_=De(s,$=>e(1,f=$)),s),h,E=le,R=()=>(E(),E=De(i,$=>e(17,h=$)),i),L,v=le,B=()=>(v(),v=De(a,$=>e(18,L=$)),a),J,H,D=le,F=()=>(D(),D=De(r,$=>e(20,H=$)),r),w,P;he(n,st,$=>e(0,u=$)),he(n,Tt,$=>e(19,J=$)),he(n,tt,$=>e(21,w=$)),he(n,Ke,$=>e(11,P=$)),n.$$.on_destroy.push(()=>_()),n.$$.on_destroy.push(()=>E()),n.$$.on_destroy.push(()=>v()),n.$$.on_destroy.push(()=>D());let{selectedAddress:S}=t,{isSync:U=!1}=t,{enabledFetchAllData:V=!1}=t,O=[],x="value",Q={tooltip:{trigger:"axis",extraCssText:"z-index: 9997",axisPointer:{type:"shadow"},formatter($){const q=O.find(ne=>ne?.contractAddress?.toLowerCase()===$[0]?.name?.toLowerCase());return`
          <div style="display: flex; flex-direction: column; gap: 12px; min-width: 400px;">
            <div style="display: flex; align-items: centers; gap: 4px">
              <img src=${q?.logo||yt} alt="" width=20 height=20 style="border-radius: 100%" />
              <div style="margin-top: 2px; font-weight: 500; font-size: 16px; line-height: 19px; color: ${u?"white":"black"}">
                ${q?.name?.length>20?Re(q?.name,20):q?.name||"N/A"} ${q?.symbol?`(${q?.symbol})`:""}
              </div>
            </div>
            
            <div style="display: flex; align-items: center; justify-content: space-between;">
              <div style="font-weight: 500; font-size: 14px; line-height: 17px; color: ${u?"white":"black"}">
                ROI
              </div>
            
              <div style="display: flex; flex-direction: column; justify-content: flex-end; align-items: flex-end; gap: 4px; flex: 1; width: 100%; text-align: right; font-weight: 500; font-size: 14px; line-height: 17px;">
                <div style="display:flex; justify-content: flex-end; align-items: center; color: ${$[0].value>=0?"#05a878":"#f25f5d"};">
                  <span>${$[0].value<0?"-":""}</span>
                  ${rl(Math.abs($[0].value))}
                </div>
                <div style="display:flex; justify-content: flex-end; align-items: center; gap: 4px; color: ${q?.percentPnL>=0?"#05a878":"#f25f5d"};">
                  ${nl(Math.abs(q?.percentPnL))}%
                  <img src=${q?.percentPnL>=0?mt:pt} alt="" style="margin-bottom: 4px;" />
                </div>
              </div>
            </div>
          </div>`}},toolbox:{right:"3%",top:"-1%",feature:{dataZoom:{yAxisIndex:"none"}}},xAxis:{type:"category",axisTick:{show:!1},show:!1,data:[],axisLabel:{fontSize:Je()}},yAxis:{type:"value",axisLabel:{formatter($,q){return`${$<0?"-":""} $`+xt(Math.abs($)).format("0.00a")},fontSize:Je()}},series:[]},se={tooltip:{trigger:"axis",extraCssText:"z-index: 9997",axisPointer:{type:"shadow"},formatter($){const q=O.find(ne=>ne?.contractAddress?.toLowerCase()===$[0]?.name?.toLowerCase());return`
          <div style="display: flex; flex-direction: column; gap: 12px; min-width: 400px;">
            <div style="display: flex; align-items: centers; gap: 4px">
              <img src=${q?.logo||yt} alt="" width=20 height=20 style="border-radius: 100%" />
              <div style="margin-top: 2px; font-weight: 500; font-size: 14px; line-height: 17px; color: ${u?"white":"black"}">
                ${q?.name?.length>20?Re(q?.name,20):q?.name||"N/A"} ${q?.symbol?`(${q?.symbol})`:""}
              </div>
            </div>
            
            <div style="display: flex; align-items: center; justify-content: space-between;">
              <div style="font-weight: 500; font-size: 14px; line-height: 17px; color: ${u?"white":"black"}">
                ROI
              </div>
              <div style="display: flex; flex-direction: column; justify-content: flex-end; align-items: flex-end; gap: 4px; flex: 1; width: 100%; text-align: right; font-weight: 500; font-size: 14px; line-height: 17px;">
                <div style="display:flex; justify-content: flex-end; align-items: center; color: ${q?.pnl>=0?"#05a878":"#f25f5d"};">
                  <span>${q?.pnl<0?"-":""}</span>
                  ${rl(Math.abs(q?.pnl))}
                </div>
                <div style="display:flex; justify-content: flex-end; align-items: center; gap: 4px; color: ${$[0].value>=0?"#05a878":"#f25f5d"};">
                  ${nl(Math.abs($[0].value))}%
                  <img src=${$[0].value>=0?mt:pt} alt="" style="margin-bottom: 4px;" />
                </div>
              </div>
            </div>
          </div>`}},toolbox:{right:"3%",top:"-1%",feature:{dataZoom:{yAxisIndex:"none"}}},xAxis:{type:"category",axisTick:{show:!1},show:!1,data:[],axisLabel:{fontSize:Je()}},yAxis:{type:"value",axisLabel:{formatter:"{value}%",fontSize:Je()}},series:[]};const de=$=>({realizedProfit:$?.profit?.realizedProfit?Number($?.profit?.realizedProfit):0,percentRealizedProfit:Number($?.avgCost)===0?0:($?.profit?.realizedProfit?Number($?.profit?.realizedProfit):0)/Math.abs(Number($?.avgCost))}),ee=$=>{const q=$?.profit?.realizedProfit?Number($?.profit?.realizedProfit):0,ne=$?.pnl?Number($?.pnl):Number($?.profit?.totalBought||0)>Number($?.profit?.totalSold||0)?Number($?.profit?.totalBought||0)*Number($?.price||0)+Number($?.profit?.totalGain||0)-Number($?.profit?.cost||0):q;return{unrealizedProfit:Number($?.avgCost)===0?0:Number(ne)-q,percentUnrealizedProfit:Number($?.avgCost)===0?0:(Number($?.avgCost)===0?0:Number(ne)-q)/Math.abs(Number($?.avgCost))}},N=($,q)=>{const ie=q.metadata.map(j=>{const I=$.find(re=>re.contractAddress.toString().toLowerCase()===j.address.toString().toLowerCase());return I?{...j,holding:I}:j})?.filter(j=>j.holding)?.filter(j=>ve().subtract(30,"day").valueOf()<j.lastTrade*1e3)?.map(j=>({...j.holding,value:Number(j?.holding?.amount||0)*Number(j?.holding.price?.price||j?.holding.rate),price:Number(j?.holding?.price?.price||0)}))?.sort((j,I)=>j.value<I.value?1:j.value>I.value?-1:0);e(2,O=ie?.filter(j=>j?.profit?.realizedProfit)?.map(j=>{const I=de(j).realizedProfit,re=ee(j).unrealizedProfit,be=I+re,ye=(de(j).percentRealizedProfit+ee(j).percentUnrealizedProfit)*100;return{...j,pnl:be,percentPnL:ye}})),O&&O.length!==0&&(e(4,Q={...Q,xAxis:{...Q.xAxis,data:O.sort((j,I)=>j?.pnl-I?.pnl).map(j=>j?.contractAddress?.toLowerCase())},series:[{type:"bar",data:O.sort((j,I)=>j?.pnl-I?.pnl).map(j=>({value:j.pnl,itemStyle:{color:j.pnl>=0?"#05a878":"#f25f5d"}}))}]}),e(5,se={...se,xAxis:{...se.xAxis,data:O.sort((j,I)=>j?.percentPnL-I?.percentPnL).map(j=>j?.contractAddress?.toLowerCase())},series:[{type:"bar",data:O.sort((j,I)=>j?.percentPnL-I?.percentPnL).map(j=>({value:j.percentPnL,itemStyle:{color:j.percentPnL>=0?"#05a878":"#f25f5d"}}))}]}))},k=$=>e(3,x=$.value);return n.$$set=$=>{"selectedAddress"in $&&e(12,S=$.selectedAddress),"isSync"in $&&e(13,U=$.isSync),"enabledFetchAllData"in $&&e(14,V=$.enabledFetchAllData)},n.$$.update=()=>{if(n.$$.dirty&24576&&e(15,l=U?V:!0),n.$$.dirty&4096&&F(e(10,r=Pe({queryKey:["validate",S],queryFn:()=>Ct(S),retry:!1,enabled:!!(S&&S?.length!==0)}))),n.$$.dirty&2097152&&e(16,o=w?.length!==0&&w==="EVM"?Rt.slice(1)?.map($=>$.value):w?.length!==0&&w==="MOVE"?It.slice(1)?.map($=>$.value):w?.length!==0&&w==="SOL"?ft.slice(1)?.map($=>$.value):[ft[0]?.value]),n.$$.dirty&1609728&&R(e(9,i=Pe({queryKey:["token-holding-each-chain",S,J],queryFn:()=>dt(S,J,H.data),enabled:!!(S?.length!==0&&l&&!H.isFetching&&J.length!==0&&J!=="ALL")}))),n.$$.dirty&1675264&&B(e(8,a=Kt(o?.map($=>({queryKey:["token-holding",S,J,$],queryFn:()=>dt(S,$,H.data),enabled:!!(S?.length!==0&&l&&!H.isFetching&&J.length!==0&&J==="ALL")}))))),n.$$.dirty&36864&&y(e(7,s=Pe({queryKey:["trading-stats",S],queryFn:()=>Ut(S),retry:!1,enabled:S?.length!==0&&l}))),n.$$.dirty&262146&&!f.isError&&f.data&&f.data!==void 0&&L.length!==0){const $=Qe.flatten(L?.filter(q=>Array.isArray(q.data))?.map(q=>q.data));$&&$.length!==0&&N($,f.data)}n.$$.dirty&131074&&!f.isError&&f.data&&f.data!==void 0&&!h.isError&&h.data&&h?.data!==void 0&&N(h.data,f.data),n.$$.dirty&1&&e(6,c=u?"dark":"white")},[u,f,O,x,Q,se,c,s,a,i,r,P,S,U,V,l,o,h,L,J,H,w,k]}class Ts extends Ie{constructor(t){super(),Ue(this,t,Oi,Mi,Xe,{selectedAddress:12,isSync:13,enabledFetchAllData:14})}}const{Boolean:cr}=St;function Ul(n,t,e){const l=n.slice();return l[39]=t[e],l}function Xl(n,t,e){const l=n.slice();return l[39]=t[e],l}function Hi(n){let t,e,l,r,o;const i=[Vi,ji],a=[];function s(c,u){return c[8].length===0?0:1}return l=s(n),r=a[l]=i[l](n),{c(){t=p("div"),e=p("div"),r.c(),d(e,"class","h-full flex flex-col svelte-12keba0"),d(t,"class","h-full overflow-y-auto svelte-12keba0")},m(c,u){A(c,t,u),m(t,e),a[l].m(e,null),o=!0},p(c,u){let f=l;l=s(c),l===f?a[l].p(c,u):(me(),g(a[f],1,1,()=>{a[f]=null}),pe(),r=a[l],r?r.p(c,u):(r=a[l]=i[l](c),r.c()),b(r,1),r.m(e,null))},i(c){o||(b(r),o=!0)},o(c){g(r),o=!1},d(c){c&&T(t),a[l].d()}}}function Bi(n){let t,e,l,r;const o=[Ui,Ii],i=[];function a(s,c){return 0}return e=a(),l=i[e]=o[e](n),{c(){t=p("div"),l.c(),d(t,"class","h-full flex justify-center items-center py-4 svelte-12keba0")},m(s,c){A(s,t,c),i[e].m(t,null),r=!0},p:le,i(s){r||(b(l),r=!0)},o(s){g(l),r=!1},d(s){s&&T(t),i[e].d()}}}function ji(n){let t,e,l=je(n[8]),r=[];for(let i=0;i<l.length;i+=1)r[i]=Yl(Xl(n,l,i));const o=i=>g(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=Be()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);A(i,t,a),e=!0},p(i,a){if(a[0]&33036){l=je(i[8]);let s;for(s=0;s<l.length;s+=1){const c=Xl(i,l,s);r[s]?(r[s].p(c,a),b(r[s],1)):(r[s]=Yl(c),r[s].c(),b(r[s],1),r[s].m(t.parentNode,t))}for(me(),s=l.length;s<r.length;s+=1)o(s);pe()}},i(i){if(!e){for(let a=0;a<l.length;a+=1)b(r[a]);e=!0}},o(i){r=r.filter(cr);for(let a=0;a<r.length;a+=1)g(r[a]);e=!1},d(i){i&&T(t),_t(r,i)}}}function Vi(n){let t,e=n[14]("There have been no closed holding positions in the last 30 day")+"",l;return{c(){t=p("div"),l=Y(e),d(t,"class","h-full flex items-center justify-center text-center py-4 lg:px-3 svelte-12keba0")},m(r,o){A(r,t,o),m(t,l)},p(r,o){o[0]&16384&&e!==(e=r[14]("There have been no closed holding positions in the last 30 day")+"")&&ae(l,e)},i:le,o:le,d(r){r&&T(t)}}}function Fi(n){let t=Re(n[39].symbol,20)+"",e;return{c(){e=Y(t)},m(l,r){A(l,e,r)},p(l,r){r[0]&256&&t!==(t=Re(l[39].symbol,20)+"")&&ae(e,t)},d(l){l&&T(e)}}}function Ri(n){let t;return{c(){t=Y("N/A")},m(e,l){A(e,t,l)},p:le,d(e){e&&T(t)}}}function Yl(n){let t,e,l,r,o,i,a,s=n[39].name+"",c,u,f,_,y,h,E,R,L,v,B;r=new Gt({props:{logo:n[39]?.logo,defaultLogo:yt}});function J(w,P){return w[39].symbol===void 0?Ri:Fi}let H=J(n),D=H(n);h=new ke({props:{number:n[39].pnl,type:"value"}});function F(){return n[25](n[39])}return{c(){t=p("div"),e=p("div"),l=p("div"),K(r.$$.fragment),o=M(),i=p("span"),a=p("span"),c=Y(s),u=M(),f=p("span"),D.c(),_=M(),y=p("div"),K(h.$$.fragment),E=M(),d(l,"class","w-[30px] h-[30px] overflow-hidden rounded-full svelte-12keba0"),d(a,"class","text-sm font-medium svelte-12keba0"),d(f,"class","font-medium text_00000080 text-xs svelte-12keba0"),d(i,"class","flex flex-col svelte-12keba0"),d(e,"class","flex-1 flex items-center gap-2 svelte-12keba0"),d(y,"class","text-[#00A878] text-sm font-medium svelte-12keba0"),d(t,"class",R=ue(`flex items-center justify-between gap-2 py-2 lg:px-3 cursor-pointer ${n[15]?"bg-[#131313] hover:bg-[#000]":"bg-white hover:bg-gray-100"}`)+" svelte-12keba0")},m(w,P){A(w,t,P),m(t,e),m(e,l),W(r,l,null),m(e,o),m(e,i),m(i,a),m(a,c),m(i,u),m(i,f),D.m(f,null),m(t,_),m(t,y),W(h,y,null),m(t,E),L=!0,v||(B=Oe(t,"click",F),v=!0)},p(w,P){n=w;const S={};P[0]&256&&(S.logo=n[39]?.logo),r.$set(S),(!L||P[0]&256)&&s!==(s=n[39].name+"")&&ae(c,s),H===(H=J(n))&&D?D.p(n,P):(D.d(1),D=H(n),D&&(D.c(),D.m(f,null)));const U={};P[0]&256&&(U.number=n[39].pnl),h.$set(U),(!L||P[0]&32768&&R!==(R=ue(`flex items-center justify-between gap-2 py-2 lg:px-3 cursor-pointer ${n[15]?"bg-[#131313] hover:bg-[#000]":"bg-white hover:bg-gray-100"}`)+" svelte-12keba0"))&&d(t,"class",R)},i(w){L||(b(r.$$.fragment,w),b(h.$$.fragment,w),L=!0)},o(w){g(r.$$.fragment,w),g(h.$$.fragment,w),L=!1},d(w){w&&T(t),G(r),D.d(),G(h),v=!1,B()}}}function Ii(n){let t,e;return t=new lt({}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function Ui(n){let t,e;return t=new rt({}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function Xi(n){let t,e,l,r,o;const i=[Wi,Ki],a=[];function s(c,u){return c[9].length===0?0:1}return l=s(n),r=a[l]=i[l](n),{c(){t=p("div"),e=p("div"),r.c(),d(e,"class","h-full flex flex-col svelte-12keba0"),d(t,"class","h-full overflow-y-auto svelte-12keba0")},m(c,u){A(c,t,u),m(t,e),a[l].m(e,null),o=!0},p(c,u){let f=l;l=s(c),l===f?a[l].p(c,u):(me(),g(a[f],1,1,()=>{a[f]=null}),pe(),r=a[l],r?r.p(c,u):(r=a[l]=i[l](c),r.c()),b(r,1),r.m(e,null))},i(c){o||(b(r),o=!0)},o(c){g(r),o=!1},d(c){c&&T(t),a[l].d()}}}function Yi(n){let t,e,l,r;const o=[Qi,Ji],i=[];function a(s,c){return 0}return e=a(),l=i[e]=o[e](n),{c(){t=p("div"),l.c(),d(t,"class","h-full flex justify-center items-center py-4 svelte-12keba0")},m(s,c){A(s,t,c),i[e].m(t,null),r=!0},p:le,i(s){r||(b(l),r=!0)},o(s){g(l),r=!1},d(s){s&&T(t),i[e].d()}}}function Ki(n){let t,e,l=je(n[9]),r=[];for(let i=0;i<l.length;i+=1)r[i]=Kl(Ul(n,l,i));const o=i=>g(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=Be()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);A(i,t,a),e=!0},p(i,a){if(a[0]&33292){l=je(i[9]);let s;for(s=0;s<l.length;s+=1){const c=Ul(i,l,s);r[s]?(r[s].p(c,a),b(r[s],1)):(r[s]=Kl(c),r[s].c(),b(r[s],1),r[s].m(t.parentNode,t))}for(me(),s=l.length;s<r.length;s+=1)o(s);pe()}},i(i){if(!e){for(let a=0;a<l.length;a+=1)b(r[a]);e=!0}},o(i){r=r.filter(cr);for(let a=0;a<r.length;a+=1)g(r[a]);e=!1},d(i){i&&T(t),_t(r,i)}}}function Wi(n){let t,e=n[14]("There have been no closed holding positions in the last 30 day")+"",l;return{c(){t=p("div"),l=Y(e),d(t,"class","h-full flex items-center justify-center text-center py-4 lg:px-3 svelte-12keba0")},m(r,o){A(r,t,o),m(t,l)},p(r,o){o[0]&16384&&e!==(e=r[14]("There have been no closed holding positions in the last 30 day")+"")&&ae(l,e)},i:le,o:le,d(r){r&&T(t)}}}function Gi(n){let t=Re(n[39].symbol,20)+"",e;return{c(){e=Y(t)},m(l,r){A(l,e,r)},p(l,r){r[0]&512&&t!==(t=Re(l[39].symbol,20)+"")&&ae(e,t)},d(l){l&&T(e)}}}function Zi(n){let t;return{c(){t=Y("N/A")},m(e,l){A(e,t,l)},p:le,d(e){e&&T(t)}}}function Kl(n){let t,e,l,r,o,i,a,s=n[39].name+"",c,u,f,_,y,h,E,R,L,v,B;r=new Gt({props:{logo:n[39]?.logo,defaultLogo:yt}});function J(w,P){return w[39].symbol===void 0?Zi:Gi}let H=J(n),D=H(n);h=new ke({props:{number:n[39].pnl,type:"value"}});function F(){return n[26](n[39])}return{c(){t=p("div"),e=p("div"),l=p("div"),K(r.$$.fragment),o=M(),i=p("span"),a=p("span"),c=Y(s),u=M(),f=p("span"),D.c(),_=M(),y=p("div"),K(h.$$.fragment),E=M(),d(l,"class","w-[30px] h-[30px] overflow-hidden rounded-full svelte-12keba0"),d(a,"class","text-sm font-medium svelte-12keba0"),d(f,"class","font-medium text_00000080 text-xs svelte-12keba0"),d(i,"class","flex flex-col svelte-12keba0"),d(e,"class","flex-1 flex items-center gap-2 svelte-12keba0"),d(y,"class","text-red-500 text-sm font-medium svelte-12keba0"),d(t,"class",R=ue(`flex items-center justify-between gap-2 py-2 lg:px-3 cursor-pointer ${n[15]?"bg-[#131313] hover:bg-[#000]":"bg-white hover:bg-gray-100"}`)+" svelte-12keba0")},m(w,P){A(w,t,P),m(t,e),m(e,l),W(r,l,null),m(e,o),m(e,i),m(i,a),m(a,c),m(i,u),m(i,f),D.m(f,null),m(t,_),m(t,y),W(h,y,null),m(t,E),L=!0,v||(B=Oe(t,"click",F),v=!0)},p(w,P){n=w;const S={};P[0]&512&&(S.logo=n[39]?.logo),r.$set(S),(!L||P[0]&512)&&s!==(s=n[39].name+"")&&ae(c,s),H===(H=J(n))&&D?D.p(n,P):(D.d(1),D=H(n),D&&(D.c(),D.m(f,null)));const U={};P[0]&512&&(U.number=n[39].pnl),h.$set(U),(!L||P[0]&32768&&R!==(R=ue(`flex items-center justify-between gap-2 py-2 lg:px-3 cursor-pointer ${n[15]?"bg-[#131313] hover:bg-[#000]":"bg-white hover:bg-gray-100"}`)+" svelte-12keba0"))&&d(t,"class",R)},i(w){L||(b(r.$$.fragment,w),b(h.$$.fragment,w),L=!0)},o(w){g(r.$$.fragment,w),g(h.$$.fragment,w),L=!1},d(w){w&&T(t),G(r),D.d(),G(h),v=!1,B()}}}function Ji(n){let t,e;return t=new lt({}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function Qi(n){let t,e;return t=new rt({}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function Wl(n){let t,e,l,r,o,i,a=["EVM","MOVE","BUNDLE"].includes(n[1])&&n[3]?.chain!=="CEX",s,c,u,f,_,y,h,E,R,L,v,B,J,H,D,F,w,P;o=new Gt({props:{logo:n[3].logo,defaultLogo:yt}});let S=a&&Gl(n);function U(N,k){return N[3].name===void 0?ts:es}let V=U(n),O=V(n),x=n[7]&&n[3]?.name?.length>20&&Zl(n);function Q(N,k){return N[3].symbol===void 0?rs:ls}let se=Q(n),de=se(n),ee=n[6]&&n[3].symbol.length>20&&Jl(n);return v=new Ar({props:{text:n[3]?.contractAddress,$$slots:{default:[ss,({copy:N})=>({38:N}),({copy:N})=>[0,N?128:0]]},$$scope:{ctx:n}}}),v.$on("copy",n[34]),D=new ke({props:{number:Number(n[3]?.price),type:"balance"}}),{c(){t=p("div"),e=p("div"),l=p("div"),r=p("div"),K(o.$$.fragment),i=M(),S&&S.c(),s=M(),c=p("div"),u=p("div"),f=p("div"),O.c(),_=M(),x&&x.c(),y=M(),h=p("div"),E=p("div"),de.c(),R=M(),ee&&ee.c(),L=M(),K(v.$$.fragment),B=M(),J=p("div"),H=Y("$"),K(D.$$.fragment),d(r,"class","rounded-full w-[46px] h-[46px] overflow-hidden svelte-12keba0"),d(l,"class","relative svelte-12keba0"),d(f,"class","relative font-medium text-xl svelte-12keba0"),d(u,"class","flex items-start gap-2 svelte-12keba0"),d(E,"class","relative font-medium text_00000080 text-base svelte-12keba0"),d(h,"class","flex items-center gap-2 svelte-12keba0"),d(c,"class","flex flex-col svelte-12keba0"),d(e,"class","flex items-center gap-4 svelte-12keba0"),d(J,"class","flex items-center font-medium text-2xl svelte-12keba0"),d(t,"class","flex flex-col gap-2 svelte-12keba0")},m(N,k){A(N,t,k),m(t,e),m(e,l),m(l,r),W(o,r,null),m(l,i),S&&S.m(l,null),m(e,s),m(e,c),m(c,u),m(u,f),O.m(f,null),m(f,_),x&&x.m(f,null),m(c,y),m(c,h),m(h,E),de.m(E,null),m(E,R),ee&&ee.m(E,null),m(h,L),W(v,h,null),m(t,B),m(t,J),m(J,H),W(D,J,null),F=!0,w||(P=[Oe(f,"mouseover",n[28]),Oe(f,"mouseleave",n[29]),Oe(E,"mouseover",n[30]),Oe(E,"mouseleave",n[31])],w=!0)},p(N,k){const $={};k[0]&8&&($.logo=N[3].logo),o.$set($),k[0]&10&&(a=["EVM","MOVE","BUNDLE"].includes(N[1])&&N[3]?.chain!=="CEX"),a?S?S.p(N,k):(S=Gl(N),S.c(),S.m(l,null)):S&&(S.d(1),S=null),V===(V=U(N))&&O?O.p(N,k):(O.d(1),O=V(N),O&&(O.c(),O.m(f,_))),N[7]&&N[3]?.name?.length>20?x?(x.p(N,k),k[0]&136&&b(x,1)):(x=Zl(N),x.c(),b(x,1),x.m(f,null)):x&&(me(),g(x,1,1,()=>{x=null}),pe()),se===(se=Q(N))&&de?de.p(N,k):(de.d(1),de=se(N),de&&(de.c(),de.m(E,R))),N[6]&&N[3].symbol.length>20?ee?(ee.p(N,k),k[0]&72&&b(ee,1)):(ee=Jl(N),ee.c(),b(ee,1),ee.m(E,null)):ee&&(me(),g(ee,1,1,()=>{ee=null}),pe());const q={};k[0]&8&&(q.text=N[3]?.contractAddress),k[0]&32824|k[1]&8320&&(q.$$scope={dirty:k,ctx:N}),v.$set(q);const ne={};k[0]&8&&(ne.number=Number(N[3]?.price)),D.$set(ne)},i(N){F||(b(o.$$.fragment,N),b(x),b(ee),b(v.$$.fragment,N),b(D.$$.fragment,N),F=!0)},o(N){g(o.$$.fragment,N),g(x),g(ee),g(v.$$.fragment,N),g(D.$$.fragment,N),F=!1},d(N){N&&T(t),G(o),S&&S.d(),O.d(),x&&x.d(),de.d(),ee&&ee.d(),G(v),G(D),w=!1,sr(P)}}}function Gl(n){let t,e,l;return{c(){t=p("div"),e=p("img"),qe(e.src,l=$t(n[3]?.chain)?.logo)||d(e,"src",l),d(e,"alt",""),d(e,"width","26"),d(e,"height","26"),d(e,"class","rounded-full block svelte-12keba0"),d(t,"class","absolute -top-2 -right-1 svelte-12keba0")},m(r,o){A(r,t,o),m(t,e)},p(r,o){o[0]&8&&!qe(e.src,l=$t(r[3]?.chain)?.logo)&&d(e,"src",l)},d(r){r&&T(t)}}}function es(n){let t=(n[3]?.name?.length>20?Re(n[3].name,20):n[3].name)+"",e;return{c(){e=Y(t)},m(l,r){A(l,e,r)},p(l,r){r[0]&8&&t!==(t=(l[3]?.name?.length>20?Re(l[3].name,20):l[3].name)+"")&&ae(e,t)},d(l){l&&T(e)}}}function ts(n){let t;return{c(){t=Y("N/A")},m(e,l){A(e,t,l)},p:le,d(e){e&&T(t)}}}function Zl(n){let t,e,l;return e=new Xt({props:{text:n[3].name}}),{c(){t=p("div"),K(e.$$.fragment),d(t,"class","absolute left-0 -top-8 svelte-12keba0"),Yt(t,"z-index","2147483648")},m(r,o){A(r,t,o),W(e,t,null),l=!0},p(r,o){const i={};o[0]&8&&(i.text=r[3].name),e.$set(i)},i(r){l||(b(e.$$.fragment,r),l=!0)},o(r){g(e.$$.fragment,r),l=!1},d(r){r&&T(t),G(e)}}}function ls(n){let t=Re(n[3].symbol,20)+"",e;return{c(){e=Y(t)},m(l,r){A(l,e,r)},p(l,r){r[0]&8&&t!==(t=Re(l[3].symbol,20)+"")&&ae(e,t)},d(l){l&&T(e)}}}function rs(n){let t;return{c(){t=Y("N/A")},m(e,l){A(e,t,l)},p:le,d(e){e&&T(t)}}}function Jl(n){let t,e,l;return e=new Xt({props:{text:n[3].symbol}}),{c(){t=p("div"),K(e.$$.fragment),d(t,"class","absolute left-0 -top-8 svelte-12keba0"),Yt(t,"z-index","2147483648")},m(r,o){A(r,t,o),W(e,t,null),l=!0},p(r,o){const i={};o[0]&8&&(i.text=r[3].symbol),e.$set(i)},i(r){l||(b(e.$$.fragment,r),l=!0)},o(r){g(e.$$.fragment,r),l=!1},d(r){r&&T(t),G(e)}}}function ns(n){let t,e,l,r,o;return{c(){t=ht("svg"),e=ht("path"),r=ht("path"),d(e,"d","M8.1875 3.3125H10.6875V10.1875H3.8125V7.6875"),d(e,"stroke",l=n[15]?"#d1d5db":"#00000080"),d(e,"stroke-linecap","round"),d(e,"stroke-linejoin","round"),d(r,"d","M8.1875 0.8125H1.3125V7.6875H8.1875V0.8125Z"),d(r,"stroke",o=n[15]?"#d1d5db":"#00000080"),d(r,"stroke-linecap","round"),d(r,"stroke-linejoin","round"),d(t,"width",20),d(t,"height",20),d(t,"viewBox","0 0 12 11"),d(t,"fill","none"),d(t,"xmlns","http://www.w3.org/2000/svg"),d(t,"class","svelte-12keba0")},m(i,a){A(i,t,a),m(t,e),m(t,r)},p(i,a){a[0]&32768&&l!==(l=i[15]?"#d1d5db":"#00000080")&&d(e,"stroke",l),a[0]&32768&&o!==(o=i[15]?"#d1d5db":"#00000080")&&d(r,"stroke",o)},d(i){i&&T(t)}}}function is(n){let t,e,l;return{c(){t=ht("svg"),e=ht("path"),d(e,"fill-rule","evenodd"),d(e,"d","M1.87,47.2a6.33,6.33,0,1,1,8.92-9c8.88,8.85,17.53,17.66,26.53,26.45l-3.76,4.45-.35.37a6.33,6.33,0,0,1-8.95,0L1.87,47.2ZM30,43.55a6.33,6.33,0,1,1,8.82-9.07l25,24.38L111.64,2.29c5.37-6.35,15,1.84,9.66,8.18L69.07,72.22l-.3.33a6.33,6.33,0,0,1-8.95.12L30,43.55Zm28.76-4.21-.31.33-9.07-8.85L71.67,4.42c5.37-6.35,15,1.83,9.67,8.18L58.74,39.34Z"),d(t,"width",20),d(t,"height",20),d(t,"id","Layer_1"),d(t,"data-name","Layer 1"),d(t,"xmlns","http://www.w3.org/2000/svg"),d(t,"viewBox","0 0 122.88 74.46"),d(t,"fill",l=n[15]?"#d1d5db":"#00000080")},m(r,o){A(r,t,o),m(t,e)},p(r,o){o[0]&32768&&l!==(l=r[15]?"#d1d5db":"#00000080")&&d(t,"fill",l)},d(r){r&&T(t)}}}function Ql(n){let t,e,l;return e=new Xt({props:{text:At(n[3]?.contractAddress)}}),{c(){t=p("div"),K(e.$$.fragment),d(t,"class","absolute right-0 -top-8 svelte-12keba0"),Yt(t,"z-index","2147483648")},m(r,o){A(r,t,o),W(e,t,null),l=!0},p(r,o){const i={};o[0]&8&&(i.text=At(r[3]?.contractAddress)),e.$set(i)},i(r){l||(b(e.$$.fragment,r),l=!0)},o(r){g(e.$$.fragment,r),l=!1},d(r){r&&T(t),G(e)}}}function ss(n){let t,e,l,r,o;function i(u,f){return u[5]?is:ns}let a=i(n),s=a(n),c=n[4]&&Ql(n);return{c(){t=p("div"),s.c(),e=M(),c&&c.c(),d(t,"class","cursor-pointer relative svelte-12keba0")},m(u,f){A(u,t,f),s.m(t,null),m(t,e),c&&c.m(t,null),l=!0,r||(o=[Oe(t,"mouseover",n[32]),Oe(t,"mouseleave",n[33]),Oe(t,"click",function(){Tr(n[38])&&n[38].apply(this,arguments)})],r=!0)},p(u,f){n=u,a===(a=i(n))&&s?s.p(n,f):(s.d(1),s=a(n),s&&(s.c(),s.m(t,e))),n[4]?c?(c.p(n,f),f[0]&16&&b(c,1)):(c=Ql(n),c.c(),b(c,1),c.m(t,null)):c&&(me(),g(c,1,1,()=>{c=null}),pe())},i(u){l||(b(c),l=!0)},o(u){g(c),l=!1},d(u){u&&T(t),s.d(),c&&c.d(),r=!1,sr(o)}}}function os(n){let t,e,l,r=n[3]&&Object.keys(n[3]).length!==0,o,i,a,s,c,u=r&&Wl(n);return i=new yi({props:{data:{...n[3],market_price:n[3]?.price},showSideTokenDetail:n[2]}}),{c(){t=p("div"),e=p("div"),e.textContent="×",l=M(),u&&u.c(),o=M(),K(i.$$.fragment),d(e,"class","text-5xl text-gray-500 cursor-pointer svelte-12keba0"),d(t,"class","flex justify-between items-start svelte-12keba0")},m(f,_){A(f,t,_),m(t,e),m(t,l),u&&u.m(t,null),A(f,o,_),W(i,f,_),a=!0,s||(c=Oe(e,"click",$r(n[27])),s=!0)},p(f,_){_[0]&8&&(r=f[3]&&Object.keys(f[3]).length!==0),r?u?(u.p(f,_),_[0]&8&&b(u,1)):(u=Wl(f),u.c(),b(u,1),u.m(t,null)):u&&(me(),g(u,1,1,()=>{u=null}),pe());const y={};_[0]&8&&(y.data={...f[3],market_price:f[3]?.price}),_[0]&4&&(y.showSideTokenDetail=f[2]),i.$set(y)},i(f){a||(b(u),b(i.$$.fragment,f),a=!0)},o(f){g(u),g(i.$$.fragment,f),a=!1},d(f){f&&(T(t),T(o)),u&&u.d(),G(i,f),s=!1,c()}}}function as(n){let t,e,l,r=n[14]("Top Profit (30D)")+"",o,i,a,s,c,u,f,_,y,h=n[14]("Top Loss (30D)")+"",E,R,L,v,B,J,H,D,F;const w=[Bi,Hi],P=[];function S(x,Q){return x[0].isFetching?0:1}s=S(n),c=P[s]=w[s](n);const U=[Yi,Xi],V=[];function O(x,Q){return x[0].isLoading?0:1}return v=O(n),B=V[v]=U[v](n),D=new Lr({props:{isOpen:n[2],$$slots:{default:[os]},$$scope:{ctx:n}}}),{c(){t=p("div"),e=p("div"),l=p("div"),o=Y(r),i=M(),a=p("div"),c.c(),f=M(),_=p("div"),y=p("div"),E=Y(h),R=M(),L=p("div"),B.c(),H=M(),K(D.$$.fragment),d(l,"class","text-xl font-medium lg:px-3 svelte-12keba0"),d(a,"class",u=ue(`max-h-[280px] ${n[0].isFetching?"xl:h-[92px]":""}`)+" svelte-12keba0"),d(e,"class","flex flex-col gap-5 xl:border border_0000001a rounded-xl xl:pt-6 xl:pb-2 svelte-12keba0"),d(y,"class","text-xl font-medium lg:px-3 svelte-12keba0"),d(L,"class",J=ue(`max-h-[280px] ${n[0].isFetching?"xl:h-[92px]":""}`)+" svelte-12keba0"),d(_,"class","flex flex-col gap-5 xl:border border_0000001a xl:rounded-xl xl:pt-6 xl:pb-2 svelte-12keba0"),d(t,"class","col-span-4 grid xl:grid-cols-2 grid-cols-1 gap-5 svelte-12keba0")},m(x,Q){A(x,t,Q),m(t,e),m(e,l),m(l,o),m(e,i),m(e,a),P[s].m(a,null),m(t,f),m(t,_),m(_,y),m(y,E),m(_,R),m(_,L),V[v].m(L,null),A(x,H,Q),W(D,x,Q),F=!0},p(x,Q){(!F||Q[0]&16384)&&r!==(r=x[14]("Top Profit (30D)")+"")&&ae(o,r);let se=s;s=S(x),s===se?P[s].p(x,Q):(me(),g(P[se],1,1,()=>{P[se]=null}),pe(),c=P[s],c?c.p(x,Q):(c=P[s]=w[s](x),c.c()),b(c,1),c.m(a,null)),(!F||Q[0]&1&&u!==(u=ue(`max-h-[280px] ${x[0].isFetching?"xl:h-[92px]":""}`)+" svelte-12keba0"))&&d(a,"class",u),(!F||Q[0]&16384)&&h!==(h=x[14]("Top Loss (30D)")+"")&&ae(E,h);let de=v;v=O(x),v===de?V[v].p(x,Q):(me(),g(V[de],1,1,()=>{V[de]=null}),pe(),B=V[v],B?B.p(x,Q):(B=V[v]=U[v](x),B.c()),b(B,1),B.m(L,null)),(!F||Q[0]&1&&J!==(J=ue(`max-h-[280px] ${x[0].isFetching?"xl:h-[92px]":""}`)+" svelte-12keba0"))&&d(L,"class",J);const ee={};Q[0]&4&&(ee.isOpen=x[2]),Q[0]&33022|Q[1]&8192&&(ee.$$scope={dirty:Q,ctx:x}),D.$set(ee)},i(x){F||(b(c),b(B),b(D.$$.fragment,x),F=!0)},o(x){g(c),g(B),g(D.$$.fragment,x),F=!1},d(x){x&&(T(t),T(H)),P[s].d(),V[v].d(),G(D,x)}}}function cs(n,t,e){let l,r,o,i,a,s,c,u=le,f=()=>(u(),u=De(s,C=>e(0,c=C)),s),_,y=le,h=()=>(y(),y=De(i,C=>e(21,_=C)),i),E,R=le,L=()=>(R(),R=De(a,C=>e(22,E=C)),a),v,B,J=le,H=()=>(J(),J=De(r,C=>e(24,B=C)),r),D,F,w;he(n,Tt,C=>e(23,v=C)),he(n,tt,C=>e(1,D=C)),he(n,Ke,C=>e(14,F=C)),he(n,st,C=>e(15,w=C)),n.$$.on_destroy.push(()=>u()),n.$$.on_destroy.push(()=>y()),n.$$.on_destroy.push(()=>R()),n.$$.on_destroy.push(()=>J());let{selectedAddress:P}=t,{isSync:S=!1}=t,{enabledFetchAllData:U=!1}=t,V=!1,O,x=!1,Q=!1,se=!1,de=!1,ee=[],N=[];const k=C=>C?.profit?.realizedProfit?Number(C?.profit?.realizedProfit):0,$=C=>{const fe=C?.profit?.realizedProfit?Number(C?.profit?.realizedProfit):0,Ce=C?.pnl?Number(C?.pnl):Number(C?.profit?.totalBought||0)>Number(C?.profit?.totalSold||0)?Number(C?.profit?.totalBought||0)*Number(C?.price||0)+Number(C?.profit?.totalGain||0)-Number(C?.profit?.cost||0):fe;return Number(C?.avgCost)===0?0:Number(Ce)-fe},q=(C,fe)=>{const we=fe.metadata?.map(_e=>{const $e=C.find(Te=>Te.contractAddress.toString().toLowerCase()===_e.address.toString().toLowerCase());return $e?{..._e,holding:$e}:_e})?.filter(_e=>_e.holding)?.filter(_e=>ve().subtract(30,"day").valueOf()<_e.lastTrade*1e3)?.map(_e=>({..._e.holding,profit:{..._e.holding.profit},value:Number(_e?.holding?.amount||0)*Number(_e?.holding?.price?.price||_e?.holding?.rate),price:Number(_e?.holding?.price?.price||0)}))?.sort((_e,$e)=>_e.value<$e.value?1:_e.value>$e.value?-1:0)?.filter(_e=>_e?.profit?.realizedProfit)?.map(_e=>{const $e=k(_e),Te=$(_e),Ve=$e+Te;return{..._e,realizedProfit:$e,unrealizedProfit:Te,pnl:Ve}});e(8,ee=we?.filter(_e=>_e.pnl>=0)?.sort((_e,$e)=>$e.pnl-_e.pnl)),e(9,N=we?.filter(_e=>_e.pnl<0)?.sort((_e,$e)=>_e.pnl-$e.pnl))},ne=C=>{e(2,V=!0),e(3,O=C)},ie=C=>{e(2,V=!0),e(3,O=C)},j=()=>{e(2,V=!1),e(3,O={})},I=()=>{e(7,de=!0)},re=()=>e(7,de=!1),be=()=>{e(6,se=!0)},ye=()=>e(6,se=!1),z=()=>{e(4,x=!0)},X=()=>e(4,x=!1),te=async()=>{e(5,Q=!0),await xr(1e3),e(5,Q=!1)};return n.$$set=C=>{"selectedAddress"in C&&e(16,P=C.selectedAddress),"isSync"in C&&e(17,S=C.isSync),"enabledFetchAllData"in C&&e(18,U=C.enabledFetchAllData)},n.$$.update=()=>{if(n.$$.dirty[0]&393216&&e(19,l=S?U:!0),n.$$.dirty[0]&65536&&H(e(13,r=Pe({queryKey:["validate",P],queryFn:()=>Ct(P),retry:!1,enabled:!!(P&&P?.length!==0)}))),n.$$.dirty[0]&2&&e(20,o=D?.length!==0&&D==="EVM"?Rt.slice(1)?.map(C=>C.value):D?.length!==0&&D==="MOVE"?It.slice(1)?.map(C=>C.value):D?.length!==0&&D==="SOL"?ft.slice(1)?.map(C=>C.value):[ft[0]?.value]),n.$$.dirty[0]&25755648&&h(e(12,i=Pe({queryKey:["token-holding-each-chain",P,v],queryFn:()=>dt(P,v,B.data),enabled:!!(P?.length!==0&&l&&!B.isFetching&&v.length!==0&&v!=="ALL")}))),n.$$.dirty[0]&26804224&&L(e(11,a=Kt(o?.map(C=>({queryKey:["token-holding",P,v,C],queryFn:()=>dt(P,C,B.data),enabled:!!(P?.length!==0&&l&&!B.isFetching&&v.length!==0&&v==="ALL")}))))),n.$$.dirty[0]&589824&&f(e(10,s=Pe({queryKey:["trading-stats",P],queryFn:()=>Ut(P),retry:!1,enabled:!!(P?.length!==0&&l)}))),n.$$.dirty[0]&4194305&&!c.isError&&c.data&&c.data!==void 0&&E.length!==0){const C=Qe.flatten(E?.filter(fe=>Array.isArray(fe.data))?.map(fe=>fe.data));C&&C.length!==0&&q(C,c.data)}n.$$.dirty[0]&2097153&&!c.isError&&c.data&&c.data!==void 0&&!_.isError&&_.data&&_?.data!==void 0&&q(_?.data,c.data)},[c,D,V,O,x,Q,se,de,ee,N,s,a,i,r,F,w,P,S,U,l,o,_,E,v,B,ne,ie,j,I,re,be,ye,z,X,te]}class Cs extends Ie{constructor(t){super(),Ue(this,t,cs,as,Xe,{selectedAddress:16,isSync:17,enabledFetchAllData:18},null,[-1,-1])}}function us(n){let t,e,l,r,o=n[12]("Portfolio Value")+"",i,a,s,c,u,f,_,y,h=n[12]("30D Unrealized PnL")+"",E,R,L,v,B,J,H,D,F,w=n[12]("30D Realized PnL")+"",P,S,U,V,O,x,Q,se,de,ee=n[12]("30D Trade Tokens")+"",N,k,$,q,ne,ie,j,I=n[12]("Winrate")+"",re,be,ye,z,X,te,C,fe,Ce=n[12]("Total fee paid")+"",ce,we,_e,$e,Te,Ve,Ee;c=new ke({props:{number:n[2],type:"value",personalValue:!0}});let xe=n[3]<0&&er();B=new ke({props:{number:Math.abs(n[3]),type:"value",personalValue:!0}});let Ae=n[7]<0&&tr();return O=new ke({props:{number:Math.abs(n[7]),type:"value",personalValue:!0}}),z=new ke({props:{number:n[5],type:"percent",personalValue:!0}}),$e=new ke({props:{number:n[4],type:"value",personalValue:!0}}),{c(){t=p("div"),e=p("div"),l=p("div"),r=p("div"),i=Y(o),a=M(),s=p("div"),K(c.$$.fragment),u=M(),f=p("div"),_=p("div"),y=p("span"),E=Y(h),R=M(),L=p("div"),xe&&xe.c(),v=M(),K(B.$$.fragment),H=M(),D=p("div"),F=p("div"),P=Y(w),S=M(),U=p("div"),Ae&&Ae.c(),V=M(),K(O.$$.fragment),Q=M(),se=p("div"),de=p("div"),N=Y(ee),k=M(),$=p("div"),q=Y(n[6]),ne=M(),ie=p("div"),j=p("div"),re=Y(I),be=M(),ye=p("div"),K(z.$$.fragment),X=Y("%"),te=M(),C=p("div"),fe=p("div"),ce=Y(Ce),we=M(),_e=p("div"),K($e.$$.fragment),d(r,"class","text-sm font-medium text_00000099 svelte-1wybylb"),d(s,"class","text-sm font-medium svelte-1wybylb"),d(l,"class","flex flex-col gap-2 justify-between svelte-1wybylb"),d(_,"class","text-sm font-medium text_00000099 svelte-1wybylb"),d(L,"class",J=ue(`flex items-center text-sm font-medium ${n[3]!==0?n[3]>=0?"text-[#00A878]":"text-red-500":""}`)+" svelte-1wybylb"),d(f,"class","flex flex-col gap-2 justify-between svelte-1wybylb"),d(F,"class","text-sm font-medium text_00000099 svelte-1wybylb"),d(U,"class",x=ue(`flex items-center text-sm font-medium ${n[7]!==0?n[7]>=0?"text-[#00A878]":"text-red-500":""}`)+" svelte-1wybylb"),d(D,"class","flex flex-col gap-2 justify-between svelte-1wybylb"),d(de,"class","text-sm font-medium text_00000099 svelte-1wybylb"),d($,"class","text-sm font-medium svelte-1wybylb"),d(se,"class","flex flex-col gap-2 justify-between svelte-1wybylb"),d(j,"class","text-sm font-medium text_00000099 svelte-1wybylb"),d(ye,"class","text-sm font-medium svelte-1wybylb"),d(ie,"class","flex flex-col gap-2 justify-between svelte-1wybylb"),d(fe,"class","text-sm font-medium text_00000099 svelte-1wybylb"),d(_e,"class","text-sm font-medium svelte-1wybylb"),d(C,"class","flex flex-col gap-2 justify-between svelte-1wybylb"),d(e,"class","grid md:grid-cols-3 grid-cols-2 gap-5 svelte-1wybylb"),d(t,"class","flex flex-col gap-4 svelte-1wybylb")},m(ge,Le){A(ge,t,Le),m(t,e),m(e,l),m(l,r),m(r,i),m(l,a),m(l,s),W(c,s,null),m(e,u),m(e,f),m(f,_),m(_,y),m(y,E),m(f,R),m(f,L),xe&&xe.m(L,null),m(L,v),W(B,L,null),m(e,H),m(e,D),m(D,F),m(F,P),m(D,S),m(D,U),Ae&&Ae.m(U,null),m(U,V),W(O,U,null),m(e,Q),m(e,se),m(se,de),m(de,N),m(se,k),m(se,$),m($,q),m(e,ne),m(e,ie),m(ie,j),m(j,re),m(ie,be),m(ie,ye),W(z,ye,null),m(ye,X),m(e,te),m(e,C),m(C,fe),m(fe,ce),m(C,we),m(C,_e),W($e,_e,null),Te=!0,Ve||(Ee=kt(ir.call(null,y,{content:'<tooltip-detail text="30D Unrealized PnL" />',allowHTML:!0,placement:"top",interactive:!0})),Ve=!0)},p(ge,Le){(!Te||Le&4096)&&o!==(o=ge[12]("Portfolio Value")+"")&&ae(i,o);const nt={};Le&4&&(nt.number=ge[2]),c.$set(nt),(!Te||Le&4096)&&h!==(h=ge[12]("30D Unrealized PnL")+"")&&ae(E,h),ge[3]<0?xe||(xe=er(),xe.c(),xe.m(L,v)):xe&&(xe.d(1),xe=null);const Me={};Le&8&&(Me.number=Math.abs(ge[3])),B.$set(Me),(!Te||Le&8&&J!==(J=ue(`flex items-center text-sm font-medium ${ge[3]!==0?ge[3]>=0?"text-[#00A878]":"text-red-500":""}`)+" svelte-1wybylb"))&&d(L,"class",J),(!Te||Le&4096)&&w!==(w=ge[12]("30D Realized PnL")+"")&&ae(P,w),ge[7]<0?Ae||(Ae=tr(),Ae.c(),Ae.m(U,V)):Ae&&(Ae.d(1),Ae=null);const Se={};Le&128&&(Se.number=Math.abs(ge[7])),O.$set(Se),(!Te||Le&128&&x!==(x=ue(`flex items-center text-sm font-medium ${ge[7]!==0?ge[7]>=0?"text-[#00A878]":"text-red-500":""}`)+" svelte-1wybylb"))&&d(U,"class",x),(!Te||Le&4096)&&ee!==(ee=ge[12]("30D Trade Tokens")+"")&&ae(N,ee),(!Te||Le&64)&&ae(q,ge[6]),(!Te||Le&4096)&&I!==(I=ge[12]("Winrate")+"")&&ae(re,I);const Ne={};Le&32&&(Ne.number=ge[5]),z.$set(Ne),(!Te||Le&4096)&&Ce!==(Ce=ge[12]("Total fee paid")+"")&&ae(ce,Ce);const bt={};Le&16&&(bt.number=ge[4]),$e.$set(bt)},i(ge){Te||(b(c.$$.fragment,ge),b(B.$$.fragment,ge),b(O.$$.fragment,ge),b(z.$$.fragment,ge),b($e.$$.fragment,ge),Te=!0)},o(ge){g(c.$$.fragment,ge),g(B.$$.fragment,ge),g(O.$$.fragment,ge),g(z.$$.fragment,ge),g($e.$$.fragment,ge),Te=!1},d(ge){ge&&T(t),G(c),xe&&xe.d(),G(B),Ae&&Ae.d(),G(O),G(z),G($e),Ve=!1,Ee()}}}function fs(n){let t,e,l,r;const o=[ms,ds],i=[];function a(s,c){return 0}return e=a(),l=i[e]=o[e](n),{c(){t=p("div"),l.c(),d(t,"class","h-full flex items-center justify-center svelte-1wybylb")},m(s,c){A(s,t,c),i[e].m(t,null),r=!0},p:le,i(s){r||(b(l),r=!0)},o(s){g(l),r=!1},d(s){s&&T(t),i[e].d()}}}function er(n){let t;return{c(){t=Y("-")},m(e,l){A(e,t,l)},d(e){e&&T(t)}}}function tr(n){let t;return{c(){t=Y("-")},m(e,l){A(e,t,l)},d(e){e&&T(t)}}}function ds(n){let t,e;return t=new lt({}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function ms(n){let t,e;return t=new rt({}),{c(){K(t.$$.fragment)},m(l,r){W(t,l,r),e=!0},i(l){e||(b(t.$$.fragment,l),e=!0)},o(l){g(t.$$.fragment,l),e=!1},d(l){G(t,l)}}}function ps(n){let t,e,l,r;const o=[fs,us],i=[];function a(s,c){return s[1].isFetching&&s[0].isFetching?0:1}return e=a(n),l=i[e]=o[e](n),{c(){t=p("div"),l.c(),d(t,"class","col-span-4 border border_0000001a rounded-xl xl:p-6 p-3 overflow-hidden svelte-1wybylb")},m(s,c){A(s,t,c),i[e].m(t,null),r=!0},p(s,[c]){let u=e;e=a(s),e===u?i[e].p(s,c):(me(),g(i[u],1,1,()=>{i[u]=null}),pe(),l=i[e],l?l.p(s,c):(l=i[e]=o[e](s),l.c()),b(l,1),l.m(t,null))},i(s){r||(b(l),r=!0)},o(s){g(l),r=!1},d(s){s&&T(t),i[e].d()}}}function _s(n,t,e){let l,r,o,i,a,s,c,u=le,f=()=>(u(),u=De(o,N=>e(0,c=N)),o),_,y=le,h=()=>(y(),y=De(a,N=>e(1,_=N)),a),E,R=le,L=()=>(R(),R=De(s,N=>e(18,E=N)),s),v,B,J=le,H=()=>(J(),J=De(r,N=>e(20,B=N)),r),D,F;he(n,Tt,N=>e(19,v=N)),he(n,tt,N=>e(21,D=N)),he(n,Ke,N=>e(12,F=N)),n.$$.on_destroy.push(()=>u()),n.$$.on_destroy.push(()=>y()),n.$$.on_destroy.push(()=>R()),n.$$.on_destroy.push(()=>J());let{selectedAddress:w}=t,{isSync:P=!1}=t,{enabledFetchAllData:S=!1}=t,U=0,V=0,O=0,x=0,Q=0,se=0;const de=N=>{const k=N.map(q=>({...q,value:Number(q?.amount)*Number(q?.price?.price)})).sort((q,ne)=>q.value<ne.value?1:q.value>ne.value?-1:0);e(2,U=k.reduce((q,ne)=>q+ne.value,0));const $=k?.filter(q=>q?.profit?.realizedProfit)?.map(q=>({...q,realizedProfit:q?.profit?.realizedProfit,percentRealizedProfit:(q?.avgCost||0)===0?0:Number(q?.profit?.realizedProfit)/Number(Math.abs(q?.avgCost))*100}));e(5,x=$.filter(q=>q?.profit?.realizedProfit>0).length/$.length*100),e(6,Q=$.length)},ee=(N,k)=>{const q=k.metadata.map(I=>{const re=N.find(be=>be.contractAddress.toString().toLowerCase()===I.address.toString().toLowerCase());return re?{...I,holding:re}:I})?.filter(I=>I.holding)?.filter(I=>ve().subtract(30,"day").valueOf()<I.lastTrade*1e3).map(I=>({...I.holding,value:Number(I?.holding?.amount||0)*Number(I?.holding?.price?.price||I?.holding?.rate)})).sort((I,re)=>I.value<re.value?1:I.value>re.value?-1:0),ne=k?.metadata.filter(I=>ve().subtract(30,"day").valueOf()<I.lastTrade*1e3);e(3,V=ne?.reduce((I,re)=>I+Number(re.unrealizedProfit),0)),e(4,O=k.latestStats.fee),e(7,se=ne.reduce((I,re)=>I+Number(re.realizedProfit),0)),ne?.reduce((I,re)=>I+Number(re.cost),0);let ie=[],j=[];q?.filter(I=>I?.profit?.realizedProfit)?.map(I=>({...I,realizedProfit:I?.profit?.realizedProfit,percentRealizedProfit:(I?.avgCost||0)===0?0:Number(I?.profit?.realizedProfit)/Number(Math.abs(I?.avgCost))*100})).map(I=>{I.realizedProfit<0?j.push(I):ie.push(I)}),ie.sort((I,re)=>re.realizedProfit-I.realizedProfit)[0],j.sort((I,re)=>I.realizedProfit-re.realizedProfit)[0]};return n.$$set=N=>{"selectedAddress"in N&&e(13,w=N.selectedAddress),"isSync"in N&&e(14,P=N.isSync),"enabledFetchAllData"in N&&e(15,S=N.enabledFetchAllData)},n.$$.update=()=>{if(n.$$.dirty&49152&&e(16,l=P?S:!0),n.$$.dirty&8192&&H(e(11,r=Pe({queryKey:["validate",w],queryFn:()=>Ct(w),retry:!1,enabled:!!(w&&w?.length!==0)}))),n.$$.dirty&73728&&f(e(10,o=Pe({queryKey:["trading-stats",w],queryFn:()=>Ut(w),retry:!1,enabled:w?.length!==0&&l}))),n.$$.dirty&2097152&&e(17,i=D?.length!==0&&D==="EVM"?Rt.slice(1)?.map(N=>N.value):D?.length!==0&&D==="MOVE"?It.slice(1)?.map(N=>N.value):D?.length!==0&&D==="SOL"?ft.slice(1)?.map(N=>N.value):[ft[0]?.value]),n.$$.dirty&1646592&&h(e(9,a=Pe({queryKey:["token-holding-each-chain",w,v],queryFn:()=>dt(w,v,B.data),enabled:!!(w?.length!==0&&l&&!B.isFetching&&v.length!==0&&v!=="ALL")}))),n.$$.dirty&1777664&&L(e(8,s=Kt(i?.map(N=>({queryKey:["token-holding",w,v,N],queryFn:()=>dt(w,N,B.data),enabled:!!(w?.length!==0&&l&&!B.isFetching&&v.length!==0&&v==="ALL")}))))),n.$$.dirty&262144&&E.length!==0){const N=Qe.flatten(E?.filter(k=>Array.isArray(k.data))?.map(k=>k.data));N&&N.length!==0&&de(N)}n.$$.dirty&2&&!_.isError&&_.data&&_?.data!==void 0&&de(_.data),n.$$.dirty&3&&!c.isError&&c.data&&c?.data!==void 0&&!_.isError&&_.data&&_?.data!==void 0&&ee(_?.data,c.data)},[c,_,U,V,O,x,Q,se,s,a,o,r,F,w,P,S,l,i,E,v,B,D]}class Ss extends Ie{constructor(t){super(),Ue(this,t,_s,ps,Xe,{selectedAddress:13,isSync:14,enabledFetchAllData:15})}}const Ns="data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10%208.36365L6%204.00001L2%208.36365'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";export{Ts as C,As as I,Ss as P,Cs as T,Ns as U,yi as a,al as p};
