{"version":3,"file":"index-KAe7y0WA.js","sources":["../../node_modules/@wormhole-foundation/wormhole-connect/lib/index-KAe7y0WA.mjs"],"sourcesContent":["var h = Object.defineProperty;\nvar m = (i, e, t) => e in i ? h(i, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : i[e] = t;\nvar o = (i, e, t) => m(i, typeof e != \"symbol\" ? e + \"\" : e, t);\nimport { ah as w, bZ as g, cz as p, u, bH as l } from \"./index-DgePBEwv.mjs\";\nimport { A as f } from \"./aptos-Bbj6gw3L.mjs\";\nclass c {\n  constructor(e, t, r, s) {\n    o(this, \"network\");\n    o(this, \"chain\");\n    o(this, \"connection\");\n    o(this, \"contracts\");\n    o(this, \"chainId\");\n    o(this, \"coreBridge\");\n    this.network = e, this.chain = t, this.connection = r, this.contracts = s, this.chainId = w(t);\n    const n = s.coreBridge;\n    if (!n)\n      throw new Error(`CoreBridge contract Address for chain ${t} not found`);\n    this.coreBridge = n;\n  }\n  getGuardianSet(e) {\n    throw new Error(\"Method not implemented.\");\n  }\n  getGuardianSetIndex() {\n    throw new Error(\"Method not implemented.\");\n  }\n  getMessageFee() {\n    throw new Error(\"Method not implemented.\");\n  }\n  static async fromRpc(e, t) {\n    const [r, s] = await f.chainFromRpc(e), n = t[s];\n    if (n.network !== r)\n      throw new Error(`Network mismatch: ${n.network} !== ${r}`);\n    return new c(r, s, e, n.contracts);\n  }\n  async *publishMessage(e, t) {\n    throw new Error(\"Method not implemented.\");\n  }\n  async *verifyMessage(e, t) {\n    throw new Error(\"Not implemented.\");\n  }\n  async parseTransaction(e) {\n    return (await this.parseMessages(e)).map((r) => ({\n      chain: r.emitterChain,\n      emitter: r.emitterAddress,\n      sequence: r.sequence\n    }));\n  }\n  async parseMessages(e) {\n    const t = await this.connection.getTransactionByHash(e);\n    if (t.type !== \"user_transaction\")\n      throw new Error(`${e} is not a user_transaction`);\n    const s = t.events.filter((n) => n.type.endsWith(\"WormholeMessage\"));\n    if (!s || s.length === 0)\n      throw new Error(`WormholeMessage not found for ${e}`);\n    return s.map((n) => {\n      const a = n.data, d = new g(BigInt(a.sender).toString(16).padStart(64, \"0\"));\n      return p(\"Uint8Array\", {\n        guardianSet: 0,\n        // TODO: need to implement guardian set idx\n        emitterChain: this.chain,\n        emitterAddress: d,\n        sequence: BigInt(a.sequence),\n        timestamp: Number(a.timestamp),\n        consistencyLevel: a.consistency_level,\n        nonce: Number(a.nonce),\n        signatures: [],\n        payload: u.decode(a.payload)\n      });\n    });\n  }\n}\nl(\"Aptos\", \"WormholeCore\", c);\nexport {\n  c as AptosWormholeCore\n};\n"],"names":["h","m","i","o","c","r","s","w","n","f","a","d","g","p","u","l"],"mappings":"2HAAA,IAAIA,EAAI,OAAO,eACXC,EAAI,CAACC,EAAG,EAAG,IAAM,KAAKA,EAAIF,EAAEE,EAAG,EAAG,CAAE,WAAY,GAAI,aAAc,GAAI,SAAU,GAAI,MAAO,EAAG,EAAIA,EAAE,CAAC,EAAI,EACzGC,EAAI,CAACD,EAAG,EAAG,IAAMD,EAAEC,EAAG,OAAO,GAAK,SAAW,EAAI,GAAK,EAAG,CAAC,EAG9D,MAAME,CAAE,CACN,YAAY,EAAG,EAAGC,EAAGC,EAAG,CACtBH,EAAE,KAAM,SAAS,EACjBA,EAAE,KAAM,OAAO,EACfA,EAAE,KAAM,YAAY,EACpBA,EAAE,KAAM,WAAW,EACnBA,EAAE,KAAM,SAAS,EACjBA,EAAE,KAAM,YAAY,EACpB,KAAK,QAAU,EAAG,KAAK,MAAQ,EAAG,KAAK,WAAaE,EAAG,KAAK,UAAYC,EAAG,KAAK,QAAUC,EAAE,CAAC,EAC7F,MAAMC,EAAIF,EAAE,WACZ,GAAI,CAACE,EACH,MAAM,IAAI,MAAM,yCAAyC,CAAC,YAAY,EACxE,KAAK,WAAaA,CACtB,CACE,eAAe,EAAG,CAChB,MAAM,IAAI,MAAM,yBAAyB,CAC7C,CACE,qBAAsB,CACpB,MAAM,IAAI,MAAM,yBAAyB,CAC7C,CACE,eAAgB,CACd,MAAM,IAAI,MAAM,yBAAyB,CAC7C,CACE,aAAa,QAAQ,EAAG,EAAG,CACzB,KAAM,CAACH,EAAGC,CAAC,EAAI,MAAMG,EAAE,aAAa,CAAC,EAAGD,EAAI,EAAEF,CAAC,EAC/C,GAAIE,EAAE,UAAYH,EAChB,MAAM,IAAI,MAAM,qBAAqBG,EAAE,OAAO,QAAQH,CAAC,EAAE,EAC3D,OAAO,IAAID,EAAEC,EAAGC,EAAG,EAAGE,EAAE,SAAS,CACrC,CACE,MAAO,eAAe,EAAG,EAAG,CAC1B,MAAM,IAAI,MAAM,yBAAyB,CAC7C,CACE,MAAO,cAAc,EAAG,EAAG,CACzB,MAAM,IAAI,MAAM,kBAAkB,CACtC,CACE,MAAM,iBAAiB,EAAG,CACxB,OAAQ,MAAM,KAAK,cAAc,CAAC,GAAG,IAAKH,IAAO,CAC/C,MAAOA,EAAE,aACT,QAASA,EAAE,eACX,SAAUA,EAAE,QAClB,EAAM,CACN,CACE,MAAM,cAAc,EAAG,CACrB,MAAM,EAAI,MAAM,KAAK,WAAW,qBAAqB,CAAC,EACtD,GAAI,EAAE,OAAS,mBACb,MAAM,IAAI,MAAM,GAAG,CAAC,4BAA4B,EAClD,MAAMC,EAAI,EAAE,OAAO,OAAQE,GAAMA,EAAE,KAAK,SAAS,iBAAiB,CAAC,EACnE,GAAI,CAACF,GAAKA,EAAE,SAAW,EACrB,MAAM,IAAI,MAAM,iCAAiC,CAAC,EAAE,EACtD,OAAOA,EAAE,IAAKE,GAAM,CAClB,MAAME,EAAIF,EAAE,KAAMG,EAAI,IAAIC,EAAE,OAAOF,EAAE,MAAM,EAAE,SAAS,EAAE,EAAE,SAAS,GAAI,GAAG,CAAC,EAC3E,OAAOG,EAAE,aAAc,CACrB,YAAa,EAEb,aAAc,KAAK,MACnB,eAAgBF,EAChB,SAAU,OAAOD,EAAE,QAAQ,EAC3B,UAAW,OAAOA,EAAE,SAAS,EAC7B,iBAAkBA,EAAE,kBACpB,MAAO,OAAOA,EAAE,KAAK,EACrB,WAAY,CAAE,EACd,QAASI,EAAE,OAAOJ,EAAE,OAAO,CACnC,CAAO,CACP,CAAK,CACL,CACA,CACAK,EAAE,QAAS,eAAgBX,CAAC","x_google_ignoreList":[0]}