import{dI as I,dJ as w,dK as q,dL as z,dM as G,bV as K,dN as L,cG as k,dO as P,by as V,bz as W,bA as Z,cJ as S,c5 as x,bD as C,c7 as g,c8 as T,bF as D,c9 as y,bH as X,bI as M,bJ as $,bK as O,cK as E,cL as B,cM as A,bL as H,bN as ee,bT as te,c6 as N,cb as U,bZ as R,bE as se,bG as re,bM as ne,cH as ie}from"./index.js";import{b as oe}from"./Pagination.js";class le extends I{constructor(t,s){super(),this.client=t,this.queries=[],this.result=[],this.observers=[],this.observersMap={},s&&this.setQueries(s)}onSubscribe(){this.listeners.size===1&&this.observers.forEach(t=>{t.subscribe(s=>{this.onUpdate(t,s)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(t=>{t.destroy()})}setQueries(t,s){this.queries=t,w.batch(()=>{const e=this.observers,r=this.findMatchingObservers(this.queries);r.forEach(i=>i.observer.setOptions(i.defaultedQueryOptions,s));const o=r.map(i=>i.observer),u=Object.fromEntries(o.map(i=>[i.options.queryHash,i])),_=o.map(i=>i.getCurrentResult()),h=o.some((i,c)=>i!==e[c]);e.length===o.length&&!h||(this.observers=o,this.observersMap=u,this.result=_,this.hasListeners()&&(q(e,o).forEach(i=>{i.destroy()}),q(o,e).forEach(i=>{i.subscribe(c=>{this.onUpdate(i,c)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(t=>t.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(t){return this.findMatchingObservers(t).map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions))}findMatchingObservers(t){const s=this.observers,e=new Map(s.map(a=>[a.options.queryHash,a])),r=t.map(a=>this.client.defaultQueryOptions(a)),o=r.flatMap(a=>{const m=e.get(a.queryHash);return m!=null?[{defaultedQueryOptions:a,observer:m}]:[]}),u=new Set(o.map(a=>a.defaultedQueryOptions.queryHash)),_=r.filter(a=>!u.has(a.queryHash)),h=new Set(o.map(a=>a.observer)),i=s.filter(a=>!h.has(a)),c=a=>{const m=this.client.defaultQueryOptions(a),b=this.observersMap[m.queryHash];return b??new G(this.client,m)},f=_.map((a,m)=>{if(a.keepPreviousData){const b=i[m];if(b!==void 0)return{defaultedQueryOptions:a,observer:b}}return{defaultedQueryOptions:a,observer:c(a)}}),d=(a,m)=>r.indexOf(a.defaultedQueryOptions)-r.indexOf(m.defaultedQueryOptions);return o.concat(f).sort(d)}onUpdate(t,s){const e=this.observers.indexOf(t);e!==-1&&(this.result=z(this.result,e,s),this.notify())}notify(){w.batch(()=>{this.listeners.forEach(({listener:t})=>{t(this.result)})})}}function ye(n){const t=K();function s(u){return u.map(_=>{const h=t.defaultQueryOptions(_);return h._optimisticResults="optimistic",h})}const e=s(n);let r=new le(t,e);L(r).subscribe(u=>{r=u,r.setQueries(e,{listeners:!1})});const{subscribe:o}=L(r.getOptimisticResult(e),u=>r.subscribe(w.batchCalls(u)));return{subscribe:o}}var ue={exports:{}};(function(n,t){(function(s,e){n.exports=e()})(k,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var e=["th","st","nd","rd"],r=s%100;return"["+s+(e[(r-20)%10]||e[r]||e[0])+"]"}}})})(ue);var ae={exports:{}};(function(n,t){(function(s,e){n.exports=e(P)})(k,function(s){function e(u){return u&&typeof u=="object"&&"default"in u?u:{default:u}}var r=e(s),o={name:"vi",weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),weekStart:1,weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),ordinal:function(u){return u},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"}};return r.default.locale(o,null,!0),o})})(ae);const ce=n=>({}),j=n=>({}),fe=n=>({}),J=n=>({});function _e(n){let t,s;return{c(){t=x("div"),s=N(n[0]),g(t,"class","text_00000099 xl:text-base md:text-lg text-base font-medium svelte-1f9sqso")},m(e,r){D(e,t,r),y(t,s)},p(e,r){r&1&&U(s,e[0])},i:R,o:R,d(e){e&&H(t)}}}function he(n){let t,s;return t=new oe({props:{tooltipText:n[1],link:n[2],isBigIcon:!0,$$slots:{default:[be]},$$scope:{ctx:n}}}),{c(){se(t.$$.fragment)},m(e,r){re(t,e,r),s=!0},p(e,r){const o={};r&2&&(o.tooltipText=e[1]),r&4&&(o.link=e[2]),r&129&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){s||(O(t.$$.fragment,e),s=!0)},o(e){M(t.$$.fragment,e),s=!1},d(e){ne(t,e)}}}function be(n){let t,s;return{c(){t=x("div"),s=N(n[0]),g(t,"class","text_00000099 xl:text-base md:text-lg text-base font-medium svelte-1f9sqso")},m(e,r){D(e,t,r),y(t,s)},p(e,r){r&1&&U(s,e[0])},d(e){e&&H(t)}}}function de(n){let t,s,e,r,o,u,_,h,i,c;const f=[he,_e],d=[];function a(l,v){return l[3]?0:1}e=a(n),r=d[e]=f[e](n);const m=n[6].number,b=S(m,n,n[7],J),Y=n[6]["sub-number"],p=S(Y,n,n[7],j);return{c(){t=x("div"),s=x("div"),r.c(),o=C(),u=x("div"),b&&b.c(),_=C(),p&&p.c(),g(u,"class","xl:text-3xl text-2xl svelte-1f9sqso"),g(s,"class",h=T(`flex flex-col items-start justify-center gap-1 w-full h-full xl:py-4 py-3 ${n[4]?"px-3":"xl:px-6 px-3"}`)+" svelte-1f9sqso"),g(t,"class",i=T(`flex-1 rounded-[20px] border border_0000001a ${n[5]?"xl:bg-[#222222]":"bg-[#fff]"}`)+" svelte-1f9sqso")},m(l,v){D(l,t,v),y(t,s),d[e].m(s,null),y(s,o),y(s,u),b&&b.m(u,null),y(s,_),p&&p.m(s,null),c=!0},p(l,[v]){let Q=e;e=a(l),e===Q?d[e].p(l,v):(X(),M(d[Q],1,1,()=>{d[Q]=null}),$(),r=d[e],r?r.p(l,v):(r=d[e]=f[e](l),r.c()),O(r,1),r.m(s,o)),b&&b.p&&(!c||v&128)&&E(b,m,l,l[7],c?A(m,l[7],v,fe):B(l[7]),J),p&&p.p&&(!c||v&128)&&E(p,Y,l,l[7],c?A(Y,l[7],v,ce):B(l[7]),j),(!c||v&16&&h!==(h=T(`flex flex-col items-start justify-center gap-1 w-full h-full xl:py-4 py-3 ${l[4]?"px-3":"xl:px-6 px-3"}`)+" svelte-1f9sqso"))&&g(s,"class",h),(!c||v&32&&i!==(i=T(`flex-1 rounded-[20px] border border_0000001a ${l[5]?"xl:bg-[#222222]":"bg-[#fff]"}`)+" svelte-1f9sqso"))&&g(t,"class",i)},i(l){c||(O(r),O(b,l),O(p,l),c=!0)},o(l){M(r),M(b,l),M(p,l),c=!1},d(l){l&&H(t),d[e].d(),b&&b.d(l),p&&p.d(l)}}}function me(n,t,s){let e;ee(n,te,f=>s(5,e=f));let{$$slots:r={},$$scope:o}=t,{title:u}=t,{tooltipText:_=""}=t,{link:h=""}=t,{isTooltip:i=!1}=t,{isDetail:c=!0}=t;return n.$$set=f=>{"title"in f&&s(0,u=f.title),"tooltipText"in f&&s(1,_=f.tooltipText),"link"in f&&s(2,h=f.link),"isTooltip"in f&&s(3,i=f.isTooltip),"isDetail"in f&&s(4,c=f.isDetail),"$$scope"in f&&s(7,o=f.$$scope)},[u,_,h,i,c,e,r,o]}class Me extends V{constructor(t){super(),W(this,t,me,de,Z,{title:0,tooltipText:1,link:2,isTooltip:3,isDetail:4})}}var F={exports:{}};(function(n,t){(function(s,e){n.exports=e()})(k,function(){return function(s,e,r){e.prototype.isBetween=function(o,u,_,h){var i=r(o),c=r(u),f=(h=h||"()")[0]==="(",d=h[1]===")";return(f?this.isAfter(i,_):!this.isBefore(i,_))&&(d?this.isBefore(c,_):!this.isAfter(c,_))||(f?this.isBefore(i,_):!this.isAfter(i,_))&&(d?this.isAfter(c,_):!this.isBefore(c,_))}}})})(F);var pe=F.exports;const Oe=ie(pe);export{Me as O,ye as c,Oe as i};
