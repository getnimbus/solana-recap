import{a9 as h,aa as Hn,ab as cu,ag as ai,au as ma,ap as ha,L as fa,r as uu,at as ga,s as du,cX as lu,ar as ya,cY as Zo,cZ as ba,c_ as va,c$ as wa,d0 as ka,d1 as Sa,d2 as Pa,d3 as pu,d4 as mu,bS as hu,ax as fu,m as tt,ai as ii,d5 as gu}from"./Bridge.js";import{b as yu,l as bu,_ as vu,$ as wu,G as Nt,C as Xo,J as Vn,o as ku,i as ci,y as ui,A as Su,E as Pu,F as Au,I as Eu,K as Tu,L as xu,M as _u,V as di,Y as Mu,j as li,s as qn,t as Ot,r as Cu,a as pi,c as Ou,d as ju,e as Bu,k as Iu,f as Ru,g as Nu,h as Is,m as Du,v as Uu,x as jt,n as Hu,p as Vu,q as qu,u as Fu,w as $u,z as Wu,B as Ju,D as Gu,H as zu,N as Lu,O as Qu,P as Ku,Q as Zu,R as Xu,T as Yu,U as ed,W as td,X as rd,Z as nd,a0 as od,S as sd}from"./cosmwasm-DY1PMAJO.js";import{CosmwasmWormholeCore as ad}from"./index-1U60lnae.js";import{h as id,F as cd}from"./unsignedTransaction-CzttHBqx.js";import"./index.js";import"./pbkdf2-BTEK0Lcd.js";import"./keccak-OTA2ssQD.js";import"./index-Dtqiiobd.js";var ud=Object.defineProperty,dd=(e,t,r)=>t in e?ud(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vt=(e,t,r)=>dd(e,typeof t!="symbol"?t+"":t,r);function ld(e){return e.id!==void 0&&e.pending!==void 0&&e.data!==void 0}var mi={},Gr={},ee={},Fn={},pd=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.Decimal=void 0;const He=pd(Hn),Aa=100;class Q{static fromUserInput(t,r){Q.verifyFractionalDigits(r);const n=t.match(/[^0-9.]/);if(n)throw new Error(`Invalid character at position ${n.index+1}`);let o,s;if(t==="")o="0",s="";else if(t.search(/\./)===-1)o=t,s="";else{const c=t.split(".");switch(c.length){case 0:case 1:throw new Error("Fewer than two elements in split result. This must not happen here.");case 2:if(!c[1])throw new Error("Fractional part missing");o=c[0],s=c[1].replace(/0+$/,"");break;default:throw new Error("More than one separator found")}}if(s.length>r)throw new Error("Got more fractional digits than supported");const a=`${o}${s.padEnd(r,"0")}`;return new Q(a,r)}static fromAtomics(t,r){return Q.verifyFractionalDigits(r),new Q(t,r)}static zero(t){return Q.verifyFractionalDigits(t),new Q("0",t)}static one(t){return Q.verifyFractionalDigits(t),new Q("1"+"0".repeat(t),t)}static verifyFractionalDigits(t){if(!Number.isInteger(t))throw new Error("Fractional digits is not an integer");if(t<0)throw new Error("Fractional digits must not be negative");if(t>Aa)throw new Error(`Fractional digits must not exceed ${Aa}`)}static compare(t,r){if(t.fractionalDigits!==r.fractionalDigits)throw new Error("Fractional digits do not match");return t.data.atomics.cmp(new He.default(r.atomics))}get atomics(){return this.data.atomics.toString()}get fractionalDigits(){return this.data.fractionalDigits}constructor(t,r){if(!t.match(/^[0-9]+$/))throw new Error("Invalid string format. Only non-negative integers in decimal representation supported.");this.data={atomics:new He.default(t),fractionalDigits:r}}clone(){return new Q(this.atomics,this.fractionalDigits)}floor(){const t=new He.default(10).pow(new He.default(this.data.fractionalDigits)),r=this.data.atomics.div(t);return this.data.atomics.mod(t).isZero()?this.clone():Q.fromAtomics(r.mul(t).toString(),this.fractionalDigits)}ceil(){const t=new He.default(10).pow(new He.default(this.data.fractionalDigits)),r=this.data.atomics.div(t);return this.data.atomics.mod(t).isZero()?this.clone():Q.fromAtomics(r.addn(1).mul(t).toString(),this.fractionalDigits)}toString(){const t=new He.default(10).pow(new He.default(this.data.fractionalDigits)),r=this.data.atomics.div(t),n=this.data.atomics.mod(t);if(n.isZero())return r.toString();{const o=n.toString().padStart(this.data.fractionalDigits,"0").replace(/0+$/,"");return`${r.toString()}.${o}`}}toFloatApproximation(){const t=Number(this.toString());if(Number.isNaN(t))throw new Error("Conversion to number failed");return t}plus(t){if(this.fractionalDigits!==t.fractionalDigits)throw new Error("Fractional digits do not match");const r=this.data.atomics.add(new He.default(t.atomics));return new Q(r.toString(),this.fractionalDigits)}minus(t){if(this.fractionalDigits!==t.fractionalDigits)throw new Error("Fractional digits do not match");const r=this.data.atomics.sub(new He.default(t.atomics));if(r.ltn(0))throw new Error("Difference must not be negative");return new Q(r.toString(),this.fractionalDigits)}multiply(t){const r=this.data.atomics.mul(new He.default(t.toString()));return new Q(r.toString(),this.fractionalDigits)}equals(t){return Q.compare(this,t)===0}isLessThan(t){return Q.compare(this,t)<0}isLessThanOrEqual(t){return Q.compare(this,t)<=0}isGreaterThan(t){return Q.compare(this,t)>0}isGreaterThanOrEqual(t){return Q.compare(this,t)>=0}}Fn.Decimal=Q;var Je={},md=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Je,"__esModule",{value:!0});Je.Uint64=Je.Uint53=Je.Int53=Je.Uint32=void 0;const En=md(Hn),hd=new En.default("18446744073709551615",10,"be");class Dr{static fromBigEndianBytes(t){return Dr.fromBytes(t)}static fromBytes(t,r="be"){if(t.length!==4)throw new Error("Invalid input length. Expected 4 bytes.");for(let o=0;o<t.length;++o)if(!Number.isInteger(t[o])||t[o]>255||t[o]<0)throw new Error("Invalid value in byte. Found: "+t[o]);const n=r==="be"?t:Array.from(t).reverse();return new Dr(n[0]*2**24+n[1]*2**16+n[2]*2**8+n[3])}static fromString(t){if(!t.match(/^[0-9]+$/))throw new Error("Invalid string format");return new Dr(Number.parseInt(t,10))}constructor(t){if(Number.isNaN(t))throw new Error("Input is not a number");if(!Number.isInteger(t))throw new Error("Input is not an integer");if(t<0||t>4294967295)throw new Error("Input not in uint32 range: "+t.toString());this.data=t}toBytesBigEndian(){return new Uint8Array([Math.floor(this.data/2**24)&255,Math.floor(this.data/2**16)&255,Math.floor(this.data/2**8)&255,Math.floor(this.data/2**0)&255])}toBytesLittleEndian(){return new Uint8Array([Math.floor(this.data/2**0)&255,Math.floor(this.data/2**8)&255,Math.floor(this.data/2**16)&255,Math.floor(this.data/2**24)&255])}toNumber(){return this.data}toBigInt(){return BigInt(this.toNumber())}toString(){return this.data.toString()}}Je.Uint32=Dr;class Vr{static fromString(t){if(!t.match(/^-?[0-9]+$/))throw new Error("Invalid string format");return new Vr(Number.parseInt(t,10))}constructor(t){if(Number.isNaN(t))throw new Error("Input is not a number");if(!Number.isInteger(t))throw new Error("Input is not an integer");if(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER)throw new Error("Input not in int53 range: "+t.toString());this.data=t}toNumber(){return this.data}toBigInt(){return BigInt(this.toNumber())}toString(){return this.data.toString()}}Je.Int53=Vr;class Rs{static fromString(t){const r=Vr.fromString(t);return new Rs(r.toNumber())}constructor(t){const r=new Vr(t);if(r.toNumber()<0)throw new Error("Input is negative");this.data=r}toNumber(){return this.data.toNumber()}toBigInt(){return BigInt(this.toNumber())}toString(){return this.data.toString()}}Je.Uint53=Rs;class qt{static fromBytesBigEndian(t){return qt.fromBytes(t)}static fromBytes(t,r="be"){if(t.length!==8)throw new Error("Invalid input length. Expected 8 bytes.");for(let o=0;o<t.length;++o)if(!Number.isInteger(t[o])||t[o]>255||t[o]<0)throw new Error("Invalid value in byte. Found: "+t[o]);const n=r==="be"?Array.from(t):Array.from(t).reverse();return new qt(new En.default(n))}static fromString(t){if(!t.match(/^[0-9]+$/))throw new Error("Invalid string format");return new qt(new En.default(t,10,"be"))}static fromNumber(t){if(Number.isNaN(t))throw new Error("Input is not a number");if(!Number.isInteger(t))throw new Error("Input is not an integer");let r;try{r=new En.default(t)}catch{throw new Error("Input is not a safe integer")}return new qt(r)}constructor(t){if(t.isNeg())throw new Error("Input is negative");if(t.gt(hd))throw new Error("Input exceeds uint64 range");this.data=t}toBytesBigEndian(){return Uint8Array.from(this.data.toArray("be",8))}toBytesLittleEndian(){return Uint8Array.from(this.data.toArray("le",8))}toString(){return this.data.toString(10)}toBigInt(){return BigInt(this.toString())}toNumber(){return this.data.toNumber()}}Je.Uint64=qt;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Uint64=e.Uint53=e.Uint32=e.Int53=e.Decimal=void 0;var t=Fn;Object.defineProperty(e,"Decimal",{enumerable:!0,get:function(){return t.Decimal}});var r=Je;Object.defineProperty(e,"Int53",{enumerable:!0,get:function(){return r.Int53}}),Object.defineProperty(e,"Uint32",{enumerable:!0,get:function(){return r.Uint32}}),Object.defineProperty(e,"Uint53",{enumerable:!0,get:function(){return r.Uint53}}),Object.defineProperty(e,"Uint64",{enumerable:!0,get:function(){return r.Uint64}})})(ee);var bt={},$n={};Object.defineProperty($n,"__esModule",{value:!0});$n.decodeTxRaw=void 0;const Yo=Ot;function fd(e){const t=Yo.TxRaw.decode(e);return{authInfo:Yo.AuthInfo.decode(t.authInfoBytes),body:Yo.TxBody.decode(t.bodyBytes),signatures:t.signatures}}$n.decodeTxRaw=fd;var Jt={},st={},Ae={},ke={},Ge={},N={},Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.fromAscii=Gt.toAscii=void 0;function gd(e){const t=r=>r.split("").map(n=>{const o=n.charCodeAt(0);if(o<32||o>126)throw new Error("Cannot encode character that is out of printable ASCII range: "+o);return o});return Uint8Array.from(t(e))}Gt.toAscii=gd;function yd(e){return(t=>t.map(r=>{if(r<32||r>126)throw new Error("Cannot decode character that is out of printable ASCII range: "+r);return String.fromCharCode(r)}))(Array.from(e)).join("")}Gt.fromAscii=yd;var zt={},bd=h&&h.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vd=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wd=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&bd(t,e,r);return vd(t,e),t};Object.defineProperty(zt,"__esModule",{value:!0});zt.fromBase64=zt.toBase64=void 0;const hi=wd(cu);function kd(e){return hi.fromByteArray(e)}zt.toBase64=kd;function Sd(e){if(!e.match(/^[a-zA-Z0-9+/]*={0,2}$/))throw new Error("Invalid base64 string format");return hi.toByteArray(e)}zt.fromBase64=Sd;var ut={},Pd=h&&h.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ad=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ed=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Pd(t,e,r);return Ad(t,e),t};Object.defineProperty(ut,"__esModule",{value:!0});ut.normalizeBech32=ut.fromBech32=ut.toBech32=void 0;const _n=Ed(yu);function fi(e,t,r){return _n.encode(e,_n.toWords(t),r)}ut.toBech32=fi;function gi(e,t=1/0){const r=_n.decode(e,t);return{prefix:r.prefix,data:new Uint8Array(_n.fromWords(r.words))}}ut.fromBech32=gi;function Td(e){const{prefix:t,data:r}=gi(e);return fi(t,r)}ut.normalizeBech32=Td;var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.fromHex=Lt.toHex=void 0;function xd(e){let t="";for(const r of e)t+=("0"+r.toString(16)).slice(-2);return t}Lt.toHex=xd;function _d(e){if(e.length%2!==0)throw new Error("hex string length must be a multiple of 2");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,o=e.slice(n,n+2);if(!o.match(/[0-9a-f]{2}/i))throw new Error("hex string contains invalid characters");t[r]=parseInt(o,16)}return t}Lt.fromHex=_d;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.toRfc3339=Qt.fromRfc3339=void 0;const Md=/^(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(\.\d{1,9})?((?:[+-]\d{2}:\d{2})|Z)$/;function Dt(e,t=2){return e.toString().padStart(t,"0")}function Cd(e){const t=Md.exec(e);if(!t)throw new Error("Date string is not in RFC3339 format");const r=+t[1],n=+t[2],o=+t[3],s=+t[4],a=+t[5],c=+t[6],i=t[7]?Math.floor(+t[7]*1e3):0;let u,d,g;t[8]==="Z"?(u=1,d=0,g=0):(u=t[8].substring(0,1)==="-"?-1:1,d=+t[8].substring(1,3),g=+t[8].substring(4,6));const T=u*(d*60+g)*60,M=new Date;return M.setUTCFullYear(r,n-1,o),M.setUTCHours(s,a,c,i),new Date(M.getTime()-T*1e3)}Qt.fromRfc3339=Cd;function Od(e){const t=e.getUTCFullYear(),r=Dt(e.getUTCMonth()+1),n=Dt(e.getUTCDate()),o=Dt(e.getUTCHours()),s=Dt(e.getUTCMinutes()),a=Dt(e.getUTCSeconds()),c=Dt(e.getUTCMilliseconds(),3);return`${t}-${r}-${n}T${o}:${s}:${a}.${c}Z`}Qt.toRfc3339=Od;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.fromUtf8=Kt.toUtf8=void 0;function jd(e){return new TextEncoder().encode(e)}Kt.toUtf8=jd;function Bd(e,t=!1){const r=!t;return new TextDecoder("utf-8",{fatal:r}).decode(e)}Kt.fromUtf8=Bd;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toUtf8=e.fromUtf8=e.toRfc3339=e.fromRfc3339=e.toHex=e.fromHex=e.toBech32=e.normalizeBech32=e.fromBech32=e.toBase64=e.fromBase64=e.toAscii=e.fromAscii=void 0;var t=Gt;Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return t.fromAscii}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return t.toAscii}});var r=zt;Object.defineProperty(e,"fromBase64",{enumerable:!0,get:function(){return r.fromBase64}}),Object.defineProperty(e,"toBase64",{enumerable:!0,get:function(){return r.toBase64}});var n=ut;Object.defineProperty(e,"fromBech32",{enumerable:!0,get:function(){return n.fromBech32}}),Object.defineProperty(e,"normalizeBech32",{enumerable:!0,get:function(){return n.normalizeBech32}}),Object.defineProperty(e,"toBech32",{enumerable:!0,get:function(){return n.toBech32}});var o=Lt;Object.defineProperty(e,"fromHex",{enumerable:!0,get:function(){return o.fromHex}}),Object.defineProperty(e,"toHex",{enumerable:!0,get:function(){return o.toHex}});var s=Qt;Object.defineProperty(e,"fromRfc3339",{enumerable:!0,get:function(){return s.fromRfc3339}}),Object.defineProperty(e,"toRfc3339",{enumerable:!0,get:function(){return s.toRfc3339}});var a=Kt;Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return a.fromUtf8}}),Object.defineProperty(e,"toUtf8",{enumerable:!0,get:function(){return a.toUtf8}})})(N);var he={},Z={},Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.arrayContentStartsWith=Zt.arrayContentEquals=void 0;function Id(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}Zt.arrayContentEquals=Id;function Rd(e,t){if(e.length<t.length)return!1;for(let r=0;r<t.length;++r)if(e[r]!==t[r])return!1;return!0}Zt.arrayContentStartsWith=Rd;var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.assertDefinedAndNotNull=dt.assertDefined=dt.assert=void 0;function Nd(e,t){if(!e)throw new Error(t||"condition is not truthy")}dt.assert=Nd;function Dd(e,t){if(e===void 0)throw new Error(t??"value is undefined")}dt.assertDefined=Dd;function Ud(e,t){if(e==null)throw new Error(t??"value is undefined or null")}dt.assertDefinedAndNotNull=Ud;var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.sleep=void 0;async function Hd(e){return new Promise(t=>setTimeout(t,e))}Wn.sleep=Hd;var lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.isDefined=lt.isUint8Array=lt.isNonNullObject=void 0;function yi(e){return typeof e=="object"&&e!==null}lt.isNonNullObject=yi;function Vd(e){return!(!yi(e)||Object.prototype.toString.call(e)!=="[object Uint8Array]"||typeof tt.Buffer<"u"&&typeof tt.Buffer.isBuffer<"u"&&tt.Buffer.isBuffer(e))}lt.isUint8Array=Vd;function qd(e){return e!==void 0}lt.isDefined=qd;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isUint8Array=e.isNonNullObject=e.isDefined=e.sleep=e.assertDefinedAndNotNull=e.assertDefined=e.assert=e.arrayContentStartsWith=e.arrayContentEquals=void 0;var t=Zt;Object.defineProperty(e,"arrayContentEquals",{enumerable:!0,get:function(){return t.arrayContentEquals}}),Object.defineProperty(e,"arrayContentStartsWith",{enumerable:!0,get:function(){return t.arrayContentStartsWith}});var r=dt;Object.defineProperty(e,"assert",{enumerable:!0,get:function(){return r.assert}}),Object.defineProperty(e,"assertDefined",{enumerable:!0,get:function(){return r.assertDefined}}),Object.defineProperty(e,"assertDefinedAndNotNull",{enumerable:!0,get:function(){return r.assertDefinedAndNotNull}});var n=Wn;Object.defineProperty(e,"sleep",{enumerable:!0,get:function(){return n.sleep}});var o=lt;Object.defineProperty(e,"isDefined",{enumerable:!0,get:function(){return o.isDefined}}),Object.defineProperty(e,"isNonNullObject",{enumerable:!0,get:function(){return o.isNonNullObject}}),Object.defineProperty(e,"isUint8Array",{enumerable:!0,get:function(){return o.isUint8Array}})})(Z);var Fd=h&&h.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$d=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Wd=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Fd(t,e,r);return $d(t,e),t};Object.defineProperty(he,"__esModule",{value:!0});he.pbkdf2Sha512=he.pbkdf2Sha512Noble=he.pbkdf2Sha512NodeCrypto=he.pbkdf2Sha512Subtle=he.getSubtle=he.getNodeCrypto=void 0;const xt=Z,Jd=Cu,Gd=pi;async function bi(){try{const e=await Promise.resolve().then(()=>Wd(ii()));return typeof e=="object"&&Object.keys(e).length<=1?void 0:e}catch{return}}he.getNodeCrypto=bi;async function vi(){var e,t,r;let n=(e=globalThis?.crypto)==null?void 0:e.subtle;return n||(n=(r=(t=globalThis?.crypto)==null?void 0:t.webcrypto)==null?void 0:r.subtle),n}he.getSubtle=vi;async function wi(e,t,r,n,o){return(0,xt.assert)(e,"Argument subtle is falsy"),(0,xt.assert)(typeof e=="object","Argument subtle is not of type object"),(0,xt.assert)(typeof e.importKey=="function","subtle.importKey is not a function"),(0,xt.assert)(typeof e.deriveBits=="function","subtle.deriveBits is not a function"),e.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(s=>e.deriveBits({name:"PBKDF2",salt:r,iterations:n,hash:{name:"SHA-512"}},s,o*8).then(a=>new Uint8Array(a)))}he.pbkdf2Sha512Subtle=wi;async function ki(e,t,r,n,o){return(0,xt.assert)(e,"Argument nodeCrypto is falsy"),(0,xt.assert)(typeof e=="object","Argument nodeCrypto is not of type object"),(0,xt.assert)(typeof e.pbkdf2=="function","nodeCrypto.pbkdf2 is not a function"),new Promise((s,a)=>{e.pbkdf2(t,r,n,o,"sha512",(c,i)=>{c?a(c):s(Uint8Array.from(i))})})}he.pbkdf2Sha512NodeCrypto=ki;async function Si(e,t,r,n){return(0,Jd.pbkdf2Async)(Gd.sha512,e,t,{c:r,dkLen:n})}he.pbkdf2Sha512Noble=Si;async function zd(e,t,r,n){const o=await vi();if(o)return wi(o,e,t,r,n);{const s=await bi();return s?ki(s,e,t,r,n):Si(e,t,r,n)}}he.pbkdf2Sha512=zd;var De={},wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.toRealUint8Array=void 0;function Ld(e){return e instanceof Uint8Array?e:Uint8Array.from(e)}wr.toRealUint8Array=Ld;Object.defineProperty(De,"__esModule",{value:!0});De.sha512=De.Sha512=De.sha256=De.Sha256=void 0;const Qd=Ou,Kd=pi,Pi=wr;class Ai{constructor(t){this.blockSize=512/8,this.impl=Qd.sha256.create(),t&&this.update(t)}update(t){return this.impl.update((0,Pi.toRealUint8Array)(t)),this}digest(){return this.impl.digest()}}De.Sha256=Ai;function Zd(e){return new Ai(e).digest()}De.sha256=Zd;class Ei{constructor(t){this.blockSize=1024/8,this.impl=Kd.sha512.create(),t&&this.update(t)}update(t){return this.impl.update((0,Pi.toRealUint8Array)(t)),this}digest(){return this.impl.digest()}}De.Sha512=Ei;function Xd(e){return new Ei(e).digest()}De.sha512=Xd;Object.defineProperty(Ge,"__esModule",{value:!0});Ge.Bip39=Ge.EnglishMnemonic=Ge.mnemonicToEntropy=Ge.entropyToMnemonic=void 0;const Ea=N,Yd=he,el=De,Ns=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];function Ti(e){return Array.from(e).map(t=>t.toString(2).padStart(8,"0")).join("")}function xi(e){const t=e.length*8/32,r=(0,el.sha256)(e);return Ti(r).slice(0,t)}function _i(e){return parseInt(e,2)}const tl=[16,20,24,28,32],rl=[12,15,18,21,24];function Mi(e){if(tl.indexOf(e.length)===-1)throw new Error("invalid input length");const t=Ti(e),r=xi(e);return(t+r).match(/(.{11})/g).map(n=>{const o=_i(n);return Ns[o]}).join(" ")}Ge.entropyToMnemonic=Mi;const nl="Invalid number of words",ol="Found word that is not in the wordlist",sl="Invalid entropy",al="Invalid mnemonic checksum";function ms(e){return e.normalize("NFKD")}function Ds(e){const t=ms(e).split(" ");if(!rl.includes(t.length))throw new Error(nl);const r=t.map(i=>{const u=Ns.indexOf(i);if(u===-1)throw new Error(ol);return u.toString(2).padStart(11,"0")}).join(""),n=Math.floor(r.length/33)*32,o=r.slice(0,n),s=r.slice(n),a=o.match(/(.{1,8})/g).map(_i);if(a.length<16||a.length>32||a.length%4!==0)throw new Error(sl);const c=Uint8Array.from(a);if(xi(c)!==s)throw new Error(al);return c}Ge.mnemonicToEntropy=Ds;class _t{constructor(t){if(!_t.mnemonicMatcher.test(t))throw new Error("Invalid mnemonic format");const r=t.split(" "),n=[12,15,18,21,24];if(n.indexOf(r.length)===-1)throw new Error(`Invalid word count in mnemonic (allowed: ${n} got: ${r.length})`);for(const o of r)if(_t.wordlist.indexOf(o)===-1)throw new Error("Mnemonic contains invalid word");Ds(t),this.data=t}toString(){return this.data}}Ge.EnglishMnemonic=_t;_t.wordlist=Ns;_t.mnemonicMatcher=/^[a-z]+( [a-z]+)*$/;class il{static encode(t){return new _t(Mi(t))}static decode(t){return Ds(t.toString())}static async mnemonicToSeed(t,r){const n=(0,Ea.toUtf8)(ms(t.toString())),o="mnemonic"+(r?ms(r):""),s=(0,Ea.toUtf8)(o);return(0,Yd.pbkdf2Sha512)(n,s,2048,64)}}Ge.Bip39=il;var zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.Hmac=void 0;class cl{constructor(t,r){const n=new t().blockSize;this.hash=s=>new t().update(s).digest();let o=r;if(o.length>n&&(o=this.hash(o)),o.length<n){const s=new Uint8Array(n-o.length);o=new Uint8Array([...o,...s])}this.oKeyPad=o.map(s=>s^92),this.iKeyPad=o.map(s=>s^54),this.messageHasher=new t,this.blockSize=n,this.update(this.iKeyPad)}update(t){return this.messageHasher.update(t),this}digest(){const t=this.messageHasher.digest();return this.hash(new Uint8Array([...this.oKeyPad,...t]))}}zr.Hmac=cl;var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.keccak256=Xt.Keccak256=void 0;const ul=ju,dl=wr;class Ci{constructor(t){this.blockSize=512/8,this.impl=ul.keccak_256.create(),t&&this.update(t)}update(t){return this.impl.update((0,dl.toRealUint8Array)(t)),this}digest(){return this.impl.digest()}}Xt.Keccak256=Ci;function ll(e){return new Ci(e).digest()}Xt.keccak256=ll;var fe={},pl=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fe,"__esModule",{value:!0});fe.Xchacha20poly1305Ietf=fe.xchacha20NonceLength=fe.Ed25519=fe.Ed25519Keypair=fe.Argon2id=fe.isArgon2idOptions=void 0;const ml=Z,Pe=pl(bu);function hl(e){return!(!(0,ml.isNonNullObject)(e)||typeof e.outputLength!="number"||typeof e.opsLimit!="number"||typeof e.memLimitKib!="number")}fe.isArgon2idOptions=hl;class fl{static async execute(t,r,n){return await Pe.default.ready,Pe.default.crypto_pwhash(n.outputLength,t,r,n.opsLimit,n.memLimitKib*1024,Pe.default.crypto_pwhash_ALG_ARGON2ID13)}}fe.Argon2id=fl;class Jn{static fromLibsodiumPrivkey(t){if(t.length!==64)throw new Error(`Unexpected key length ${t.length}. Must be 64.`);return new Jn(t.slice(0,32),t.slice(32,64))}constructor(t,r){this.privkey=t,this.pubkey=r}toLibsodiumPrivkey(){return new Uint8Array([...this.privkey,...this.pubkey])}}fe.Ed25519Keypair=Jn;class gl{static async makeKeypair(t){await Pe.default.ready;const r=Pe.default.crypto_sign_seed_keypair(t);return Jn.fromLibsodiumPrivkey(r.privateKey)}static async createSignature(t,r){return await Pe.default.ready,Pe.default.crypto_sign_detached(t,r.toLibsodiumPrivkey())}static async verifySignature(t,r,n){return await Pe.default.ready,Pe.default.crypto_sign_verify_detached(t,r,n)}}fe.Ed25519=gl;fe.xchacha20NonceLength=24;class yl{static async encrypt(t,r,n){return await Pe.default.ready,Pe.default.crypto_aead_xchacha20poly1305_ietf_encrypt(t,null,null,n,r)}static async decrypt(t,r,n){return await Pe.default.ready,Pe.default.crypto_aead_xchacha20poly1305_ietf_decrypt(null,t,null,n,r)}}fe.Xchacha20poly1305Ietf=yl;var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.Random=void 0;class bl{static getBytes(t){try{const r=typeof window=="object"?window:self,n=typeof r.crypto<"u"?r.crypto:r.msCrypto,o=new Uint8Array(t);return n.getRandomValues(o),o}catch{try{const r=ii();return new Uint8Array([...r.randomBytes(t)])}catch{throw new Error("No secure random number generator found")}}}}Gn.Random=bl;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.ripemd160=Yt.Ripemd160=void 0;const vl=Bu,wl=wr;class Oi{constructor(t){this.blockSize=512/8,this.impl=vl.ripemd160.create(),t&&this.update(t)}update(t){return this.impl.update((0,wl.toRealUint8Array)(t)),this}digest(){return this.impl.digest()}}Yt.Ripemd160=Oi;function kl(e){return new Oi(e).digest()}Yt.ripemd160=kl;var zn={},Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.ExtendedSecp256k1Signature=Mt.Secp256k1Signature=void 0;function Ft(e){let t=0;for(const r of e)if(r===0)t++;else break;return e.slice(t)}const an=2;class qr{static fromFixedLength(t){if(t.length!==64)throw new Error(`Got invalid data length: ${t.length}. Expected 2x 32 bytes for the pair (r, s)`);return new qr(Ft(t.slice(0,32)),Ft(t.slice(32,64)))}static fromDer(t){let r=0;if(t[r++]!==48)throw new Error("Prefix 0x30 expected");const n=t[r++];if(t.length-r!==n)throw new Error("Data length mismatch detected");if(t[r++]!==an)throw new Error("INTEGER tag expected");const o=t[r++];if(o>=128)throw new Error("Decoding length values above 127 not supported");const s=t.slice(r,r+o);if(r+=o,t[r++]!==an)throw new Error("INTEGER tag expected");const a=t[r++];if(a>=128)throw new Error("Decoding length values above 127 not supported");const c=t.slice(r,r+a);return r+=a,new qr(Ft(s),Ft(c))}constructor(t,r){if(t.length>32||t.length===0||t[0]===0)throw new Error("Unsigned integer r must be encoded as unpadded big endian.");if(r.length>32||r.length===0||r[0]===0)throw new Error("Unsigned integer s must be encoded as unpadded big endian.");this.data={r:t,s:r}}r(t){if(t===void 0)return this.data.r;{const r=t-this.data.r.length;if(r<0)throw new Error("Length too small to hold parameter r");const n=new Uint8Array(r);return new Uint8Array([...n,...this.data.r])}}s(t){if(t===void 0)return this.data.s;{const r=t-this.data.s.length;if(r<0)throw new Error("Length too small to hold parameter s");const n=new Uint8Array(r);return new Uint8Array([...n,...this.data.s])}}toFixedLength(){return new Uint8Array([...this.r(32),...this.s(32)])}toDer(){const t=this.data.r[0]>=128?new Uint8Array([0,...this.data.r]):this.data.r,r=this.data.s[0]>=128?new Uint8Array([0,...this.data.s]):this.data.s,n=t.length,o=r.length,s=new Uint8Array([an,n,...t,an,o,...r]);return new Uint8Array([48,s.length,...s])}}Mt.Secp256k1Signature=qr;class Us extends qr{static fromFixedLength(t){if(t.length!==65)throw new Error(`Got invalid data length ${t.length}. Expected 32 + 32 + 1`);return new Us(Ft(t.slice(0,32)),Ft(t.slice(32,64)),t[64])}constructor(t,r,n){if(super(t,r),!Number.isInteger(n))throw new Error("The recovery parameter must be an integer.");if(n<0||n>4)throw new Error("The recovery parameter must be one of 0, 1, 2, 3.");this.recovery=n}toFixedLength(){return new Uint8Array([...this.r(32),...this.s(32),this.recovery])}}Mt.ExtendedSecp256k1Signature=Us;var ji=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zn,"__esModule",{value:!0});zn.Secp256k1=void 0;const cn=N,Bi=ji(Hn),Sl=ji(ai()),Pl=Mt,wt=new Sl.default.ec("secp256k1"),Al=new Bi.default("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","hex");class El{static async makeKeypair(t){if(t.length!==32)throw new Error("input data is not a valid secp256k1 private key");const r=wt.keyFromPrivate(t);if(r.validate().result!==!0)throw new Error("input data is not a valid secp256k1 private key");if(new Bi.default(t).gte(Al))throw new Error("input data is not a valid secp256k1 private key");return{privkey:(0,cn.fromHex)(r.getPrivate("hex")),pubkey:Uint8Array.from(r.getPublic("array"))}}static async createSignature(t,r){if(t.length===0)throw new Error("Message hash must not be empty");if(t.length>32)throw new Error("Message hash length must not exceed 32 bytes");const n=wt.keyFromPrivate(r),{r:o,s,recoveryParam:a}=n.sign(t,{canonical:!0});if(typeof a!="number")throw new Error("Recovery param missing");return new Pl.ExtendedSecp256k1Signature(Uint8Array.from(o.toArray()),Uint8Array.from(s.toArray()),a)}static async verifySignature(t,r,n){if(r.length===0)throw new Error("Message hash must not be empty");if(r.length>32)throw new Error("Message hash length must not exceed 32 bytes");const o=wt.keyFromPublic(n);try{return o.verify(r,t.toDer())}catch{return!1}}static recoverPubkey(t,r){const n={r:(0,cn.toHex)(t.r()),s:(0,cn.toHex)(t.s())},o=wt.recoverPubKey(r,n,t.recovery),s=wt.keyFromPublic(o);return(0,cn.fromHex)(s.getPublic(!1,"hex"))}static compressPubkey(t){switch(t.length){case 33:return t;case 65:return Uint8Array.from(wt.keyFromPublic(t).getPublic(!0,"array"));default:throw new Error("Invalid pubkey length")}}static uncompressPubkey(t){switch(t.length){case 33:return Uint8Array.from(wt.keyFromPublic(t).getPublic(!1,"array"));case 65:return t;default:throw new Error("Invalid pubkey length")}}static trimRecoveryByte(t){switch(t.length){case 64:return t;case 65:return t.slice(0,64);default:throw new Error("Invalid signature length")}}}zn.Secp256k1=El;var Ii={};(function(e){var t=h&&h.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.stringToPath=e.pathToString=e.Slip10=e.Slip10RawIndex=e.slip10CurveFromString=e.Slip10Curve=void 0;const r=N,n=ee,o=t(Hn),s=t(ai()),a=zr,c=De;var i;(function(y){y.Secp256k1="Bitcoin seed",y.Ed25519="ed25519 seed"})(i=e.Slip10Curve||(e.Slip10Curve={}));function u(y){switch(y){case i.Ed25519:return i.Ed25519;case i.Secp256k1:return i.Secp256k1;default:throw new Error(`Unknown curve string: '${y}'`)}}e.slip10CurveFromString=u;class d extends n.Uint32{static hardened(f){return new d(f+2**31)}static normal(f){return new d(f)}isHardened(){return this.data>=2**31}}e.Slip10RawIndex=d;const g=new s.default.ec("secp256k1");class T{static derivePath(f,v,H){let D=this.master(f,v);for(const ce of H)D=this.child(f,D.privkey,D.chainCode,ce);return D}static master(f,v){const H=new a.Hmac(c.Sha512,(0,r.toAscii)(f)).update(v).digest(),D=H.slice(0,32),ce=H.slice(32,64);return f!==i.Ed25519&&(this.isZero(D)||this.isGteN(f,D))?this.master(f,H):{chainCode:ce,privkey:D}}static child(f,v,H,D){let ce;if(D.isHardened()){const b=new Uint8Array([0,...v,...D.toBytesBigEndian()]);ce=new a.Hmac(c.Sha512,H).update(b).digest()}else{if(f===i.Ed25519)throw new Error("Normal keys are not allowed with ed25519");{const b=new Uint8Array([...T.serializedPoint(f,new o.default(v)),...D.toBytesBigEndian()]);ce=new a.Hmac(c.Sha512,H).update(b).digest()}}return this.childImpl(f,v,H,D,ce)}static serializedPoint(f,v){switch(f){case i.Secp256k1:return(0,r.fromHex)(g.g.mul(v).encodeCompressed("hex"));default:throw new Error("curve not supported")}}static childImpl(f,v,H,D,ce){const b=ce.slice(0,32),k=ce.slice(32,64),w=k;if(f===i.Ed25519)return{chainCode:w,privkey:b};const U=this.n(f),V=new o.default(b).add(new o.default(v)).mod(U),q=Uint8Array.from(V.toArray("be",32));if(this.isGteN(f,b)||this.isZero(q)){const $=new a.Hmac(c.Sha512,H).update(new Uint8Array([1,...k,...D.toBytesBigEndian()])).digest();return this.childImpl(f,v,H,D,$)}return{chainCode:w,privkey:q}}static isZero(f){return f.every(v=>v===0)}static isGteN(f,v){return new o.default(v).gte(this.n(f))}static n(f){switch(f){case i.Secp256k1:return new o.default("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141",16);default:throw new Error("curve not supported")}}}e.Slip10=T;function M(y){return y.reduce((f,v)=>{const H=v.isHardened()?`${v.toNumber()-2147483648}'`:v.toString();return f+"/"+H},"m")}e.pathToString=M;function F(y){if(!y.startsWith("m"))throw new Error("Path string must start with 'm'");let f=y.slice(1);const v=new Array;for(;f;){const H=f.match(/^\/([0-9]+)('?)/);if(!H)throw new Error("Syntax error while reading path component");const[D,ce,b]=H,k=n.Uint53.fromString(ce).toNumber();if(k>=2**31)throw new Error("Component value too high. Must not exceed 2**31-1.");b?v.push(d.hardened(k)):v.push(d.normal(k)),f=f.slice(D.length)}return v}e.stringToPath=F})(Ii);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.stringToPath=e.Slip10RawIndex=e.slip10CurveFromString=e.Slip10Curve=e.Slip10=e.pathToString=e.sha512=e.Sha512=e.sha256=e.Sha256=e.Secp256k1Signature=e.ExtendedSecp256k1Signature=e.Secp256k1=e.ripemd160=e.Ripemd160=e.Random=e.Xchacha20poly1305Ietf=e.xchacha20NonceLength=e.isArgon2idOptions=e.Ed25519Keypair=e.Ed25519=e.Argon2id=e.keccak256=e.Keccak256=e.Hmac=e.EnglishMnemonic=e.Bip39=void 0;var t=Ge;Object.defineProperty(e,"Bip39",{enumerable:!0,get:function(){return t.Bip39}}),Object.defineProperty(e,"EnglishMnemonic",{enumerable:!0,get:function(){return t.EnglishMnemonic}});var r=zr;Object.defineProperty(e,"Hmac",{enumerable:!0,get:function(){return r.Hmac}});var n=Xt;Object.defineProperty(e,"Keccak256",{enumerable:!0,get:function(){return n.Keccak256}}),Object.defineProperty(e,"keccak256",{enumerable:!0,get:function(){return n.keccak256}});var o=fe;Object.defineProperty(e,"Argon2id",{enumerable:!0,get:function(){return o.Argon2id}}),Object.defineProperty(e,"Ed25519",{enumerable:!0,get:function(){return o.Ed25519}}),Object.defineProperty(e,"Ed25519Keypair",{enumerable:!0,get:function(){return o.Ed25519Keypair}}),Object.defineProperty(e,"isArgon2idOptions",{enumerable:!0,get:function(){return o.isArgon2idOptions}}),Object.defineProperty(e,"xchacha20NonceLength",{enumerable:!0,get:function(){return o.xchacha20NonceLength}}),Object.defineProperty(e,"Xchacha20poly1305Ietf",{enumerable:!0,get:function(){return o.Xchacha20poly1305Ietf}});var s=Gn;Object.defineProperty(e,"Random",{enumerable:!0,get:function(){return s.Random}});var a=Yt;Object.defineProperty(e,"Ripemd160",{enumerable:!0,get:function(){return a.Ripemd160}}),Object.defineProperty(e,"ripemd160",{enumerable:!0,get:function(){return a.ripemd160}});var c=zn;Object.defineProperty(e,"Secp256k1",{enumerable:!0,get:function(){return c.Secp256k1}});var i=Mt;Object.defineProperty(e,"ExtendedSecp256k1Signature",{enumerable:!0,get:function(){return i.ExtendedSecp256k1Signature}}),Object.defineProperty(e,"Secp256k1Signature",{enumerable:!0,get:function(){return i.Secp256k1Signature}});var u=De;Object.defineProperty(e,"Sha256",{enumerable:!0,get:function(){return u.Sha256}}),Object.defineProperty(e,"sha256",{enumerable:!0,get:function(){return u.sha256}}),Object.defineProperty(e,"Sha512",{enumerable:!0,get:function(){return u.Sha512}}),Object.defineProperty(e,"sha512",{enumerable:!0,get:function(){return u.sha512}});var d=Ii;Object.defineProperty(e,"pathToString",{enumerable:!0,get:function(){return d.pathToString}}),Object.defineProperty(e,"Slip10",{enumerable:!0,get:function(){return d.Slip10}}),Object.defineProperty(e,"Slip10Curve",{enumerable:!0,get:function(){return d.Slip10Curve}}),Object.defineProperty(e,"slip10CurveFromString",{enumerable:!0,get:function(){return d.slip10CurveFromString}}),Object.defineProperty(e,"Slip10RawIndex",{enumerable:!0,get:function(){return d.Slip10RawIndex}}),Object.defineProperty(e,"stringToPath",{enumerable:!0,get:function(){return d.stringToPath}})})(ke);var se={},Lr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isMultisigThresholdPubkey=e.isSinglePubkey=e.pubkeyType=e.isSecp256k1Pubkey=e.isEd25519Pubkey=void 0;function t(s){return s.type==="tendermint/PubKeyEd25519"}e.isEd25519Pubkey=t;function r(s){return s.type==="tendermint/PubKeySecp256k1"}e.isSecp256k1Pubkey=r,e.pubkeyType={secp256k1:"tendermint/PubKeySecp256k1",ed25519:"tendermint/PubKeyEd25519",sr25519:"tendermint/PubKeySr25519",multisigThreshold:"tendermint/PubKeyMultisigThreshold"};function n(s){return[e.pubkeyType.ed25519,e.pubkeyType.secp256k1,e.pubkeyType.sr25519].includes(s.type)}e.isSinglePubkey=n;function o(s){return s.type==="tendermint/PubKeyMultisigThreshold"}e.isMultisigThresholdPubkey=o})(Lr);Object.defineProperty(se,"__esModule",{value:!0});se.encodeBech32Pubkey=se.encodeAminoPubkey=se.decodeBech32Pubkey=se.decodeAminoPubkey=se.encodeEd25519Pubkey=se.encodeSecp256k1Pubkey=void 0;const ye=N,Tl=ee,Rr=Z,rt=Lr;function xl(e){if(e.length!==33||e[0]!==2&&e[0]!==3)throw new Error("Public key must be compressed secp256k1, i.e. 33 bytes starting with 0x02 or 0x03");return{type:rt.pubkeyType.secp256k1,value:(0,ye.toBase64)(e)}}se.encodeSecp256k1Pubkey=xl;function _l(e){if(e.length!==32)throw new Error("Ed25519 public key must be 32 bytes long");return{type:rt.pubkeyType.ed25519,value:(0,ye.toBase64)(e)}}se.encodeEd25519Pubkey=_l;const hs=(0,ye.fromHex)("eb5ae98721"),fs=(0,ye.fromHex)("1624de6420"),Ta=(0,ye.fromHex)("0dfb100520"),Mn=(0,ye.fromHex)("22c1f7e2");function Hs(e){if((0,Rr.arrayContentStartsWith)(e,hs)){const t=e.slice(hs.length);if(t.length!==33)throw new Error("Invalid rest data length. Expected 33 bytes (compressed secp256k1 pubkey).");return{type:rt.pubkeyType.secp256k1,value:(0,ye.toBase64)(t)}}else if((0,Rr.arrayContentStartsWith)(e,fs)){const t=e.slice(fs.length);if(t.length!==32)throw new Error("Invalid rest data length. Expected 32 bytes (Ed25519 pubkey).");return{type:rt.pubkeyType.ed25519,value:(0,ye.toBase64)(t)}}else if((0,Rr.arrayContentStartsWith)(e,Ta)){const t=e.slice(Ta.length);if(t.length!==32)throw new Error("Invalid rest data length. Expected 32 bytes (Sr25519 pubkey).");return{type:rt.pubkeyType.sr25519,value:(0,ye.toBase64)(t)}}else{if((0,Rr.arrayContentStartsWith)(e,Mn))return Cl(e);throw new Error("Unsupported public key type. Amino data starts with: "+(0,ye.toHex)(e.slice(0,5)))}}se.decodeAminoPubkey=Hs;function Ml(e){const{data:t}=(0,ye.fromBech32)(e);return Hs(t)}se.decodeBech32Pubkey=Ml;function xa(e){if(e.length<1)throw new Error("Can't decode varint. EOF");if(e[0]>127)throw new Error("Decoding numbers > 127 is not supported here. Please tell those lazy CosmJS maintainers to port the binary.Varint implementation from the Go standard library and write some tests.");return[e[0],1]}function Cl(e){const t=Array.from(e),r=t.splice(0,Mn.length);if(!(0,Rr.arrayContentStartsWith)(r,Mn))throw new Error("Invalid multisig prefix.");if(t.shift()!=8)throw new Error("Invalid multisig data. Expecting 0x08 prefix before threshold.");const[n,o]=xa(t);t.splice(0,o);const s=[];for(;t.length>0;){if(t.shift()!=18)throw new Error("Invalid multisig data. Expecting 0x12 prefix before participant pubkey length.");const[a,c]=xa(t);if(t.splice(0,c),t.length<a)throw new Error("Invalid multisig data length.");const i=t.splice(0,a),u=Hs(Uint8Array.from(i));s.push(u)}return{type:rt.pubkeyType.multisigThreshold,value:{threshold:n.toString(),pubkeys:s}}}function _a(e){const t=Tl.Uint53.fromString(e.toString()).toNumber();if(t>127)throw new Error("Encoding numbers > 127 is not supported here. Please tell those lazy CosmJS maintainers to port the binary.PutUvarint implementation from the Go standard library and write some tests.");return[t]}function Vs(e){if((0,rt.isMultisigThresholdPubkey)(e)){const t=Array.from(Mn);t.push(8),t.push(..._a(e.value.threshold));for(const r of e.value.pubkeys.map(n=>Vs(n)))t.push(18),t.push(..._a(r.length)),t.push(...r);return new Uint8Array(t)}else{if((0,rt.isEd25519Pubkey)(e))return new Uint8Array([...fs,...(0,ye.fromBase64)(e.value)]);if((0,rt.isSecp256k1Pubkey)(e))return new Uint8Array([...hs,...(0,ye.fromBase64)(e.value)]);throw new Error("Unsupported pubkey type")}}se.encodeAminoPubkey=Vs;function Ol(e,t){return(0,ye.toBech32)(t,Vs(e))}se.encodeBech32Pubkey=Ol;Object.defineProperty(Ae,"__esModule",{value:!0});Ae.pubkeyToAddress=Ae.pubkeyToRawAddress=Ae.rawSecp256k1PubkeyToRawAddress=Ae.rawEd25519PubkeyToRawAddress=void 0;const Cn=ke,gs=N,jl=se,es=Lr;function Ri(e){if(e.length!==32)throw new Error(`Invalid Ed25519 pubkey length: ${e.length}`);return(0,Cn.sha256)(e).slice(0,20)}Ae.rawEd25519PubkeyToRawAddress=Ri;function Ni(e){if(e.length!==33)throw new Error(`Invalid Secp256k1 pubkey length (compressed): ${e.length}`);return(0,Cn.ripemd160)((0,Cn.sha256)(e))}Ae.rawSecp256k1PubkeyToRawAddress=Ni;function Di(e){if((0,es.isSecp256k1Pubkey)(e)){const t=(0,gs.fromBase64)(e.value);return Ni(t)}else if((0,es.isEd25519Pubkey)(e)){const t=(0,gs.fromBase64)(e.value);return Ri(t)}else if((0,es.isMultisigThresholdPubkey)(e)){const t=(0,jl.encodeAminoPubkey)(e);return(0,Cn.sha256)(t).slice(0,20)}else throw new Error("Unsupported public key type")}Ae.pubkeyToRawAddress=Di;function Bl(e,t){return(0,gs.toBech32)(t,Di(e))}Ae.pubkeyToAddress=Bl;var ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.addCoins=ze.parseCoins=ze.coins=ze.coin=void 0;const ys=ee;function Ui(e,t){let r;if(typeof e=="number")try{r=new ys.Uint53(e).toString()}catch{throw new Error("Given amount is not a safe integer. Consider using a string instead to overcome the limitations of JS numbers.")}else{if(!e.match(/^[0-9]+$/))throw new Error("Invalid unsigned integer string format");r=e.replace(/^0*/,"")||"0"}return{amount:r,denom:t}}ze.coin=Ui;function Il(e,t){return[Ui(e,t)]}ze.coins=Il;function Rl(e){return e.replace(/\s/g,"").split(",").filter(Boolean).map(t=>{const r=t.match(/^([0-9]+)([a-zA-Z][a-zA-Z0-9/]{2,127})$/);if(!r)throw new Error("Got an invalid coin string");return{amount:r[1].replace(/^0+/,"")||"0",denom:r[2]}})}ze.parseCoins=Rl;function Nl(e,t){if(e.denom!==t.denom)throw new Error("Trying to add two coins with different denoms");return{amount:ys.Decimal.fromAtomics(e.amount,0).plus(ys.Decimal.fromAtomics(t.amount,0)).atomics,denom:e.denom}}ze.addCoins=Nl;var er={};Object.defineProperty(er,"__esModule",{value:!0});er.createMultisigThresholdPubkey=er.compareArrays=void 0;const Ma=N,Dl=ee,Ca=Ae;function Hi(e,t){const r=(0,Ma.toHex)(e),n=(0,Ma.toHex)(t);return r===n?0:r<n?-1:1}er.compareArrays=Hi;function Ul(e,t,r=!1){const n=new Dl.Uint53(t);if(n.toNumber()>e.length)throw new Error(`Threshold k = ${n.toNumber()} exceeds number of keys n = ${e.length}`);const o=r?e:Array.from(e).sort((s,a)=>{const c=(0,Ca.pubkeyToRawAddress)(s),i=(0,Ca.pubkeyToRawAddress)(a);return Hi(c,i)});return{type:"tendermint/PubKeyMultisigThreshold",value:{threshold:n.toString(),pubkeys:o}}}er.createMultisigThresholdPubkey=Ul;var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.omitDefault=void 0;function Hl(e){switch(typeof e){case"string":return e===""?void 0:e;case"number":return e===0?void 0:e;case"bigint":return e===BigInt(0)?void 0:e;case"boolean":return e||void 0;default:throw new Error(`Got unsupported type '${typeof e}'`)}}Ln.omitDefault=Hl;var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.makeCosmoshubPath=void 0;const Pr=ke;function Vl(e){return[Pr.Slip10RawIndex.hardened(44),Pr.Slip10RawIndex.hardened(118),Pr.Slip10RawIndex.hardened(0),Pr.Slip10RawIndex.normal(0),Pr.Slip10RawIndex.normal(e)]}Qr.makeCosmoshubPath=Vl;var tr={},yt={};Object.defineProperty(yt,"__esModule",{value:!0});yt.decodeSignature=yt.encodeSecp256k1Signature=void 0;const bs=N,ql=se,Fl=Lr;function $l(e,t){if(t.length!==64)throw new Error("Signature must be 64 bytes long. Cosmos SDK uses a 2x32 byte fixed length encoding for the secp256k1 signature integers r and s.");return{pub_key:(0,ql.encodeSecp256k1Pubkey)(e),signature:(0,bs.toBase64)(t)}}yt.encodeSecp256k1Signature=$l;function Wl(e){switch(e.pub_key.type){case Fl.pubkeyType.secp256k1:return{pubkey:(0,bs.fromBase64)(e.pub_key.value),signature:(0,bs.fromBase64)(e.signature)};default:throw new Error("Unsupported pubkey type")}}yt.decodeSignature=Wl;var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.serializeSignDoc=Ue.escapeCharacters=Ue.makeSignDoc=Ue.sortedJsonStringify=void 0;const Jl=N,Oa=ee;function vs(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return e.map(vs);const t=Object.keys(e).sort(),r={};return t.forEach(n=>{r[n]=vs(e[n])}),r}function Vi(e){return JSON.stringify(vs(e))}Ue.sortedJsonStringify=Vi;function Gl(e,t,r,n,o,s,a){return{chain_id:r,account_number:Oa.Uint53.fromString(o.toString()).toString(),sequence:Oa.Uint53.fromString(s.toString()).toString(),fee:t,msgs:e,memo:n||"",...a&&{timeout_height:a.toString()}}}Ue.makeSignDoc=Gl;function qi(e){const t=/&/g,r=/</g,n=/>/g;return e.replace(t,"\\u0026").replace(r,"\\u003c").replace(n,"\\u003e")}Ue.escapeCharacters=qi;function zl(e){const t=qi(Vi(e));return(0,Jl.toUtf8)(t)}Ue.serializeSignDoc=zl;var qs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decrypt=e.encrypt=e.supportedAlgorithms=e.executeKdf=e.cosmjsSalt=void 0;const t=ke,r=N;e.cosmjsSalt=(0,r.toAscii)("The CosmJS salt.");async function n(a,c){switch(c.algorithm){case"argon2id":{const i=c.params;if(!(0,t.isArgon2idOptions)(i))throw new Error("Invalid format of argon2id params");return t.Argon2id.execute(a,e.cosmjsSalt,i)}default:throw new Error("Unsupported KDF algorithm")}}e.executeKdf=n,e.supportedAlgorithms={xchacha20poly1305Ietf:"xchacha20poly1305-ietf"};async function o(a,c,i){switch(i.algorithm){case e.supportedAlgorithms.xchacha20poly1305Ietf:{const u=t.Random.getBytes(t.xchacha20NonceLength);return new Uint8Array([...u,...await t.Xchacha20poly1305Ietf.encrypt(a,c,u)])}default:throw new Error(`Unsupported encryption algorithm: '${i.algorithm}'`)}}e.encrypt=o;async function s(a,c,i){switch(i.algorithm){case e.supportedAlgorithms.xchacha20poly1305Ietf:{const u=a.slice(0,t.xchacha20NonceLength);return t.Xchacha20poly1305Ietf.decrypt(a.slice(t.xchacha20NonceLength),c,u)}default:throw new Error(`Unsupported encryption algorithm: '${i.algorithm}'`)}}e.decrypt=s})(qs);Object.defineProperty(tr,"__esModule",{value:!0});tr.Secp256k1HdWallet=tr.extractKdfConfiguration=void 0;const Te=ke,Ar=N,$t=Z,Ll=Ae,Ql=Qr,Kl=yt,Zl=Ue,Er=qs,Tn="secp256k1wallet-v1",Xl={algorithm:"argon2id",params:{outputLength:32,opsLimit:24,memLimitKib:12*1024}};function Yl(e){return!(!(0,$t.isNonNullObject)(e)||typeof e.hdPath!="string"||typeof e.prefix!="string")}function ep(e){return e.kdf}function tp(e){const t=JSON.parse(e);if(!(0,$t.isNonNullObject)(t))throw new Error("Root document is not an object.");switch(t.type){case Tn:return ep(t);default:throw new Error("Unsupported serialization type")}}tr.extractKdfConfiguration=tp;const ja={bip39Password:"",hdPaths:[(0,Ql.makeCosmoshubPath)(0)],prefix:"cosmos"};class At{static async fromMnemonic(t,r={}){const n=new Te.EnglishMnemonic(t),o=await Te.Bip39.mnemonicToSeed(n,r.bip39Password);return new At(n,{...r,seed:o})}static async generate(t=12,r={}){const n=4*Math.floor(11*t/33),o=Te.Random.getBytes(n),s=Te.Bip39.encode(o);return At.fromMnemonic(s.toString(),r)}static async deserialize(t,r){const n=JSON.parse(t);if(!(0,$t.isNonNullObject)(n))throw new Error("Root document is not an object.");switch(n.type){case Tn:return At.deserializeTypeV1(t,r);default:throw new Error("Unsupported serialization type")}}static async deserializeWithEncryptionKey(t,r){const n=JSON.parse(t);if(!(0,$t.isNonNullObject)(n))throw new Error("Root document is not an object.");const o=n;switch(o.type){case Tn:{const s=await(0,Er.decrypt)((0,Ar.fromBase64)(o.data),r,o.encryption),a=JSON.parse((0,Ar.fromUtf8)(s)),{mnemonic:c,accounts:i}=a;if((0,$t.assert)(typeof c=="string"),!Array.isArray(i))throw new Error("Property 'accounts' is not an array");if(!i.every(g=>Yl(g)))throw new Error("Account is not in the correct format.");const u=i[0].prefix;if(!i.every(({prefix:g})=>g===u))throw new Error("Accounts do not all have the same prefix");const d=i.map(({hdPath:g})=>(0,Te.stringToPath)(g));return At.fromMnemonic(c,{hdPaths:d,prefix:u})}default:throw new Error("Unsupported serialization type")}}static async deserializeTypeV1(t,r){const n=JSON.parse(t);if(!(0,$t.isNonNullObject)(n))throw new Error("Root document is not an object.");const o=await(0,Er.executeKdf)(r,n.kdf);return At.deserializeWithEncryptionKey(t,o)}constructor(t,r){const n=r.hdPaths??ja.hdPaths,o=r.prefix??ja.prefix;this.secret=t,this.seed=r.seed,this.accounts=n.map(s=>({hdPath:s,prefix:o}))}get mnemonic(){return this.secret.toString()}async getAccounts(){return(await this.getAccountsWithPrivkeys()).map(({algo:t,pubkey:r,address:n})=>({algo:t,pubkey:r,address:n}))}async signAmino(t,r){const n=(await this.getAccountsWithPrivkeys()).find(({address:u})=>u===t);if(n===void 0)throw new Error(`Address ${t} not found in wallet`);const{privkey:o,pubkey:s}=n,a=(0,Te.sha256)((0,Zl.serializeSignDoc)(r)),c=await Te.Secp256k1.createSignature(a,o),i=new Uint8Array([...c.r(32),...c.s(32)]);return{signed:r,signature:(0,Kl.encodeSecp256k1Signature)(s,i)}}async serialize(t){const r=Xl,n=await(0,Er.executeKdf)(t,r);return this.serializeWithEncryptionKey(n,r)}async serializeWithEncryptionKey(t,r){const n={mnemonic:this.mnemonic,accounts:this.accounts.map(({hdPath:i,prefix:u})=>({hdPath:(0,Te.pathToString)(i),prefix:u}))},o=(0,Ar.toUtf8)(JSON.stringify(n)),s={algorithm:Er.supportedAlgorithms.xchacha20poly1305Ietf},a=await(0,Er.encrypt)(o,t,s),c={type:Tn,kdf:r,encryption:s,data:(0,Ar.toBase64)(a)};return JSON.stringify(c)}async getKeyPair(t){const{privkey:r}=Te.Slip10.derivePath(Te.Slip10Curve.Secp256k1,this.seed,t),{pubkey:n}=await Te.Secp256k1.makeKeypair(r);return{privkey:r,pubkey:Te.Secp256k1.compressPubkey(n)}}async getAccountsWithPrivkeys(){return Promise.all(this.accounts.map(async({hdPath:t,prefix:r})=>{const{privkey:n,pubkey:o}=await this.getKeyPair(t),s=(0,Ar.toBech32)(r,(0,Ll.rawSecp256k1PubkeyToRawAddress)(o));return{algo:"secp256k1",privkey:n,pubkey:o,address:s}}))}}tr.Secp256k1HdWallet=At;var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.Secp256k1Wallet=void 0;const un=ke,rp=N,np=Ae,op=yt,sp=Ue;class Fs{static async fromKey(t,r="cosmos"){const n=(await un.Secp256k1.makeKeypair(t)).pubkey;return new Fs(t,un.Secp256k1.compressPubkey(n),r)}constructor(t,r,n){this.privkey=t,this.pubkey=r,this.prefix=n}get address(){return(0,rp.toBech32)(this.prefix,(0,np.rawSecp256k1PubkeyToRawAddress)(this.pubkey))}async getAccounts(){return[{algo:"secp256k1",address:this.address,pubkey:this.pubkey}]}async signAmino(t,r){if(t!==this.address)throw new Error(`Address ${t} not found in wallet`);const n=new un.Sha256((0,sp.serializeSignDoc)(r)).digest(),o=await un.Secp256k1.createSignature(n,this.privkey),s=new Uint8Array([...o.r(32),...o.s(32)]);return{signed:r,signature:(0,op.encodeSecp256k1Signature)(this.pubkey,s)}}}Qn.Secp256k1Wallet=Fs;var rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.makeStdTx=rr.isStdTx=void 0;function ap(e){const{memo:t,msg:r,fee:n,signatures:o}=e;return typeof t=="string"&&Array.isArray(r)&&typeof n=="object"&&Array.isArray(o)}rr.isStdTx=ap;function ip(e,t){return{msg:e.msgs,fee:e.fee,memo:e.memo,signatures:Array.isArray(t)?t:[t]}}rr.makeStdTx=ip;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.executeKdf=e.makeStdTx=e.isStdTx=e.serializeSignDoc=e.makeSignDoc=e.encodeSecp256k1Signature=e.decodeSignature=e.Secp256k1Wallet=e.Secp256k1HdWallet=e.extractKdfConfiguration=e.pubkeyType=e.isSinglePubkey=e.isSecp256k1Pubkey=e.isMultisigThresholdPubkey=e.isEd25519Pubkey=e.makeCosmoshubPath=e.omitDefault=e.createMultisigThresholdPubkey=e.encodeSecp256k1Pubkey=e.encodeEd25519Pubkey=e.encodeBech32Pubkey=e.encodeAminoPubkey=e.decodeBech32Pubkey=e.decodeAminoPubkey=e.parseCoins=e.coins=e.coin=e.addCoins=e.rawSecp256k1PubkeyToRawAddress=e.rawEd25519PubkeyToRawAddress=e.pubkeyToRawAddress=e.pubkeyToAddress=void 0;var t=Ae;Object.defineProperty(e,"pubkeyToAddress",{enumerable:!0,get:function(){return t.pubkeyToAddress}}),Object.defineProperty(e,"pubkeyToRawAddress",{enumerable:!0,get:function(){return t.pubkeyToRawAddress}}),Object.defineProperty(e,"rawEd25519PubkeyToRawAddress",{enumerable:!0,get:function(){return t.rawEd25519PubkeyToRawAddress}}),Object.defineProperty(e,"rawSecp256k1PubkeyToRawAddress",{enumerable:!0,get:function(){return t.rawSecp256k1PubkeyToRawAddress}});var r=ze;Object.defineProperty(e,"addCoins",{enumerable:!0,get:function(){return r.addCoins}}),Object.defineProperty(e,"coin",{enumerable:!0,get:function(){return r.coin}}),Object.defineProperty(e,"coins",{enumerable:!0,get:function(){return r.coins}}),Object.defineProperty(e,"parseCoins",{enumerable:!0,get:function(){return r.parseCoins}});var n=se;Object.defineProperty(e,"decodeAminoPubkey",{enumerable:!0,get:function(){return n.decodeAminoPubkey}}),Object.defineProperty(e,"decodeBech32Pubkey",{enumerable:!0,get:function(){return n.decodeBech32Pubkey}}),Object.defineProperty(e,"encodeAminoPubkey",{enumerable:!0,get:function(){return n.encodeAminoPubkey}}),Object.defineProperty(e,"encodeBech32Pubkey",{enumerable:!0,get:function(){return n.encodeBech32Pubkey}}),Object.defineProperty(e,"encodeEd25519Pubkey",{enumerable:!0,get:function(){return n.encodeEd25519Pubkey}}),Object.defineProperty(e,"encodeSecp256k1Pubkey",{enumerable:!0,get:function(){return n.encodeSecp256k1Pubkey}});var o=er;Object.defineProperty(e,"createMultisigThresholdPubkey",{enumerable:!0,get:function(){return o.createMultisigThresholdPubkey}});var s=Ln;Object.defineProperty(e,"omitDefault",{enumerable:!0,get:function(){return s.omitDefault}});var a=Qr;Object.defineProperty(e,"makeCosmoshubPath",{enumerable:!0,get:function(){return a.makeCosmoshubPath}});var c=Lr;Object.defineProperty(e,"isEd25519Pubkey",{enumerable:!0,get:function(){return c.isEd25519Pubkey}}),Object.defineProperty(e,"isMultisigThresholdPubkey",{enumerable:!0,get:function(){return c.isMultisigThresholdPubkey}}),Object.defineProperty(e,"isSecp256k1Pubkey",{enumerable:!0,get:function(){return c.isSecp256k1Pubkey}}),Object.defineProperty(e,"isSinglePubkey",{enumerable:!0,get:function(){return c.isSinglePubkey}}),Object.defineProperty(e,"pubkeyType",{enumerable:!0,get:function(){return c.pubkeyType}});var i=tr;Object.defineProperty(e,"extractKdfConfiguration",{enumerable:!0,get:function(){return i.extractKdfConfiguration}}),Object.defineProperty(e,"Secp256k1HdWallet",{enumerable:!0,get:function(){return i.Secp256k1HdWallet}});var u=Qn;Object.defineProperty(e,"Secp256k1Wallet",{enumerable:!0,get:function(){return u.Secp256k1Wallet}});var d=yt;Object.defineProperty(e,"decodeSignature",{enumerable:!0,get:function(){return d.decodeSignature}}),Object.defineProperty(e,"encodeSecp256k1Signature",{enumerable:!0,get:function(){return d.encodeSecp256k1Signature}});var g=Ue;Object.defineProperty(e,"makeSignDoc",{enumerable:!0,get:function(){return g.makeSignDoc}}),Object.defineProperty(e,"serializeSignDoc",{enumerable:!0,get:function(){return g.serializeSignDoc}});var T=rr;Object.defineProperty(e,"isStdTx",{enumerable:!0,get:function(){return T.isStdTx}}),Object.defineProperty(e,"makeStdTx",{enumerable:!0,get:function(){return T.makeStdTx}});var M=qs;Object.defineProperty(e,"executeKdf",{enumerable:!0,get:function(){return M.executeKdf}})})(st);var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.makeSignBytes=Xe.makeSignDoc=Xe.makeAuthInfoBytes=void 0;const Ba=Z,cp=qn,On=Ot;function up(e,t){return e.map(({pubkey:r,sequence:n})=>({publicKey:r,modeInfo:{single:{mode:t}},sequence:BigInt(n)}))}function dp(e,t,r,n,o,s=cp.SignMode.SIGN_MODE_DIRECT){(0,Ba.assert)(n===void 0||typeof n=="string","feeGranter must be undefined or string"),(0,Ba.assert)(o===void 0||typeof o=="string","feePayer must be undefined or string");const a=On.AuthInfo.fromPartial({signerInfos:up(e,s),fee:{amount:[...t],gasLimit:BigInt(r),granter:n,payer:o}});return On.AuthInfo.encode(a).finish()}Xe.makeAuthInfoBytes=dp;function lp(e,t,r,n){return{bodyBytes:e,authInfoBytes:t,chainId:r,accountNumber:BigInt(n)}}Xe.makeSignDoc=lp;function pp({accountNumber:e,authInfoBytes:t,bodyBytes:r,chainId:n}){const o=On.SignDoc.fromPartial({accountNumber:e,authInfoBytes:t,bodyBytes:r,chainId:n});return On.SignDoc.encode(o).finish()}Xe.makeSignBytes=pp;var $s={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decrypt=e.encrypt=e.supportedAlgorithms=e.executeKdf=e.cosmjsSalt=void 0;const t=ke,r=N;e.cosmjsSalt=(0,r.toAscii)("The CosmJS salt.");async function n(a,c){switch(c.algorithm){case"argon2id":{const i=c.params;if(!(0,t.isArgon2idOptions)(i))throw new Error("Invalid format of argon2id params");return t.Argon2id.execute(a,e.cosmjsSalt,i)}default:throw new Error("Unsupported KDF algorithm")}}e.executeKdf=n,e.supportedAlgorithms={xchacha20poly1305Ietf:"xchacha20poly1305-ietf"};async function o(a,c,i){switch(i.algorithm){case e.supportedAlgorithms.xchacha20poly1305Ietf:{const u=t.Random.getBytes(t.xchacha20NonceLength);return new Uint8Array([...u,...await t.Xchacha20poly1305Ietf.encrypt(a,c,u)])}default:throw new Error(`Unsupported encryption algorithm: '${i.algorithm}'`)}}e.encrypt=o;async function s(a,c,i){switch(i.algorithm){case e.supportedAlgorithms.xchacha20poly1305Ietf:{const u=a.slice(0,t.xchacha20NonceLength);return t.Xchacha20poly1305Ietf.decrypt(a.slice(t.xchacha20NonceLength),c,u)}default:throw new Error(`Unsupported encryption algorithm: '${i.algorithm}'`)}}e.decrypt=s})($s);Object.defineProperty(Jt,"__esModule",{value:!0});Jt.DirectSecp256k1HdWallet=Jt.extractKdfConfiguration=void 0;const ws=st,xe=ke,Tr=N,Wt=Z,mp=Xe,xr=$s,xn="directsecp256k1hdwallet-v1",hp={algorithm:"argon2id",params:{outputLength:32,opsLimit:24,memLimitKib:12*1024}};function fp(e){return!(!(0,Wt.isNonNullObject)(e)||typeof e.hdPath!="string"||typeof e.prefix!="string")}function gp(e){return e.kdf}function yp(e){const t=JSON.parse(e);if(!(0,Wt.isNonNullObject)(t))throw new Error("Root document is not an object.");switch(t.type){case xn:return gp(t);default:throw new Error("Unsupported serialization type")}}Jt.extractKdfConfiguration=yp;const Ia={bip39Password:"",hdPaths:[(0,ws.makeCosmoshubPath)(0)],prefix:"cosmos"};class Et{static async fromMnemonic(t,r={}){const n=new xe.EnglishMnemonic(t),o=await xe.Bip39.mnemonicToSeed(n,r.bip39Password);return new Et(n,{...r,seed:o})}static async generate(t=12,r={}){const n=4*Math.floor(11*t/33),o=xe.Random.getBytes(n),s=xe.Bip39.encode(o);return Et.fromMnemonic(s.toString(),r)}static async deserialize(t,r){const n=JSON.parse(t);if(!(0,Wt.isNonNullObject)(n))throw new Error("Root document is not an object.");switch(n.type){case xn:return Et.deserializeTypeV1(t,r);default:throw new Error("Unsupported serialization type")}}static async deserializeWithEncryptionKey(t,r){const n=JSON.parse(t);if(!(0,Wt.isNonNullObject)(n))throw new Error("Root document is not an object.");const o=n;switch(o.type){case xn:{const s=await(0,xr.decrypt)((0,Tr.fromBase64)(o.data),r,o.encryption),a=JSON.parse((0,Tr.fromUtf8)(s)),{mnemonic:c,accounts:i}=a;if((0,Wt.assert)(typeof c=="string"),!Array.isArray(i))throw new Error("Property 'accounts' is not an array");if(!i.every(g=>fp(g)))throw new Error("Account is not in the correct format.");const u=i[0].prefix;if(!i.every(({prefix:g})=>g===u))throw new Error("Accounts do not all have the same prefix");const d=i.map(({hdPath:g})=>(0,xe.stringToPath)(g));return Et.fromMnemonic(c,{hdPaths:d,prefix:u})}default:throw new Error("Unsupported serialization type")}}static async deserializeTypeV1(t,r){const n=JSON.parse(t);if(!(0,Wt.isNonNullObject)(n))throw new Error("Root document is not an object.");const o=await(0,xr.executeKdf)(r,n.kdf);return Et.deserializeWithEncryptionKey(t,o)}constructor(t,r){const n=r.prefix??Ia.prefix,o=r.hdPaths??Ia.hdPaths;this.secret=t,this.seed=r.seed,this.accounts=o.map(s=>({hdPath:s,prefix:n}))}get mnemonic(){return this.secret.toString()}async getAccounts(){return(await this.getAccountsWithPrivkeys()).map(({algo:t,pubkey:r,address:n})=>({algo:t,pubkey:r,address:n}))}async signDirect(t,r){const n=(await this.getAccountsWithPrivkeys()).find(({address:g})=>g===t);if(n===void 0)throw new Error(`Address ${t} not found in wallet`);const{privkey:o,pubkey:s}=n,a=(0,mp.makeSignBytes)(r),c=(0,xe.sha256)(a),i=await xe.Secp256k1.createSignature(c,o),u=new Uint8Array([...i.r(32),...i.s(32)]),d=(0,ws.encodeSecp256k1Signature)(s,u);return{signed:r,signature:d}}async serialize(t){const r=hp,n=await(0,xr.executeKdf)(t,r);return this.serializeWithEncryptionKey(n,r)}async serializeWithEncryptionKey(t,r){const n={mnemonic:this.mnemonic,accounts:this.accounts.map(({hdPath:i,prefix:u})=>({hdPath:(0,xe.pathToString)(i),prefix:u}))},o=(0,Tr.toUtf8)(JSON.stringify(n)),s={algorithm:xr.supportedAlgorithms.xchacha20poly1305Ietf},a=await(0,xr.encrypt)(o,t,s),c={type:xn,kdf:r,encryption:s,data:(0,Tr.toBase64)(a)};return JSON.stringify(c)}async getKeyPair(t){const{privkey:r}=xe.Slip10.derivePath(xe.Slip10Curve.Secp256k1,this.seed,t),{pubkey:n}=await xe.Secp256k1.makeKeypair(r);return{privkey:r,pubkey:xe.Secp256k1.compressPubkey(n)}}async getAccountsWithPrivkeys(){return Promise.all(this.accounts.map(async({hdPath:t,prefix:r})=>{const{privkey:n,pubkey:o}=await this.getKeyPair(t),s=(0,Tr.toBech32)(r,(0,ws.rawSecp256k1PubkeyToRawAddress)(o));return{algo:"secp256k1",privkey:n,pubkey:o,address:s}}))}}Jt.DirectSecp256k1HdWallet=Et;var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.DirectSecp256k1Wallet=void 0;const Ra=st,dn=ke,bp=N,vp=Xe;class Ws{static async fromKey(t,r="cosmos"){const n=(await dn.Secp256k1.makeKeypair(t)).pubkey;return new Ws(t,dn.Secp256k1.compressPubkey(n),r)}constructor(t,r,n){this.privkey=t,this.pubkey=r,this.prefix=n}get address(){return(0,bp.toBech32)(this.prefix,(0,Ra.rawSecp256k1PubkeyToRawAddress)(this.pubkey))}async getAccounts(){return[{algo:"secp256k1",address:this.address,pubkey:this.pubkey}]}async signDirect(t,r){const n=(0,vp.makeSignBytes)(r);if(t!==this.address)throw new Error(`Address ${t} not found in wallet`);const o=(0,dn.sha256)(n),s=await dn.Secp256k1.createSignature(o,this.privkey),a=new Uint8Array([...s.r(32),...s.s(32)]),c=(0,Ra.encodeSecp256k1Signature)(this.pubkey,a);return{signed:r,signature:c}}}Kn.DirectSecp256k1Wallet=Ws;var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.makeCosmoshubPath=void 0;const _r=ke;function wp(e){return[_r.Slip10RawIndex.hardened(44),_r.Slip10RawIndex.hardened(118),_r.Slip10RawIndex.hardened(0),_r.Slip10RawIndex.normal(0),_r.Slip10RawIndex.normal(e)]}Zn.makeCosmoshubPath=wp;var Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.decodeOptionalPubkey=Le.decodePubkey=Le.anyToSinglePubkey=Le.encodePubkey=void 0;const Ur=st,Na=N,kp=ee,ks=Iu,Ss=Ru,Ps=Nu,ts=Is;function Fi(e){if((0,Ur.isSecp256k1Pubkey)(e)){const t=Ps.PubKey.fromPartial({key:(0,Na.fromBase64)(e.value)});return ts.Any.fromPartial({typeUrl:"/cosmos.crypto.secp256k1.PubKey",value:Uint8Array.from(Ps.PubKey.encode(t).finish())})}else if((0,Ur.isEd25519Pubkey)(e)){const t=ks.PubKey.fromPartial({key:(0,Na.fromBase64)(e.value)});return ts.Any.fromPartial({typeUrl:"/cosmos.crypto.ed25519.PubKey",value:Uint8Array.from(ks.PubKey.encode(t).finish())})}else if((0,Ur.isMultisigThresholdPubkey)(e)){const t=Ss.LegacyAminoPubKey.fromPartial({threshold:kp.Uint53.fromString(e.value.threshold).toNumber(),publicKeys:e.value.pubkeys.map(Fi)});return ts.Any.fromPartial({typeUrl:"/cosmos.crypto.multisig.LegacyAminoPubKey",value:Uint8Array.from(Ss.LegacyAminoPubKey.encode(t).finish())})}else throw new Error(`Pubkey type ${e.type} not recognized`)}Le.encodePubkey=Fi;function As(e){switch(e.typeUrl){case"/cosmos.crypto.secp256k1.PubKey":{const{key:t}=Ps.PubKey.decode(e.value);return(0,Ur.encodeSecp256k1Pubkey)(t)}case"/cosmos.crypto.ed25519.PubKey":{const{key:t}=ks.PubKey.decode(e.value);return(0,Ur.encodeEd25519Pubkey)(t)}default:throw new Error(`Pubkey type_url ${e.typeUrl} not recognized as single public key type`)}}Le.anyToSinglePubkey=As;function $i(e){switch(e.typeUrl){case"/cosmos.crypto.secp256k1.PubKey":case"/cosmos.crypto.ed25519.PubKey":return As(e);case"/cosmos.crypto.multisig.LegacyAminoPubKey":{const{threshold:t,publicKeys:r}=Ss.LegacyAminoPubKey.decode(e.value);return{type:"tendermint/PubKeyMultisigThreshold",value:{threshold:t.toString(),pubkeys:r.map(As)}}}default:throw new Error(`Pubkey type URL '${e.typeUrl}' not recognized`)}}Le.decodePubkey=$i;function Sp(e){if(!e)return null;if(e.typeUrl){if(e.value.length)return $i(e);throw new Error(`Pubkey is an Any with type URL '${e.typeUrl}' but an empty value`)}else{if(e.value.length)throw new Error("Pubkey is an Any with an empty type URL but a value set");return null}}Le.decodeOptionalPubkey=Sp;var _e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.Registry=_e.isTxBodyEncodeObject=_e.isPbjsGeneratedType=_e.isTsProtoGeneratedType=_e.isTelescopeGeneratedType=void 0;const Pp=ci,Ap=li,rs=Ot,Ep=Is;function Wi(e){const t=e;return typeof t.fromPartial=="function"&&typeof t.typeUrl=="string"}_e.isTelescopeGeneratedType=Wi;function Js(e){return typeof e.fromPartial=="function"}_e.isTsProtoGeneratedType=Js;function Tp(e){return!Js(e)}_e.isPbjsGeneratedType=Tp;const Da={cosmosCoin:"/cosmos.base.v1beta1.Coin",cosmosMsgSend:"/cosmos.bank.v1beta1.MsgSend",cosmosTxBody:"/cosmos.tx.v1beta1.TxBody",googleAny:"/google.protobuf.Any"};function Ji(e){return e.typeUrl==="/cosmos.tx.v1beta1.TxBody"}_e.isTxBodyEncodeObject=Ji;class xp{constructor(t){const{cosmosCoin:r,cosmosMsgSend:n}=Da;this.types=t?new Map([...t]):new Map([[r,Ap.Coin],[n,Pp.MsgSend]])}register(t,r){this.types.set(t,r)}lookupType(t){return this.types.get(t)}lookupTypeWithError(t){const r=this.lookupType(t);if(!r)throw new Error(`Unregistered type url: ${t}`);return r}encode(t){const{value:r,typeUrl:n}=t;if(Ji(t))return this.encodeTxBody(r);const o=this.lookupTypeWithError(n),s=Wi(o)||Js(o)?o.fromPartial(r):o.create(r);return o.encode(s).finish()}encodeAsAny(t){const r=this.encode(t);return Ep.Any.fromPartial({typeUrl:t.typeUrl,value:r})}encodeTxBody(t){var r;const n=t.messages.map(s=>this.encodeAsAny(s)),o=rs.TxBody.fromPartial({...t,timeoutHeight:BigInt(((r=t.timeoutHeight)==null?void 0:r.toString())??"0"),messages:n});return rs.TxBody.encode(o).finish()}decode({typeUrl:t,value:r}){if(t===Da.cosmosTxBody)return this.decodeTxBody(r);const n=this.lookupTypeWithError(t).decode(r);return Object.entries(n).forEach(([o,s])=>{typeof tt.Buffer<"u"&&typeof tt.Buffer.isBuffer<"u"&&tt.Buffer.isBuffer(s)&&(n[o]=Uint8Array.from(s))}),n}decodeTxBody(t){const r=rs.TxBody.decode(t);return{...r,messages:r.messages.map(({typeUrl:n,value:o})=>{if(!n)throw new Error("Missing type_url in Any");if(!o)throw new Error("Missing value in Any");return this.decode({typeUrl:n,value:o})})}}}_e.Registry=xp;var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.isOfflineDirectSigner=void 0;function _p(e){return e.signDirect!==void 0}Xn.isOfflineDirectSigner=_p;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseCoins=e.coins=e.coin=e.executeKdf=e.makeSignDoc=e.makeSignBytes=e.makeAuthInfoBytes=e.isOfflineDirectSigner=e.Registry=e.isTxBodyEncodeObject=e.isTsProtoGeneratedType=e.isPbjsGeneratedType=e.encodePubkey=e.decodePubkey=e.decodeOptionalPubkey=e.anyToSinglePubkey=e.makeCosmoshubPath=e.DirectSecp256k1Wallet=e.extractKdfConfiguration=e.DirectSecp256k1HdWallet=e.decodeTxRaw=void 0;var t=$n;Object.defineProperty(e,"decodeTxRaw",{enumerable:!0,get:function(){return t.decodeTxRaw}});var r=Jt;Object.defineProperty(e,"DirectSecp256k1HdWallet",{enumerable:!0,get:function(){return r.DirectSecp256k1HdWallet}}),Object.defineProperty(e,"extractKdfConfiguration",{enumerable:!0,get:function(){return r.extractKdfConfiguration}});var n=Kn;Object.defineProperty(e,"DirectSecp256k1Wallet",{enumerable:!0,get:function(){return n.DirectSecp256k1Wallet}});var o=Zn;Object.defineProperty(e,"makeCosmoshubPath",{enumerable:!0,get:function(){return o.makeCosmoshubPath}});var s=Le;Object.defineProperty(e,"anyToSinglePubkey",{enumerable:!0,get:function(){return s.anyToSinglePubkey}}),Object.defineProperty(e,"decodeOptionalPubkey",{enumerable:!0,get:function(){return s.decodeOptionalPubkey}}),Object.defineProperty(e,"decodePubkey",{enumerable:!0,get:function(){return s.decodePubkey}}),Object.defineProperty(e,"encodePubkey",{enumerable:!0,get:function(){return s.encodePubkey}});var a=_e;Object.defineProperty(e,"isPbjsGeneratedType",{enumerable:!0,get:function(){return a.isPbjsGeneratedType}}),Object.defineProperty(e,"isTsProtoGeneratedType",{enumerable:!0,get:function(){return a.isTsProtoGeneratedType}}),Object.defineProperty(e,"isTxBodyEncodeObject",{enumerable:!0,get:function(){return a.isTxBodyEncodeObject}}),Object.defineProperty(e,"Registry",{enumerable:!0,get:function(){return a.Registry}});var c=Xn;Object.defineProperty(e,"isOfflineDirectSigner",{enumerable:!0,get:function(){return c.isOfflineDirectSigner}});var i=Xe;Object.defineProperty(e,"makeAuthInfoBytes",{enumerable:!0,get:function(){return i.makeAuthInfoBytes}}),Object.defineProperty(e,"makeSignBytes",{enumerable:!0,get:function(){return i.makeSignBytes}}),Object.defineProperty(e,"makeSignDoc",{enumerable:!0,get:function(){return i.makeSignDoc}});var u=$s;Object.defineProperty(e,"executeKdf",{enumerable:!0,get:function(){return u.executeKdf}});var d=st;Object.defineProperty(e,"coin",{enumerable:!0,get:function(){return d.coin}}),Object.defineProperty(e,"coins",{enumerable:!0,get:function(){return d.coins}}),Object.defineProperty(e,"parseCoins",{enumerable:!0,get:function(){return d.parseCoins}})})(bt);Object.defineProperty(Gr,"__esModule",{value:!0});Gr.accountFromAny=void 0;const Mp=ee,Cp=bt,Mr=Z,Ua=Du,ln=Uu;function Ha(e){return Mp.Uint64.fromString(e.toString())}function Ut(e){const{address:t,pubKey:r,accountNumber:n,sequence:o}=e,s=(0,Cp.decodeOptionalPubkey)(r);return{address:t,pubkey:s,accountNumber:Ha(n).toNumber(),sequence:Ha(o).toNumber()}}function Op(e){var t,r,n,o,s,a,c;const{typeUrl:i,value:u}=e;switch(i){case"/cosmos.auth.v1beta1.BaseAccount":return Ut(Ua.BaseAccount.decode(u));case"/cosmos.auth.v1beta1.ModuleAccount":{const d=Ua.ModuleAccount.decode(u).baseAccount;return(0,Mr.assert)(d),Ut(d)}case"/cosmos.vesting.v1beta1.BaseVestingAccount":{const d=(t=ln.BaseVestingAccount.decode(u))==null?void 0:t.baseAccount;return(0,Mr.assert)(d),Ut(d)}case"/cosmos.vesting.v1beta1.ContinuousVestingAccount":{const d=(n=(r=ln.ContinuousVestingAccount.decode(u))==null?void 0:r.baseVestingAccount)==null?void 0:n.baseAccount;return(0,Mr.assert)(d),Ut(d)}case"/cosmos.vesting.v1beta1.DelayedVestingAccount":{const d=(s=(o=ln.DelayedVestingAccount.decode(u))==null?void 0:o.baseVestingAccount)==null?void 0:s.baseAccount;return(0,Mr.assert)(d),Ut(d)}case"/cosmos.vesting.v1beta1.PeriodicVestingAccount":{const d=(c=(a=ln.PeriodicVestingAccount.decode(u))==null?void 0:a.baseVestingAccount)==null?void 0:c.baseAccount;return(0,Mr.assert)(d),Ut(d)}default:throw new Error(`Unsupported type: '${i}'`)}}Gr.accountFromAny=Op;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.AminoTypes=void 0;class jp{constructor(t){this.register=t}toAmino({typeUrl:t,value:r}){const n=this.register[t];if(!n)throw new Error(`Type URL '${t}' does not exist in the Amino message type register. If you need support for this message type, you can pass in additional entries to the AminoTypes constructor. If you think this message type should be included by default, please open an issue at https://github.com/cosmos/cosmjs/issues.`);return{type:n.aminoType,value:n.toAmino(r)}}fromAmino({type:t,value:r}){const n=Object.entries(this.register).filter(([o,{aminoType:s}])=>s===t);switch(n.length){case 0:throw new Error(`Amino type identifier '${t}' does not exist in the Amino message type register. If you need support for this message type, you can pass in additional entries to the AminoTypes constructor. If you think this message type should be included by default, please open an issue at https://github.com/cosmos/cosmjs/issues.`);case 1:{const[o,s]=n[0];return{typeUrl:o,value:s.fromAmino(r)}}default:throw new Error(`Multiple types are registered with Amino type identifier '${t}': '`+n.map(([o,s])=>o).sort().join("', '")+"'. Thus fromAmino cannot be performed.")}}}Kr.AminoTypes=jp;var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.fromTendermintEvent=void 0;const Va=N;function Bp(e){return{type:e.type,attributes:e.attributes.map(t=>({key:typeof t.key=="string"?t.key:(0,Va.fromUtf8)(t.key,!0),value:typeof t.value=="string"?t.value:(0,Va.fromUtf8)(t.value,!0)}))}}Zr.fromTendermintEvent=Bp;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.calculateFee=Ct.GasPrice=void 0;const Gi=ee,Ip=bt;function Rp(e){if(e.length<3||e.length>128)throw new Error("Denom must be between 3 and 128 characters")}class Yn{constructor(t,r){this.amount=t,this.denom=r}static fromString(t){const r=t.match(/^([0-9.]+)([a-zA-Z][a-zA-Z0-9/:._-]*)$/);if(!r)throw new Error("Invalid gas price string");const[n,o,s]=r;Rp(s);const a=Gi.Decimal.fromUserInput(o,18);return new Yn(a,s)}toString(){return this.amount.toString()+this.denom}}Ct.GasPrice=Yn;function Np(e,t){const r=typeof t=="string"?Yn.fromString(t):t,{denom:n,amount:o}=r,s=o.multiply(new Gi.Uint53(e)).ceil().toString();return{amount:(0,Ip.coins)(s,n),gas:e.toString()}}Ct.calculateFee=Np;var ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.findAttribute=ge.parseRawLog=ge.parseLogs=ge.parseLog=ge.parseEvent=ge.parseAttribute=void 0;const Gs=Z;function zi(e){if(!(0,Gs.isNonNullObject)(e))throw new Error("Attribute must be a non-null object");const{key:t,value:r}=e;if(typeof t!="string"||!t)throw new Error("Attribute's key must be a non-empty string");if(typeof r!="string"&&typeof r<"u")throw new Error("Attribute's value must be a string or unset");return{key:t,value:r||""}}ge.parseAttribute=zi;function Li(e){if(!(0,Gs.isNonNullObject)(e))throw new Error("Event must be a non-null object");const{type:t,attributes:r}=e;if(typeof t!="string"||t==="")throw new Error("Event type must be a non-empty string");if(!Array.isArray(r))throw new Error("Event's attributes must be an array");return{type:t,attributes:r.map(zi)}}ge.parseEvent=Li;function Qi(e){if(!(0,Gs.isNonNullObject)(e))throw new Error("Log must be a non-null object");const{msg_index:t,log:r,events:n}=e;if(typeof t!="number")throw new Error("Log's msg_index must be a number");if(typeof r!="string")throw new Error("Log's log must be a string");if(!Array.isArray(n))throw new Error("Log's events must be an array");return{msg_index:t,log:r,events:n.map(Li)}}ge.parseLog=Qi;function Ki(e){if(!Array.isArray(e))throw new Error("Logs must be an array");return e.map(Qi)}ge.parseLogs=Ki;function Dp(e){if(!e)return[];const t=JSON.parse(e).map(({events:r},n)=>({msg_index:n,events:r,log:""}));return Ki(t)}ge.parseRawLog=Dp;function Up(e,t,r){var n;const o=e.find(()=>!0),s=(n=o?.events.find(a=>a.type===t))==null?void 0:n.attributes.find(a=>a.key===r);if(!s)throw new Error(`Could not find attribute '${r}' in first event of type '${t}' in first log.`);return s}ge.findAttribute=Up;var Fr={},eo={},ie={},to={},Xr={},ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.concat=void 0;const Hp=jt;function Vp(...e){const t=new Array,r=new Array,n=new Set;let o=0;function s(){for(;t.length>0;)t.shift().unsubscribe();r.length=0,n.clear(),o=0}const a={start:c=>{e.forEach(d=>r.push([]));function i(d){for(;;){const g=r[d].shift();if(g===void 0)return;c.next(g)}}function u(){return o>=e.length}if(u()){c.complete();return}e.forEach((d,g)=>{t.push(d.subscribe({next:T=>{g===o?c.next(T):r[g].push(T)},complete:()=>{for(n.add(g);n.has(o);)i(o),o++;u()?c.complete():i(o)},error:T=>{c.error(T),s()}}))})},stop:()=>{s()}};return Hp.Stream.create(a)}ro.concat=Vp;var no={};Object.defineProperty(no,"__esModule",{value:!0});no.DefaultValueProducer=void 0;class qp{get value(){return this.internalValue}constructor(t,r){this.callbacks=r,this.internalValue=t}update(t){this.internalValue=t,this.listener&&this.listener.next(t)}error(t){this.listener&&this.listener.error(t)}start(t){this.listener=t,t.next(this.internalValue),this.callbacks&&this.callbacks.onStarted()}stop(){this.callbacks&&this.callbacks.onStop(),this.listener=void 0}}no.DefaultValueProducer=qp;var oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.dropDuplicates=void 0;function Fp(e){return t=>{const r=new Set;return t.filter(n=>!r.has(e(n))).debug(n=>r.add(e(n)))}}oo.dropDuplicates=Fp;var pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.firstEvent=pt.toListPromise=pt.fromListPromise=void 0;const $p=jt;function Wp(e){const t={start:r=>{e.then(n=>{for(const o of n)r.next(o);r.complete()}).catch(n=>r.error(n))},stop:()=>{}};return $p.Stream.create(t)}pt.fromListPromise=Wp;async function Zi(e,t){return new Promise((r,n)=>{if(t===0){r([]);return}const o=new Array;e.take(t).subscribe({next:s=>{o.push(s),o.length===t&&r(o)},complete:()=>{n(`Stream completed before all events could be collected. Collected ${o.length}, expected ${t}`)},error:s=>n(s)})})}pt.toListPromise=Zi;async function Jp(e){return(await Zi(e,1))[0]}pt.firstEvent=Jp;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.lastValue=Qe.asArray=Qe.countStream=Qe.Reducer=void 0;class so{constructor(t,r,n){this.stream=t,this.reducer=r,this.state=n,this.completed=new Promise((o,s)=>{const a=this.stream.subscribe({next:c=>{this.state=this.reducer(this.state,c)},complete:()=>{o(),a.unsubscribe()},error:c=>{s(c),a.unsubscribe()}})})}value(){return this.state}async finished(){return this.completed}}Qe.Reducer=so;function Gp(e,t){return e+1}function zp(e){return new so(e,Gp,0)}Qe.countStream=zp;function Lp(e,t){return[...e,t]}function Qp(e){return new so(e,Lp,[])}Qe.asArray=Qp;function Kp(e,t){return t}function Zp(e){return new so(e,Kp,void 0)}Qe.lastValue=Zp;var ao={};Object.defineProperty(ao,"__esModule",{value:!0});ao.ValueAndUpdates=void 0;const Xp=jt;class Yp{get value(){return this.producer.value}constructor(t){this.producer=t,this.updates=Xp.MemoryStream.createWithMemory(this.producer)}async waitFor(t){const r=typeof t=="function"?t:n=>n===t;return new Promise((n,o)=>{const s=this.updates.subscribe({next:a=>{r(a)&&(n(a),setTimeout(()=>s.unsubscribe(),0))},complete:()=>{s.unsubscribe(),o("Update stream completed without expected value")},error:a=>{o(a)}})})}}ao.ValueAndUpdates=Yp;(function(e){var t=h&&h.__createBinding||(Object.create?function(i,u,d,g){g===void 0&&(g=d);var T=Object.getOwnPropertyDescriptor(u,d);(!T||("get"in T?!u.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(i,g,T)}:function(i,u,d,g){g===void 0&&(g=d),i[g]=u[d]}),r=h&&h.__exportStar||function(i,u){for(var d in i)d!=="default"&&!Object.prototype.hasOwnProperty.call(u,d)&&t(u,i,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.ValueAndUpdates=e.toListPromise=e.fromListPromise=e.firstEvent=e.dropDuplicates=e.DefaultValueProducer=e.concat=void 0;var n=ro;Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return n.concat}});var o=no;Object.defineProperty(e,"DefaultValueProducer",{enumerable:!0,get:function(){return o.DefaultValueProducer}});var s=oo;Object.defineProperty(e,"dropDuplicates",{enumerable:!0,get:function(){return s.dropDuplicates}});var a=pt;Object.defineProperty(e,"firstEvent",{enumerable:!0,get:function(){return a.firstEvent}}),Object.defineProperty(e,"fromListPromise",{enumerable:!0,get:function(){return a.fromListPromise}}),Object.defineProperty(e,"toListPromise",{enumerable:!0,get:function(){return a.toListPromise}}),r(Qe,e);var c=ao;Object.defineProperty(e,"ValueAndUpdates",{enumerable:!0,get:function(){return c.ValueAndUpdates}})})(Xr);Object.defineProperty(to,"__esModule",{value:!0});to.QueryClient=void 0;const Pt=Hu,Tt=N,em=Xr,me=Z;function pn(e,t,r){if(e.type!==t)throw new Error(`Op expected to be ${t}, got "${e.type}`);if(!(0,me.arrayContentEquals)(r,e.key))throw new Error(`Proven key different than queried key.
Query: ${(0,Tt.toHex)(r)}
Proven: ${(0,Tt.toHex)(e.key)}`);return Pt.ics23.CommitmentProof.decode(e.data)}class zs{static withExtensions(t,...r){const n=new zs(t),o=r.map(s=>s(n));for(const s of o){(0,me.assert)((0,me.isNonNullObject)(s),"Extension must be a non-null object");for(const[a,c]of Object.entries(s)){(0,me.assert)((0,me.isNonNullObject)(c),`Module must be a non-null object. Found type ${typeof c} for module "${a}".`);const i=n[a]||{};n[a]={...i,...c}}}return n}constructor(t){this.cometClient=t}async queryStoreVerified(t,r,n){const{height:o,proof:s,key:a,value:c}=await this.queryRawProof(t,r,n),i=pn(s.ops[0],"ics23:iavl",r),u=pn(s.ops[1],"ics23:simple",(0,Tt.toAscii)(t));(0,me.assert)(u.exist),(0,me.assert)(u.exist.value),!c||c.length===0?((0,me.assert)(i.nonexist),(0,Pt.verifyNonExistence)(i.nonexist,Pt.iavlSpec,u.exist.value,r)):((0,me.assert)(i.exist),(0,me.assert)(i.exist.value),(0,Pt.verifyExistence)(i.exist,Pt.iavlSpec,u.exist.value,r,c));const d=await this.getNextHeader(o);return(0,Pt.verifyExistence)(u.exist,Pt.tendermintSpec,d.appHash,(0,Tt.toAscii)(t),u.exist.value),{key:a,value:c,height:o}}async queryRawProof(t,r,n){const{key:o,value:s,height:a,proof:c,code:i,log:u}=await this.cometClient.abciQuery({path:`/store/${t}/key`,data:r,prove:!0,height:n});if(i)throw new Error(`Query failed with (${i}): ${u}`);if(!(0,me.arrayContentEquals)(r,o))throw new Error(`Response key ${(0,Tt.toHex)(o)} doesn't match query key ${(0,Tt.toHex)(r)}`);if(!a)throw new Error("No query height returned");if(!c||c.ops.length!==2)throw new Error(`Expected 2 proof ops, got ${c?.ops.length??0}. Are you using stargate?`);return pn(c.ops[0],"ics23:iavl",o),pn(c.ops[1],"ics23:simple",(0,Tt.toAscii)(t)),{key:o,value:s,height:a,proof:{ops:[...c.ops]}}}async queryAbci(t,r,n){const o=await this.cometClient.abciQuery({path:t,data:r,prove:!1,height:n});if(o.code)throw new Error(`Query failed with (${o.code}): ${o.log}`);if(!o.height)throw new Error("No query height returned");return{value:o.value,height:o.height}}async getNextHeader(t){if((0,me.assertDefined)(t),t===0)throw new Error("Query returned height 0, cannot prove it");const r=t+1;let n,o;try{o=this.cometClient.subscribeNewBlockHeader()}catch{}if(o){const s=await(0,em.firstEvent)(o);s.height===r&&(n=s)}for(;!n;){const s=(await this.cometClient.blockchain(t,r)).blockMetas.map(a=>a.header).find(a=>a.height===r);s?n=s:await(0,me.sleep)(1e3)}return(0,me.assert)(n.height===r,"Got wrong header. This is a bug in the logic above."),n}}to.QueryClient=zs;var Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.decodeCosmosSdkDecFromProto=Me.longify=Me.createProtobufRpcClient=Me.createPagination=Me.toAccAddress=void 0;const Xi=N,Yi=ee,qa=Vu;function tm(e){return(0,Xi.fromBech32)(e).data}Me.toAccAddress=tm;function rm(e){return e?qa.PageRequest.fromPartial({key:e}):qa.PageRequest.fromPartial({})}Me.createPagination=rm;function nm(e){return{request:async(t,r,n)=>{const o=`/${t}/${r}`;return(await e.queryAbci(o,n,void 0)).value}}}Me.createProtobufRpcClient=nm;function om(e){const t=Yi.Uint64.fromString(e.toString());return BigInt(t.toString())}Me.longify=om;function sm(e){const t=typeof e=="string"?e:(0,Xi.fromAscii)(e);return Yi.Decimal.fromAtomics(t,18)}Me.decodeCosmosSdkDecFromProto=sm;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.longify=e.decodeCosmosSdkDecFromProto=e.createProtobufRpcClient=e.createPagination=e.QueryClient=void 0;var t=to;Object.defineProperty(e,"QueryClient",{enumerable:!0,get:function(){return t.QueryClient}});var r=Me;Object.defineProperty(e,"createPagination",{enumerable:!0,get:function(){return r.createPagination}}),Object.defineProperty(e,"createProtobufRpcClient",{enumerable:!0,get:function(){return r.createProtobufRpcClient}}),Object.defineProperty(e,"decodeCosmosSdkDecFromProto",{enumerable:!0,get:function(){return r.decodeCosmosSdkDecFromProto}}),Object.defineProperty(e,"longify",{enumerable:!0,get:function(){return r.longify}})})(ie);Object.defineProperty(eo,"__esModule",{value:!0});eo.setupAuthExtension=void 0;const am=qu,im=ie;function cm(e){const t=(0,im.createProtobufRpcClient)(e),r=new am.QueryClientImpl(t);return{auth:{account:async n=>{const{account:o}=await r.Account({address:n});return o??null}}}}eo.setupAuthExtension=cm;var io={};Object.defineProperty(io,"__esModule",{value:!0});io.createAuthzAminoConverters=void 0;function um(){return{}}io.createAuthzAminoConverters=um;var co={};Object.defineProperty(co,"__esModule",{value:!0});co.authzTypes=void 0;const ns=ku;co.authzTypes=[["/cosmos.authz.v1beta1.MsgExec",ns.MsgExec],["/cosmos.authz.v1beta1.MsgGrant",ns.MsgGrant],["/cosmos.authz.v1beta1.MsgRevoke",ns.MsgRevoke]];var uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.setupAuthzExtension=void 0;const dm=Fu,mn=ie;function lm(e){const t=(0,mn.createProtobufRpcClient)(e),r=new dm.QueryClientImpl(t);return{authz:{grants:async(n,o,s,a)=>await r.Grants({granter:n,grantee:o,msgTypeUrl:s,pagination:(0,mn.createPagination)(a)}),granteeGrants:async(n,o)=>await r.GranteeGrants({grantee:n,pagination:(0,mn.createPagination)(o)}),granterGrants:async(n,o)=>await r.GranterGrants({granter:n,pagination:(0,mn.createPagination)(o)})}}}uo.setupAuthzExtension=lm;var mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.createBankAminoConverters=mt.isAminoMsgMultiSend=mt.isAminoMsgSend=void 0;function pm(e){return e.type==="cosmos-sdk/MsgSend"}mt.isAminoMsgSend=pm;function mm(e){return e.type==="cosmos-sdk/MsgMultiSend"}mt.isAminoMsgMultiSend=mm;function hm(){return{"/cosmos.bank.v1beta1.MsgSend":{aminoType:"cosmos-sdk/MsgSend",toAmino:({fromAddress:e,toAddress:t,amount:r})=>({from_address:e,to_address:t,amount:[...r]}),fromAmino:({from_address:e,to_address:t,amount:r})=>({fromAddress:e,toAddress:t,amount:[...r]})},"/cosmos.bank.v1beta1.MsgMultiSend":{aminoType:"cosmos-sdk/MsgMultiSend",toAmino:({inputs:e,outputs:t})=>({inputs:e.map(r=>({address:r.address,coins:[...r.coins]})),outputs:t.map(r=>({address:r.address,coins:[...r.coins]}))}),fromAmino:({inputs:e,outputs:t})=>({inputs:e.map(r=>({address:r.address,coins:[...r.coins]})),outputs:t.map(r=>({address:r.address,coins:[...r.coins]}))})}}}mt.createBankAminoConverters=hm;var nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.isMsgSendEncodeObject=nr.bankTypes=void 0;const Fa=ci;nr.bankTypes=[["/cosmos.bank.v1beta1.MsgMultiSend",Fa.MsgMultiSend],["/cosmos.bank.v1beta1.MsgSend",Fa.MsgSend]];function fm(e){return e.typeUrl==="/cosmos.bank.v1beta1.MsgSend"}nr.isMsgSendEncodeObject=fm;var lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.setupBankExtension=void 0;const os=Z,ss=$u,$a=ie;function gm(e){const t=(0,$a.createProtobufRpcClient)(e),r=new ss.QueryClientImpl(t);return{bank:{balance:async(n,o)=>{const{balance:s}=await r.Balance({address:n,denom:o});return(0,os.assert)(s),s},allBalances:async n=>{const{balances:o}=await r.AllBalances(ss.QueryAllBalancesRequest.fromPartial({address:n}));return o},totalSupply:async n=>await r.TotalSupply({pagination:(0,$a.createPagination)(n)}),supplyOf:async n=>{const{amount:o}=await r.SupplyOf({denom:n});return(0,os.assert)(o),o},denomMetadata:async n=>{const{metadata:o}=await r.DenomMetadata({denom:n});return(0,os.assert)(o),o},denomsMetadata:async()=>{const{metadatas:n}=await r.DenomsMetadata(ss.QueryDenomsMetadataRequest.fromPartial({pagination:void 0}));return n}}}}lo.setupBankExtension=gm;var or={};Object.defineProperty(or,"__esModule",{value:!0});or.createCrysisAminoConverters=or.isAminoMsgVerifyInvariant=void 0;function ym(e){return e.type==="cosmos-sdk/MsgVerifyInvariant"}or.isAminoMsgVerifyInvariant=ym;function bm(){throw new Error("Not implemented")}or.createCrysisAminoConverters=bm;var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.createDistributionAminoConverters=Ce.isAminoMsgFundCommunityPool=Ce.isAminoMsgWithdrawValidatorCommission=Ce.isAminoMsgWithdrawDelegatorReward=Ce.isAminoMsgSetWithdrawAddress=void 0;function vm(e){return e.type==="cosmos-sdk/MsgModifyWithdrawAddress"}Ce.isAminoMsgSetWithdrawAddress=vm;function wm(e){return e.type==="cosmos-sdk/MsgWithdrawDelegationReward"}Ce.isAminoMsgWithdrawDelegatorReward=wm;function km(e){return e.type==="cosmos-sdk/MsgWithdrawValidatorCommission"}Ce.isAminoMsgWithdrawValidatorCommission=km;function Sm(e){return e.type==="cosmos-sdk/MsgFundCommunityPool"}Ce.isAminoMsgFundCommunityPool=Sm;function Pm(){return{"/cosmos.distribution.v1beta1.MsgFundCommunityPool":{aminoType:"cosmos-sdk/MsgFundCommunityPool",toAmino:({amount:e,depositor:t})=>({amount:[...e],depositor:t}),fromAmino:({amount:e,depositor:t})=>({amount:[...e],depositor:t})},"/cosmos.distribution.v1beta1.MsgSetWithdrawAddress":{aminoType:"cosmos-sdk/MsgModifyWithdrawAddress",toAmino:({delegatorAddress:e,withdrawAddress:t})=>({delegator_address:e,withdraw_address:t}),fromAmino:({delegator_address:e,withdraw_address:t})=>({delegatorAddress:e,withdrawAddress:t})},"/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward":{aminoType:"cosmos-sdk/MsgWithdrawDelegationReward",toAmino:({delegatorAddress:e,validatorAddress:t})=>({delegator_address:e,validator_address:t}),fromAmino:({delegator_address:e,validator_address:t})=>({delegatorAddress:e,validatorAddress:t})},"/cosmos.distribution.v1beta1.MsgWithdrawValidatorCommission":{aminoType:"cosmos-sdk/MsgWithdrawValidatorCommission",toAmino:({validatorAddress:e})=>({validator_address:e}),fromAmino:({validator_address:e})=>({validatorAddress:e})}}}Ce.createDistributionAminoConverters=Pm;var sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.isMsgWithdrawDelegatorRewardEncodeObject=sr.distributionTypes=void 0;const hn=ui;sr.distributionTypes=[["/cosmos.distribution.v1beta1.MsgFundCommunityPool",hn.MsgFundCommunityPool],["/cosmos.distribution.v1beta1.MsgSetWithdrawAddress",hn.MsgSetWithdrawAddress],["/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",hn.MsgWithdrawDelegatorReward],["/cosmos.distribution.v1beta1.MsgWithdrawValidatorCommission",hn.MsgWithdrawValidatorCommission]];function Am(e){return e.typeUrl==="/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward"}sr.isMsgWithdrawDelegatorRewardEncodeObject=Am;var po={};Object.defineProperty(po,"__esModule",{value:!0});po.setupDistributionExtension=void 0;const Em=Wu,Wa=ie;function Tm(e){const t=(0,Wa.createProtobufRpcClient)(e),r=new Em.QueryClientImpl(t);return{distribution:{communityPool:async()=>await r.CommunityPool({}),delegationRewards:async(n,o)=>await r.DelegationRewards({delegatorAddress:n,validatorAddress:o}),delegationTotalRewards:async n=>await r.DelegationTotalRewards({delegatorAddress:n}),delegatorValidators:async n=>await r.DelegatorValidators({delegatorAddress:n}),delegatorWithdrawAddress:async n=>await r.DelegatorWithdrawAddress({delegatorAddress:n}),params:async()=>await r.Params({}),validatorCommission:async n=>await r.ValidatorCommission({validatorAddress:n}),validatorOutstandingRewards:async n=>await r.ValidatorOutstandingRewards({validatorAddress:n}),validatorSlashes:async(n,o,s,a)=>await r.ValidatorSlashes({validatorAddress:n,startingHeight:BigInt(o),endingHeight:BigInt(s),pagination:(0,Wa.createPagination)(a)})}}}po.setupDistributionExtension=Tm;var ar={};Object.defineProperty(ar,"__esModule",{value:!0});ar.createEvidenceAminoConverters=ar.isAminoMsgSubmitEvidence=void 0;function xm(e){return e.type==="cosmos-sdk/MsgSubmitEvidence"}ar.isAminoMsgSubmitEvidence=xm;function _m(){throw new Error("Not implemented")}ar.createEvidenceAminoConverters=_m;var mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.createFeegrantAminoConverters=void 0;function Mm(){return{}}mo.createFeegrantAminoConverters=Mm;var ho={};Object.defineProperty(ho,"__esModule",{value:!0});ho.feegrantTypes=void 0;const Ja=Su;ho.feegrantTypes=[["/cosmos.feegrant.v1beta1.MsgGrantAllowance",Ja.MsgGrantAllowance],["/cosmos.feegrant.v1beta1.MsgRevokeAllowance",Ja.MsgRevokeAllowance]];var fo={};Object.defineProperty(fo,"__esModule",{value:!0});fo.setupFeegrantExtension=void 0;const Cm=Ju,Ga=ie;function Om(e){const t=(0,Ga.createProtobufRpcClient)(e),r=new Cm.QueryClientImpl(t);return{feegrant:{allowance:async(n,o)=>await r.Allowance({granter:n,grantee:o}),allowances:async(n,o)=>await r.Allowances({grantee:n,pagination:(0,Ga.createPagination)(o)})}}}fo.setupFeegrantExtension=Om;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.createGovAminoConverters=Oe.isAminoMsgDeposit=Oe.isAminoMsgVoteWeighted=Oe.isAminoMsgVote=Oe.isAminoMsgSubmitProposal=void 0;const jm=ee,Cr=Z,Or=Gu,Bm=Is,Im=ie;function Rm(e){return e.type==="cosmos-sdk/MsgSubmitProposal"}Oe.isAminoMsgSubmitProposal=Rm;function Nm(e){return e.type==="cosmos-sdk/MsgVote"}Oe.isAminoMsgVote=Nm;function Dm(e){return e.type==="cosmos-sdk/MsgVoteWeighted"}Oe.isAminoMsgVoteWeighted=Dm;function Um(e){return e.type==="cosmos-sdk/MsgDeposit"}Oe.isAminoMsgDeposit=Um;function Hm(){return{"/cosmos.gov.v1beta1.MsgDeposit":{aminoType:"cosmos-sdk/MsgDeposit",toAmino:({amount:e,depositor:t,proposalId:r})=>({amount:e,depositor:t,proposal_id:r.toString()}),fromAmino:({amount:e,depositor:t,proposal_id:r})=>({amount:Array.from(e),depositor:t,proposalId:BigInt(r)})},"/cosmos.gov.v1beta1.MsgVote":{aminoType:"cosmos-sdk/MsgVote",toAmino:({option:e,proposalId:t,voter:r})=>({option:e,proposal_id:t.toString(),voter:r}),fromAmino:({option:e,proposal_id:t,voter:r})=>({option:(0,Or.voteOptionFromJSON)(e),proposalId:BigInt(t),voter:r})},"/cosmos.gov.v1beta1.MsgVoteWeighted":{aminoType:"cosmos-sdk/MsgVoteWeighted",toAmino:({options:e,proposalId:t,voter:r})=>({options:e.map(n=>({option:n.option,weight:(0,Im.decodeCosmosSdkDecFromProto)(n.weight).toString().padEnd(20,"0")})),proposal_id:t.toString(),voter:r}),fromAmino:({options:e,proposal_id:t,voter:r})=>({proposalId:BigInt(t),voter:r,options:e.map(n=>({option:(0,Or.voteOptionFromJSON)(n.option),weight:jm.Decimal.fromUserInput(n.weight,18).atomics}))})},"/cosmos.gov.v1beta1.MsgSubmitProposal":{aminoType:"cosmos-sdk/MsgSubmitProposal",toAmino:({initialDeposit:e,proposer:t,content:r})=>{(0,Cr.assertDefinedAndNotNull)(r);let n;switch(r.typeUrl){case"/cosmos.gov.v1beta1.TextProposal":{const o=Or.TextProposal.decode(r.value);n={type:"cosmos-sdk/TextProposal",value:{description:o.description,title:o.title}};break}default:throw new Error(`Unsupported proposal type: '${r.typeUrl}'`)}return{initial_deposit:e,proposer:t,content:n}},fromAmino:({initial_deposit:e,proposer:t,content:r})=>{let n;switch(r.type){case"cosmos-sdk/TextProposal":{const{value:o}=r;(0,Cr.assert)((0,Cr.isNonNullObject)(o));const{title:s,description:a}=o;(0,Cr.assert)(typeof s=="string"),(0,Cr.assert)(typeof a=="string"),n=Bm.Any.fromPartial({typeUrl:"/cosmos.gov.v1beta1.TextProposal",value:Or.TextProposal.encode(Or.TextProposal.fromPartial({title:s,description:a})).finish()});break}default:throw new Error(`Unsupported proposal type: '${r.type}'`)}return{initialDeposit:Array.from(e),proposer:t,content:n}}}}}Oe.createGovAminoConverters=Hm;var je={};Object.defineProperty(je,"__esModule",{value:!0});je.isMsgVoteWeightedEncodeObject=je.isMsgVoteEncodeObject=je.isMsgSubmitProposalEncodeObject=je.isMsgDepositEncodeObject=je.govTypes=void 0;const jr=Pu,fn=Au;je.govTypes=[["/cosmos.gov.v1.MsgDeposit",jr.MsgDeposit],["/cosmos.gov.v1.MsgSubmitProposal",jr.MsgSubmitProposal],["/cosmos.gov.v1.MsgUpdateParams",jr.MsgUpdateParams],["/cosmos.gov.v1.MsgVote",jr.MsgVote],["/cosmos.gov.v1.MsgVoteWeighted",jr.MsgVoteWeighted],["/cosmos.gov.v1beta1.MsgDeposit",fn.MsgDeposit],["/cosmos.gov.v1beta1.MsgSubmitProposal",fn.MsgSubmitProposal],["/cosmos.gov.v1beta1.MsgVote",fn.MsgVote],["/cosmos.gov.v1beta1.MsgVoteWeighted",fn.MsgVoteWeighted]];function Vm(e){return e.typeUrl==="/cosmos.gov.v1beta1.MsgDeposit"}je.isMsgDepositEncodeObject=Vm;function qm(e){return e.typeUrl==="/cosmos.gov.v1beta1.MsgSubmitProposal"}je.isMsgSubmitProposalEncodeObject=qm;function Fm(e){return e.typeUrl==="/cosmos.gov.v1beta1.MsgVote"}je.isMsgVoteEncodeObject=Fm;function $m(e){return e.typeUrl==="/cosmos.gov.v1beta1.MsgVoteWeighted"}je.isMsgVoteWeightedEncodeObject=$m;var go={};Object.defineProperty(go,"__esModule",{value:!0});go.setupGovExtension=void 0;const Wm=zu,$e=ie;function Jm(e){const t=(0,$e.createProtobufRpcClient)(e),r=new Wm.QueryClientImpl(t);return{gov:{params:async n=>await r.Params({paramsType:n}),proposals:async(n,o,s,a)=>await r.Proposals({proposalStatus:n,depositor:o,voter:s,pagination:(0,$e.createPagination)(a)}),proposal:async n=>await r.Proposal({proposalId:(0,$e.longify)(n)}),deposits:async(n,o)=>await r.Deposits({proposalId:(0,$e.longify)(n),pagination:(0,$e.createPagination)(o)}),deposit:async(n,o)=>await r.Deposit({proposalId:(0,$e.longify)(n),depositor:o}),tally:async n=>await r.TallyResult({proposalId:(0,$e.longify)(n)}),votes:async(n,o)=>await r.Votes({proposalId:(0,$e.longify)(n),pagination:(0,$e.createPagination)(o)}),vote:async(n,o)=>await r.Vote({proposalId:(0,$e.longify)(n),voter:o})}}}go.setupGovExtension=Jm;var yo={};Object.defineProperty(yo,"__esModule",{value:!0});yo.createGroupAminoConverters=void 0;function Gm(){return{}}yo.createGroupAminoConverters=Gm;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.groupTypes=void 0;const ue=Eu;bo.groupTypes=[["/cosmos.group.v1.MsgCreateGroup",ue.MsgCreateGroup],["/cosmos.group.v1.MsgCreateGroupPolicy",ue.MsgCreateGroupPolicy],["/cosmos.group.v1.MsgCreateGroupWithPolicy",ue.MsgCreateGroupWithPolicy],["/cosmos.group.v1.MsgExec",ue.MsgExec],["/cosmos.group.v1.MsgLeaveGroup",ue.MsgLeaveGroup],["/cosmos.group.v1.MsgSubmitProposal",ue.MsgSubmitProposal],["/cosmos.group.v1.MsgUpdateGroupAdmin",ue.MsgUpdateGroupAdmin],["/cosmos.group.v1.MsgUpdateGroupMembers",ue.MsgUpdateGroupMembers],["/cosmos.group.v1.MsgUpdateGroupMetadata",ue.MsgUpdateGroupMetadata],["/cosmos.group.v1.MsgUpdateGroupPolicyAdmin",ue.MsgUpdateGroupPolicyAdmin],["/cosmos.group.v1.MsgUpdateGroupPolicyDecisionPolicy",ue.MsgUpdateGroupPolicyDecisionPolicy],["/cosmos.group.v1.MsgUpdateGroupPolicyMetadata",ue.MsgUpdateGroupPolicyMetadata],["/cosmos.group.v1.MsgVote",ue.MsgVote],["/cosmos.group.v1.MsgWithdrawProposal",ue.MsgWithdrawProposal]];var ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.createIbcAminoConverters=ir.isAminoMsgTransfer=void 0;const gn=st,zm=Vn;function Lm(e){return e.type==="cosmos-sdk/MsgTransfer"}ir.isAminoMsgTransfer=Lm;function Qm(){return{"/ibc.applications.transfer.v1.MsgTransfer":{aminoType:"cosmos-sdk/MsgTransfer",toAmino:({sourcePort:e,sourceChannel:t,token:r,sender:n,receiver:o,timeoutHeight:s,timeoutTimestamp:a,memo:c})=>{var i,u,d;return{source_port:e,source_channel:t,token:r,sender:n,receiver:o,timeout_height:s?{revision_height:(i=(0,gn.omitDefault)(s.revisionHeight))==null?void 0:i.toString(),revision_number:(u=(0,gn.omitDefault)(s.revisionNumber))==null?void 0:u.toString()}:{},timeout_timestamp:(d=(0,gn.omitDefault)(a))==null?void 0:d.toString(),memo:(0,gn.omitDefault)(c)}},fromAmino:({source_port:e,source_channel:t,token:r,sender:n,receiver:o,timeout_height:s,timeout_timestamp:a,memo:c})=>zm.MsgTransfer.fromPartial({sourcePort:e,sourceChannel:t,token:r,sender:n,receiver:o,timeoutHeight:s?{revisionHeight:BigInt(s.revision_height||"0"),revisionNumber:BigInt(s.revision_number||"0")}:void 0,timeoutTimestamp:BigInt(a||"0"),memo:c??""})}}}ir.createIbcAminoConverters=Qm;var cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.isMsgTransferEncodeObject=cr.ibcTypes=void 0;const Km=Vn,We=Tu,yn=xu,bn=_u;cr.ibcTypes=[["/ibc.applications.transfer.v1.MsgTransfer",Km.MsgTransfer],["/ibc.core.channel.v1.MsgAcknowledgement",We.MsgAcknowledgement],["/ibc.core.channel.v1.MsgChannelCloseConfirm",We.MsgChannelCloseConfirm],["/ibc.core.channel.v1.MsgChannelCloseInit",We.MsgChannelCloseInit],["/ibc.core.channel.v1.MsgChannelOpenAck",We.MsgChannelOpenAck],["/ibc.core.channel.v1.MsgChannelOpenConfirm",We.MsgChannelOpenConfirm],["/ibc.core.channel.v1.MsgChannelOpenInit",We.MsgChannelOpenInit],["/ibc.core.channel.v1.MsgChannelOpenTry",We.MsgChannelOpenTry],["/ibc.core.channel.v1.MsgRecvPacket",We.MsgRecvPacket],["/ibc.core.channel.v1.MsgTimeout",We.MsgTimeout],["/ibc.core.channel.v1.MsgTimeoutOnClose",We.MsgTimeoutOnClose],["/ibc.core.client.v1.MsgCreateClient",yn.MsgCreateClient],["/ibc.core.client.v1.MsgSubmitMisbehaviour",yn.MsgSubmitMisbehaviour],["/ibc.core.client.v1.MsgUpdateClient",yn.MsgUpdateClient],["/ibc.core.client.v1.MsgUpgradeClient",yn.MsgUpgradeClient],["/ibc.core.connection.v1.MsgConnectionOpenAck",bn.MsgConnectionOpenAck],["/ibc.core.connection.v1.MsgConnectionOpenConfirm",bn.MsgConnectionOpenConfirm],["/ibc.core.connection.v1.MsgConnectionOpenInit",bn.MsgConnectionOpenInit],["/ibc.core.connection.v1.MsgConnectionOpenTry",bn.MsgConnectionOpenTry]];function Zm(e){return e.typeUrl==="/ibc.applications.transfer.v1.MsgTransfer"}cr.isMsgTransferEncodeObject=Zm;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.setupIbcExtension=void 0;const vn=N,Xm=ee,za=Lu,Ym=Qu,kt=Ku,Br=Zu,as=Xu,ec=sd,L=ie;function is(e){if(e?.typeUrl!=="/ibc.lightclients.tendermint.v1.ClientState")throw new Error(`Unexpected client state type: ${e?.typeUrl}`);return ec.ClientState.decode(e.value)}function eh(e){if(e?.typeUrl!=="/ibc.lightclients.tendermint.v1.ConsensusState")throw new Error(`Unexpected client state type: ${e?.typeUrl}`);return ec.ConsensusState.decode(e.value)}function th(e){const t=(0,L.createProtobufRpcClient)(e),r=new kt.QueryClientImpl(t),n=new Br.QueryClientImpl(t),o=new as.QueryClientImpl(t),s=new za.QueryClientImpl(t);return{ibc:{channel:{channel:async(a,c)=>r.Channel({portId:a,channelId:c}),channels:async a=>r.Channels({pagination:(0,L.createPagination)(a)}),allChannels:async()=>{var a;const c=[];let i,u;do i=await r.Channels({pagination:(0,L.createPagination)(u)}),c.push(...i.channels),u=(a=i.pagination)==null?void 0:a.nextKey;while(u&&u.length);return kt.QueryChannelsResponse.fromPartial({channels:c,height:i.height})},connectionChannels:async(a,c)=>r.ConnectionChannels({connection:a,pagination:(0,L.createPagination)(c)}),allConnectionChannels:async a=>{var c;const i=[];let u,d;do u=await r.ConnectionChannels({connection:a,pagination:(0,L.createPagination)(d)}),i.push(...u.channels),d=(c=u.pagination)==null?void 0:c.nextKey;while(d&&d.length);return kt.QueryConnectionChannelsResponse.fromPartial({channels:i,height:u.height})},clientState:async(a,c)=>r.ChannelClientState({portId:a,channelId:c}),consensusState:async(a,c,i,u)=>r.ChannelConsensusState({portId:a,channelId:c,revisionNumber:BigInt(i),revisionHeight:BigInt(u)}),packetCommitment:async(a,c,i)=>r.PacketCommitment({portId:a,channelId:c,sequence:(0,L.longify)(i)}),packetCommitments:async(a,c,i)=>r.PacketCommitments({channelId:c,portId:a,pagination:(0,L.createPagination)(i)}),allPacketCommitments:async(a,c)=>{var i;const u=[];let d,g;do d=await r.PacketCommitments({channelId:c,portId:a,pagination:(0,L.createPagination)(g)}),u.push(...d.commitments),g=(i=d.pagination)==null?void 0:i.nextKey;while(g&&g.length);return kt.QueryPacketCommitmentsResponse.fromPartial({commitments:u,height:d.height})},packetReceipt:async(a,c,i)=>r.PacketReceipt({portId:a,channelId:c,sequence:(0,L.longify)(i)}),packetAcknowledgement:async(a,c,i)=>r.PacketAcknowledgement({portId:a,channelId:c,sequence:(0,L.longify)(i)}),packetAcknowledgements:async(a,c,i)=>{const u=kt.QueryPacketAcknowledgementsRequest.fromPartial({portId:a,channelId:c,pagination:(0,L.createPagination)(i)});return r.PacketAcknowledgements(u)},allPacketAcknowledgements:async(a,c)=>{var i;const u=[];let d,g;do{const T=kt.QueryPacketAcknowledgementsRequest.fromPartial({channelId:c,portId:a,pagination:(0,L.createPagination)(g)});d=await r.PacketAcknowledgements(T),u.push(...d.acknowledgements),g=(i=d.pagination)==null?void 0:i.nextKey}while(g&&g.length);return kt.QueryPacketAcknowledgementsResponse.fromPartial({acknowledgements:u,height:d.height})},unreceivedPackets:async(a,c,i)=>r.UnreceivedPackets({portId:a,channelId:c,packetCommitmentSequences:i.map(u=>BigInt(u))}),unreceivedAcks:async(a,c,i)=>r.UnreceivedAcks({portId:a,channelId:c,packetAckSequences:i.map(u=>BigInt(u))}),nextSequenceReceive:async(a,c)=>r.NextSequenceReceive({portId:a,channelId:c})},client:{state:async a=>n.ClientState({clientId:a}),states:async a=>n.ClientStates({pagination:(0,L.createPagination)(a)}),allStates:async()=>{var a;const c=[];let i,u;do i=await n.ClientStates({pagination:(0,L.createPagination)(u)}),c.push(...i.clientStates),u=(a=i.pagination)==null?void 0:a.nextKey;while(u&&u.length);return Br.QueryClientStatesResponse.fromPartial({clientStates:c})},consensusState:async(a,c)=>n.ConsensusState(Br.QueryConsensusStateRequest.fromPartial({clientId:a,revisionHeight:c!==void 0?BigInt(c):void 0,latestHeight:c===void 0})),consensusStates:async(a,c)=>n.ConsensusStates({clientId:a,pagination:(0,L.createPagination)(c)}),allConsensusStates:async a=>{var c;const i=[];let u,d;do u=await n.ConsensusStates({clientId:a,pagination:(0,L.createPagination)(d)}),i.push(...u.consensusStates),d=(c=u.pagination)==null?void 0:c.nextKey;while(d&&d.length);return Br.QueryConsensusStatesResponse.fromPartial({consensusStates:i})},params:async()=>n.ClientParams({}),stateTm:async a=>{const c=await n.ClientState({clientId:a});return is(c.clientState)},statesTm:async a=>{const{clientStates:c}=await n.ClientStates({pagination:(0,L.createPagination)(a)});return c.map(({clientState:i})=>is(i))},allStatesTm:async()=>{var a;const c=[];let i,u;do i=await n.ClientStates({pagination:(0,L.createPagination)(u)}),c.push(...i.clientStates),u=(a=i.pagination)==null?void 0:a.nextKey;while(u&&u.length);return c.map(({clientState:d})=>is(d))},consensusStateTm:async(a,c)=>{const i=await n.ConsensusState(Br.QueryConsensusStateRequest.fromPartial({clientId:a,revisionHeight:c?.revisionHeight,revisionNumber:c?.revisionNumber,latestHeight:c===void 0}));return eh(i.consensusState)}},connection:{connection:async a=>o.Connection({connectionId:a}),connections:async a=>o.Connections({pagination:(0,L.createPagination)(a)}),allConnections:async()=>{var a;const c=[];let i,u;do i=await o.Connections({pagination:(0,L.createPagination)(u)}),c.push(...i.connections),u=(a=i.pagination)==null?void 0:a.nextKey;while(u&&u.length);return as.QueryConnectionsResponse.fromPartial({connections:c,height:i.height})},clientConnections:async a=>o.ClientConnections({clientId:a}),clientState:async a=>o.ConnectionClientState({connectionId:a}),consensusState:async(a,c)=>o.ConnectionConsensusState(as.QueryConnectionConsensusStateRequest.fromPartial({connectionId:a,revisionHeight:BigInt(c)}))},transfer:{denomTrace:async a=>s.DenomTrace({hash:a}),denomTraces:async a=>s.DenomTraces({pagination:(0,L.createPagination)(a)}),allDenomTraces:async()=>{var a;const c=[];let i,u;do i=await s.DenomTraces({pagination:(0,L.createPagination)(u)}),c.push(...i.denomTraces),u=(a=i.pagination)==null?void 0:a.nextKey;while(u&&u.length);return za.QueryDenomTracesResponse.fromPartial({denomTraces:c})},params:async()=>s.Params({})},verified:{channel:{channel:async(a,c)=>{const i=(0,vn.toAscii)(`channelEnds/ports/${a}/channels/${c}`),{value:u}=await e.queryStoreVerified("ibc",i);return u.length?Ym.Channel.decode(u):null},packetCommitment:async(a,c,i)=>{const u=(0,vn.toAscii)(`commitments/ports/${a}/channels/${c}/packets/${i}`),{value:d}=await e.queryStoreVerified("ibc",u);return d},packetAcknowledgement:async(a,c,i)=>{const u=(0,vn.toAscii)(`acks/ports/${a}/channels/${c}/acknowledgements/${i}`),{value:d}=await e.queryStoreVerified("ibc",u);return d},nextSequenceReceive:async(a,c)=>{const i=(0,vn.toAscii)(`seqAcks/ports/${a}/channels/${c}/nextSequenceAck`),{value:u}=await e.queryStoreVerified("ibc",i);return u.length?Xm.Uint64.fromBytes(u).toNumber():null}}}}}}vo.setupIbcExtension=th;var wo={};Object.defineProperty(wo,"__esModule",{value:!0});wo.setupMintExtension=void 0;const rh=Z,nh=Yu,St=ie;function oh(e){const t=(0,St.createProtobufRpcClient)(e),r=new nh.QueryClientImpl(t);return{mint:{params:async()=>{const{params:n}=await r.Params({});return(0,rh.assert)(n),{blocksPerYear:n.blocksPerYear,goalBonded:(0,St.decodeCosmosSdkDecFromProto)(n.goalBonded),inflationMin:(0,St.decodeCosmosSdkDecFromProto)(n.inflationMin),inflationMax:(0,St.decodeCosmosSdkDecFromProto)(n.inflationMax),inflationRateChange:(0,St.decodeCosmosSdkDecFromProto)(n.inflationRateChange),mintDenom:n.mintDenom}},inflation:async()=>{const{inflation:n}=await r.Inflation({});return(0,St.decodeCosmosSdkDecFromProto)(n)},annualProvisions:async()=>{const{annualProvisions:n}=await r.AnnualProvisions({});return(0,St.decodeCosmosSdkDecFromProto)(n)}}}}wo.setupMintExtension=oh;var ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.createSlashingAminoConverters=ur.isAminoMsgUnjail=void 0;function sh(e){return e.type==="cosmos-sdk/MsgUnjail"}ur.isAminoMsgUnjail=sh;function ah(){throw new Error("Not implemented")}ur.createSlashingAminoConverters=ah;var ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.setupSlashingExtension=void 0;const ih=ed,La=ie;function ch(e){const t=(0,La.createProtobufRpcClient)(e),r=new ih.QueryClientImpl(t);return{slashing:{signingInfo:async n=>await r.SigningInfo({consAddress:n}),signingInfos:async n=>await r.SigningInfos({pagination:(0,La.createPagination)(n)}),params:async()=>await r.Params({})}}}ko.setupSlashingExtension=ch;var X={};Object.defineProperty(X,"__esModule",{value:!0});X.createStakingAminoConverters=X.isAminoMsgCancelUnbondingDelegation=X.isAminoMsgUndelegate=X.isAminoMsgBeginRedelegate=X.isAminoMsgDelegate=X.isAminoMsgEditValidator=X.isAminoMsgCreateValidator=X.protoDecimalToJson=void 0;const tc=ee,Qa=bt,et=Z;function Nr(e){const t=tc.Decimal.fromAtomics(e,18),[r,n]=t.toString().split(".");return`${r}.${(n??"").padEnd(18,"0")}`}X.protoDecimalToJson=Nr;function wn(e){return tc.Decimal.fromUserInput(e,18).atomics}function uh(e){return e.type==="cosmos-sdk/MsgCreateValidator"}X.isAminoMsgCreateValidator=uh;function dh(e){return e.type==="cosmos-sdk/MsgEditValidator"}X.isAminoMsgEditValidator=dh;function lh(e){return e.type==="cosmos-sdk/MsgDelegate"}X.isAminoMsgDelegate=lh;function ph(e){return e.type==="cosmos-sdk/MsgBeginRedelegate"}X.isAminoMsgBeginRedelegate=ph;function mh(e){return e.type==="cosmos-sdk/MsgUndelegate"}X.isAminoMsgUndelegate=mh;function hh(e){return e.type==="cosmos-sdk/MsgCancelUnbondingDelegation"}X.isAminoMsgCancelUnbondingDelegation=hh;function fh(){return{"/cosmos.staking.v1beta1.MsgBeginRedelegate":{aminoType:"cosmos-sdk/MsgBeginRedelegate",toAmino:({delegatorAddress:e,validatorSrcAddress:t,validatorDstAddress:r,amount:n})=>((0,et.assertDefinedAndNotNull)(n,"missing amount"),{delegator_address:e,validator_src_address:t,validator_dst_address:r,amount:n}),fromAmino:({delegator_address:e,validator_src_address:t,validator_dst_address:r,amount:n})=>({delegatorAddress:e,validatorSrcAddress:t,validatorDstAddress:r,amount:n})},"/cosmos.staking.v1beta1.MsgCreateValidator":{aminoType:"cosmos-sdk/MsgCreateValidator",toAmino:({description:e,commission:t,minSelfDelegation:r,delegatorAddress:n,validatorAddress:o,pubkey:s,value:a})=>((0,et.assertDefinedAndNotNull)(e,"missing description"),(0,et.assertDefinedAndNotNull)(t,"missing commission"),(0,et.assertDefinedAndNotNull)(s,"missing pubkey"),(0,et.assertDefinedAndNotNull)(a,"missing value"),{description:{moniker:e.moniker,identity:e.identity,website:e.website,security_contact:e.securityContact,details:e.details},commission:{rate:Nr(t.rate),max_rate:Nr(t.maxRate),max_change_rate:Nr(t.maxChangeRate)},min_self_delegation:r,delegator_address:n,validator_address:o,pubkey:(0,Qa.decodePubkey)(s),value:a}),fromAmino:({description:e,commission:t,min_self_delegation:r,delegator_address:n,validator_address:o,pubkey:s,value:a})=>({description:{moniker:e.moniker,identity:e.identity,website:e.website,securityContact:e.security_contact,details:e.details},commission:{rate:wn(t.rate),maxRate:wn(t.max_rate),maxChangeRate:wn(t.max_change_rate)},minSelfDelegation:r,delegatorAddress:n,validatorAddress:o,pubkey:(0,Qa.encodePubkey)(s),value:a})},"/cosmos.staking.v1beta1.MsgDelegate":{aminoType:"cosmos-sdk/MsgDelegate",toAmino:({delegatorAddress:e,validatorAddress:t,amount:r})=>((0,et.assertDefinedAndNotNull)(r,"missing amount"),{delegator_address:e,validator_address:t,amount:r}),fromAmino:({delegator_address:e,validator_address:t,amount:r})=>({delegatorAddress:e,validatorAddress:t,amount:r})},"/cosmos.staking.v1beta1.MsgEditValidator":{aminoType:"cosmos-sdk/MsgEditValidator",toAmino:({description:e,commissionRate:t,minSelfDelegation:r,validatorAddress:n})=>((0,et.assertDefinedAndNotNull)(e,"missing description"),{description:{moniker:e.moniker,identity:e.identity,website:e.website,security_contact:e.securityContact,details:e.details},commission_rate:t?Nr(t):void 0,min_self_delegation:r||void 0,validator_address:n}),fromAmino:({description:e,commission_rate:t,min_self_delegation:r,validator_address:n})=>({description:{moniker:e.moniker,identity:e.identity,website:e.website,securityContact:e.security_contact,details:e.details},commissionRate:t?wn(t):"",minSelfDelegation:r??"",validatorAddress:n})},"/cosmos.staking.v1beta1.MsgUndelegate":{aminoType:"cosmos-sdk/MsgUndelegate",toAmino:({delegatorAddress:e,validatorAddress:t,amount:r})=>((0,et.assertDefinedAndNotNull)(r,"missing amount"),{delegator_address:e,validator_address:t,amount:r}),fromAmino:({delegator_address:e,validator_address:t,amount:r})=>({delegatorAddress:e,validatorAddress:t,amount:r})},"/cosmos.staking.v1beta1.MsgCancelUnbondingDelegation":{aminoType:"cosmos-sdk/MsgCancelUnbondingDelegation",toAmino:({delegatorAddress:e,validatorAddress:t,amount:r,creationHeight:n})=>((0,et.assertDefinedAndNotNull)(r,"missing amount"),{delegator_address:e,validator_address:t,amount:r,creation_height:n.toString()}),fromAmino:({delegator_address:e,validator_address:t,amount:r,creation_height:n})=>({delegatorAddress:e,validatorAddress:t,amount:r,creationHeight:BigInt(n)})}}}X.createStakingAminoConverters=fh;var oe={};Object.defineProperty(oe,"__esModule",{value:!0});oe.isMsgCancelUnbondingDelegationEncodeObject=oe.isMsgUndelegateEncodeObject=oe.isMsgEditValidatorEncodeObject=oe.isMsgDelegateEncodeObject=oe.isMsgCreateValidatorEncodeObject=oe.isMsgBeginRedelegateEncodeObject=oe.stakingTypes=void 0;const Ht=di;oe.stakingTypes=[["/cosmos.staking.v1beta1.MsgBeginRedelegate",Ht.MsgBeginRedelegate],["/cosmos.staking.v1beta1.MsgCreateValidator",Ht.MsgCreateValidator],["/cosmos.staking.v1beta1.MsgDelegate",Ht.MsgDelegate],["/cosmos.staking.v1beta1.MsgEditValidator",Ht.MsgEditValidator],["/cosmos.staking.v1beta1.MsgUndelegate",Ht.MsgUndelegate],["/cosmos.staking.v1beta1.MsgCancelUnbondingDelegation",Ht.MsgCancelUnbondingDelegation]];function gh(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgBeginRedelegate"}oe.isMsgBeginRedelegateEncodeObject=gh;function yh(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgCreateValidator"}oe.isMsgCreateValidatorEncodeObject=yh;function bh(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgDelegate"}oe.isMsgDelegateEncodeObject=bh;function vh(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgEditValidator"}oe.isMsgEditValidatorEncodeObject=vh;function wh(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgUndelegate"}oe.isMsgUndelegateEncodeObject=wh;function kh(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgCancelUnbondingDelegation"}oe.isMsgCancelUnbondingDelegationEncodeObject=kh;var So={};Object.defineProperty(So,"__esModule",{value:!0});So.setupStakingExtension=void 0;const Sh=td,ct=ie;function Ph(e){const t=(0,ct.createProtobufRpcClient)(e),r=new Sh.QueryClientImpl(t);return{staking:{delegation:async(n,o)=>await r.Delegation({delegatorAddr:n,validatorAddr:o}),delegatorDelegations:async(n,o)=>await r.DelegatorDelegations({delegatorAddr:n,pagination:(0,ct.createPagination)(o)}),delegatorUnbondingDelegations:async(n,o)=>await r.DelegatorUnbondingDelegations({delegatorAddr:n,pagination:(0,ct.createPagination)(o)}),delegatorValidator:async(n,o)=>await r.DelegatorValidator({delegatorAddr:n,validatorAddr:o}),delegatorValidators:async(n,o)=>await r.DelegatorValidators({delegatorAddr:n,pagination:(0,ct.createPagination)(o)}),historicalInfo:async n=>await r.HistoricalInfo({height:BigInt(n)}),params:async()=>await r.Params({}),pool:async()=>await r.Pool({}),redelegations:async(n,o,s,a)=>await r.Redelegations({delegatorAddr:n,srcValidatorAddr:o,dstValidatorAddr:s,pagination:(0,ct.createPagination)(a)}),unbondingDelegation:async(n,o)=>await r.UnbondingDelegation({delegatorAddr:n,validatorAddr:o}),validator:async n=>await r.Validator({validatorAddr:n}),validatorDelegations:async(n,o)=>await r.ValidatorDelegations({validatorAddr:n,pagination:(0,ct.createPagination)(o)}),validators:async(n,o)=>await r.Validators({status:n,pagination:(0,ct.createPagination)(o)}),validatorUnbondingDelegations:async(n,o)=>await r.ValidatorUnbondingDelegations({validatorAddr:n,pagination:(0,ct.createPagination)(o)})}}}So.setupStakingExtension=Ph;var Po={};Object.defineProperty(Po,"__esModule",{value:!0});Po.setupTxExtension=void 0;const Ah=bt,Eh=qn,Ka=rd,Ir=Ot,Th=ie;function xh(e){const t=(0,Th.createProtobufRpcClient)(e),r=new Ka.ServiceClientImpl(t);return{tx:{getTx:async n=>{const o={hash:n};return await r.GetTx(o)},simulate:async(n,o,s,a)=>{const c=Ir.Tx.fromPartial({authInfo:Ir.AuthInfo.fromPartial({fee:Ir.Fee.fromPartial({}),signerInfos:[{publicKey:(0,Ah.encodePubkey)(s),sequence:BigInt(a),modeInfo:{single:{mode:Eh.SignMode.SIGN_MODE_UNSPECIFIED}}}]}),body:Ir.TxBody.fromPartial({messages:Array.from(n),memo:o}),signatures:[new Uint8Array]}),i=Ka.SimulateRequest.fromPartial({txBytes:Ir.Tx.encode(c).finish()});return await r.Simulate(i)}}}}Po.setupTxExtension=xh;var dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.createVestingAminoConverters=dr.isAminoMsgCreateVestingAccount=void 0;function _h(e){return e.type==="cosmos-sdk/MsgCreateVestingAccount"}dr.isAminoMsgCreateVestingAccount=_h;function Mh(){return{"/cosmos.vesting.v1beta1.MsgCreateVestingAccount":{aminoType:"cosmos-sdk/MsgCreateVestingAccount",toAmino:({fromAddress:e,toAddress:t,amount:r,endTime:n,delayed:o})=>({from_address:e,to_address:t,amount:[...r],end_time:n.toString(),delayed:o}),fromAmino:({from_address:e,to_address:t,amount:r,end_time:n,delayed:o})=>({fromAddress:e,toAddress:t,amount:[...r],endTime:BigInt(n),delayed:o})}}}dr.createVestingAminoConverters=Mh;var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.vestingTypes=void 0;const Ch=Mu;Ao.vestingTypes=[["/cosmos.vesting.v1beta1.MsgCreateVestingAccount",Ch.MsgCreateVestingAccount]];(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isAminoMsgCreateValidator=e.isAminoMsgBeginRedelegate=e.createStakingAminoConverters=e.setupSlashingExtension=e.isAminoMsgUnjail=e.createSlashingAminoConverters=e.setupMintExtension=e.setupIbcExtension=e.isMsgTransferEncodeObject=e.ibcTypes=e.isAminoMsgTransfer=e.createIbcAminoConverters=e.groupTypes=e.createGroupAminoConverters=e.setupGovExtension=e.isMsgVoteWeightedEncodeObject=e.isMsgVoteEncodeObject=e.isMsgSubmitProposalEncodeObject=e.isMsgDepositEncodeObject=e.govTypes=e.isAminoMsgVoteWeighted=e.isAminoMsgVote=e.isAminoMsgSubmitProposal=e.isAminoMsgDeposit=e.createGovAminoConverters=e.setupFeegrantExtension=e.feegrantTypes=e.createFeegrantAminoConverters=e.isAminoMsgSubmitEvidence=e.createEvidenceAminoConverters=e.setupDistributionExtension=e.isMsgWithdrawDelegatorRewardEncodeObject=e.distributionTypes=e.isAminoMsgWithdrawValidatorCommission=e.isAminoMsgWithdrawDelegatorReward=e.isAminoMsgSetWithdrawAddress=e.isAminoMsgFundCommunityPool=e.createDistributionAminoConverters=e.isAminoMsgVerifyInvariant=e.createCrysisAminoConverters=e.setupBankExtension=e.isMsgSendEncodeObject=e.bankTypes=e.isAminoMsgSend=e.isAminoMsgMultiSend=e.createBankAminoConverters=e.setupAuthzExtension=e.authzTypes=e.createAuthzAminoConverters=e.setupAuthExtension=void 0,e.vestingTypes=e.isAminoMsgCreateVestingAccount=e.createVestingAminoConverters=e.setupTxExtension=e.setupStakingExtension=e.stakingTypes=e.isMsgUndelegateEncodeObject=e.isMsgEditValidatorEncodeObject=e.isMsgDelegateEncodeObject=e.isMsgCreateValidatorEncodeObject=e.isMsgCancelUnbondingDelegationEncodeObject=e.isMsgBeginRedelegateEncodeObject=e.isAminoMsgUndelegate=e.isAminoMsgEditValidator=e.isAminoMsgDelegate=void 0;var t=eo;Object.defineProperty(e,"setupAuthExtension",{enumerable:!0,get:function(){return t.setupAuthExtension}});var r=io;Object.defineProperty(e,"createAuthzAminoConverters",{enumerable:!0,get:function(){return r.createAuthzAminoConverters}});var n=co;Object.defineProperty(e,"authzTypes",{enumerable:!0,get:function(){return n.authzTypes}});var o=uo;Object.defineProperty(e,"setupAuthzExtension",{enumerable:!0,get:function(){return o.setupAuthzExtension}});var s=mt;Object.defineProperty(e,"createBankAminoConverters",{enumerable:!0,get:function(){return s.createBankAminoConverters}}),Object.defineProperty(e,"isAminoMsgMultiSend",{enumerable:!0,get:function(){return s.isAminoMsgMultiSend}}),Object.defineProperty(e,"isAminoMsgSend",{enumerable:!0,get:function(){return s.isAminoMsgSend}});var a=nr;Object.defineProperty(e,"bankTypes",{enumerable:!0,get:function(){return a.bankTypes}}),Object.defineProperty(e,"isMsgSendEncodeObject",{enumerable:!0,get:function(){return a.isMsgSendEncodeObject}});var c=lo;Object.defineProperty(e,"setupBankExtension",{enumerable:!0,get:function(){return c.setupBankExtension}});var i=or;Object.defineProperty(e,"createCrysisAminoConverters",{enumerable:!0,get:function(){return i.createCrysisAminoConverters}}),Object.defineProperty(e,"isAminoMsgVerifyInvariant",{enumerable:!0,get:function(){return i.isAminoMsgVerifyInvariant}});var u=Ce;Object.defineProperty(e,"createDistributionAminoConverters",{enumerable:!0,get:function(){return u.createDistributionAminoConverters}}),Object.defineProperty(e,"isAminoMsgFundCommunityPool",{enumerable:!0,get:function(){return u.isAminoMsgFundCommunityPool}}),Object.defineProperty(e,"isAminoMsgSetWithdrawAddress",{enumerable:!0,get:function(){return u.isAminoMsgSetWithdrawAddress}}),Object.defineProperty(e,"isAminoMsgWithdrawDelegatorReward",{enumerable:!0,get:function(){return u.isAminoMsgWithdrawDelegatorReward}}),Object.defineProperty(e,"isAminoMsgWithdrawValidatorCommission",{enumerable:!0,get:function(){return u.isAminoMsgWithdrawValidatorCommission}});var d=sr;Object.defineProperty(e,"distributionTypes",{enumerable:!0,get:function(){return d.distributionTypes}}),Object.defineProperty(e,"isMsgWithdrawDelegatorRewardEncodeObject",{enumerable:!0,get:function(){return d.isMsgWithdrawDelegatorRewardEncodeObject}});var g=po;Object.defineProperty(e,"setupDistributionExtension",{enumerable:!0,get:function(){return g.setupDistributionExtension}});var T=ar;Object.defineProperty(e,"createEvidenceAminoConverters",{enumerable:!0,get:function(){return T.createEvidenceAminoConverters}}),Object.defineProperty(e,"isAminoMsgSubmitEvidence",{enumerable:!0,get:function(){return T.isAminoMsgSubmitEvidence}});var M=mo;Object.defineProperty(e,"createFeegrantAminoConverters",{enumerable:!0,get:function(){return M.createFeegrantAminoConverters}});var F=ho;Object.defineProperty(e,"feegrantTypes",{enumerable:!0,get:function(){return F.feegrantTypes}});var y=fo;Object.defineProperty(e,"setupFeegrantExtension",{enumerable:!0,get:function(){return y.setupFeegrantExtension}});var f=Oe;Object.defineProperty(e,"createGovAminoConverters",{enumerable:!0,get:function(){return f.createGovAminoConverters}}),Object.defineProperty(e,"isAminoMsgDeposit",{enumerable:!0,get:function(){return f.isAminoMsgDeposit}}),Object.defineProperty(e,"isAminoMsgSubmitProposal",{enumerable:!0,get:function(){return f.isAminoMsgSubmitProposal}}),Object.defineProperty(e,"isAminoMsgVote",{enumerable:!0,get:function(){return f.isAminoMsgVote}}),Object.defineProperty(e,"isAminoMsgVoteWeighted",{enumerable:!0,get:function(){return f.isAminoMsgVoteWeighted}});var v=je;Object.defineProperty(e,"govTypes",{enumerable:!0,get:function(){return v.govTypes}}),Object.defineProperty(e,"isMsgDepositEncodeObject",{enumerable:!0,get:function(){return v.isMsgDepositEncodeObject}}),Object.defineProperty(e,"isMsgSubmitProposalEncodeObject",{enumerable:!0,get:function(){return v.isMsgSubmitProposalEncodeObject}}),Object.defineProperty(e,"isMsgVoteEncodeObject",{enumerable:!0,get:function(){return v.isMsgVoteEncodeObject}}),Object.defineProperty(e,"isMsgVoteWeightedEncodeObject",{enumerable:!0,get:function(){return v.isMsgVoteWeightedEncodeObject}});var H=go;Object.defineProperty(e,"setupGovExtension",{enumerable:!0,get:function(){return H.setupGovExtension}});var D=yo;Object.defineProperty(e,"createGroupAminoConverters",{enumerable:!0,get:function(){return D.createGroupAminoConverters}});var ce=bo;Object.defineProperty(e,"groupTypes",{enumerable:!0,get:function(){return ce.groupTypes}});var b=ir;Object.defineProperty(e,"createIbcAminoConverters",{enumerable:!0,get:function(){return b.createIbcAminoConverters}}),Object.defineProperty(e,"isAminoMsgTransfer",{enumerable:!0,get:function(){return b.isAminoMsgTransfer}});var k=cr;Object.defineProperty(e,"ibcTypes",{enumerable:!0,get:function(){return k.ibcTypes}}),Object.defineProperty(e,"isMsgTransferEncodeObject",{enumerable:!0,get:function(){return k.isMsgTransferEncodeObject}});var w=vo;Object.defineProperty(e,"setupIbcExtension",{enumerable:!0,get:function(){return w.setupIbcExtension}});var U=wo;Object.defineProperty(e,"setupMintExtension",{enumerable:!0,get:function(){return U.setupMintExtension}});var V=ur;Object.defineProperty(e,"createSlashingAminoConverters",{enumerable:!0,get:function(){return V.createSlashingAminoConverters}}),Object.defineProperty(e,"isAminoMsgUnjail",{enumerable:!0,get:function(){return V.isAminoMsgUnjail}});var q=ko;Object.defineProperty(e,"setupSlashingExtension",{enumerable:!0,get:function(){return q.setupSlashingExtension}});var $=X;Object.defineProperty(e,"createStakingAminoConverters",{enumerable:!0,get:function(){return $.createStakingAminoConverters}}),Object.defineProperty(e,"isAminoMsgBeginRedelegate",{enumerable:!0,get:function(){return $.isAminoMsgBeginRedelegate}}),Object.defineProperty(e,"isAminoMsgCreateValidator",{enumerable:!0,get:function(){return $.isAminoMsgCreateValidator}}),Object.defineProperty(e,"isAminoMsgDelegate",{enumerable:!0,get:function(){return $.isAminoMsgDelegate}}),Object.defineProperty(e,"isAminoMsgEditValidator",{enumerable:!0,get:function(){return $.isAminoMsgEditValidator}}),Object.defineProperty(e,"isAminoMsgUndelegate",{enumerable:!0,get:function(){return $.isAminoMsgUndelegate}});var z=oe;Object.defineProperty(e,"isMsgBeginRedelegateEncodeObject",{enumerable:!0,get:function(){return z.isMsgBeginRedelegateEncodeObject}}),Object.defineProperty(e,"isMsgCancelUnbondingDelegationEncodeObject",{enumerable:!0,get:function(){return z.isMsgCancelUnbondingDelegationEncodeObject}}),Object.defineProperty(e,"isMsgCreateValidatorEncodeObject",{enumerable:!0,get:function(){return z.isMsgCreateValidatorEncodeObject}}),Object.defineProperty(e,"isMsgDelegateEncodeObject",{enumerable:!0,get:function(){return z.isMsgDelegateEncodeObject}}),Object.defineProperty(e,"isMsgEditValidatorEncodeObject",{enumerable:!0,get:function(){return z.isMsgEditValidatorEncodeObject}}),Object.defineProperty(e,"isMsgUndelegateEncodeObject",{enumerable:!0,get:function(){return z.isMsgUndelegateEncodeObject}}),Object.defineProperty(e,"stakingTypes",{enumerable:!0,get:function(){return z.stakingTypes}});var K=So;Object.defineProperty(e,"setupStakingExtension",{enumerable:!0,get:function(){return K.setupStakingExtension}});var Se=Po;Object.defineProperty(e,"setupTxExtension",{enumerable:!0,get:function(){return Se.setupTxExtension}});var it=dr;Object.defineProperty(e,"createVestingAminoConverters",{enumerable:!0,get:function(){return it.createVestingAminoConverters}}),Object.defineProperty(e,"isAminoMsgCreateVestingAccount",{enumerable:!0,get:function(){return it.isAminoMsgCreateVestingAccount}});var kr=Ao;Object.defineProperty(e,"vestingTypes",{enumerable:!0,get:function(){return kr.vestingTypes}})})(Fr);var ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.makeMultisignedTxBytes=ht.makeMultisignedTx=ht.makeCompactBitArray=void 0;const Oh=st,jh=N,Bh=bt,Es=nd,Ih=qn,Za=Ot,rc=Ot;function nc(e){const t=Math.ceil(e.length/8),r=e.length-Math.floor(e.length/8)*8,n=new Uint8Array(t);return e.forEach((o,s)=>{const a=Math.floor(s/8),c=s%8;o&&(n[a]|=1<<7-c)}),Es.CompactBitArray.fromPartial({elems:n,extraBitsStored:r})}ht.makeCompactBitArray=nc;function oc(e,t,r,n,o){const s=Array.from(o.keys()),a=(0,jh.fromBech32)(s[0]).prefix,c=Array(e.value.pubkeys.length).fill(!1),i=new Array;for(let T=0;T<e.value.pubkeys.length;T++){const M=(0,Oh.pubkeyToAddress)(e.value.pubkeys[T],a),F=o.get(M);F&&(c[T]=!0,i.push(F))}const u={publicKey:(0,Bh.encodePubkey)(e),modeInfo:{multi:{bitarray:nc(c),modeInfos:i.map(T=>({single:{mode:Ih.SignMode.SIGN_MODE_LEGACY_AMINO_JSON}}))}},sequence:BigInt(t)},d=Za.AuthInfo.fromPartial({signerInfos:[u],fee:{amount:[...r.amount],gasLimit:BigInt(r.gas)}}),g=Za.AuthInfo.encode(d).finish();return rc.TxRaw.fromPartial({bodyBytes:n,authInfoBytes:g,signatures:[Es.MultiSignature.encode(Es.MultiSignature.fromPartial({signatures:i})).finish()]})}ht.makeMultisignedTx=oc;function Rh(e,t,r,n,o){const s=oc(e,t,r,n,o);return Uint8Array.from(rc.TxRaw.encode(s).finish())}ht.makeMultisignedTxBytes=Rh;var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.isSearchTxQueryArray=void 0;function Nh(e){return Array.isArray(e)}Yr.isSearchTxQueryArray=Nh;var sc={},Ls={},Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.pubkeyToAddress=Ke.pubkeyToRawAddress=Ke.rawSecp256k1PubkeyToRawAddress=Ke.rawEd25519PubkeyToRawAddress=void 0;const Ts=ke,Dh=N;function ac(e){if(e.length!==32)throw new Error(`Invalid Ed25519 pubkey length: ${e.length}`);return(0,Ts.sha256)(e).slice(0,20)}Ke.rawEd25519PubkeyToRawAddress=ac;function ic(e){if(e.length!==33)throw new Error(`Invalid Secp256k1 pubkey length (compressed): ${e.length}`);return(0,Ts.ripemd160)((0,Ts.sha256)(e))}Ke.rawSecp256k1PubkeyToRawAddress=ic;function cc(e,t){switch(e){case"ed25519":return ac(t);case"secp256k1":return ic(t);default:throw new Error(`Pubkey type ${e} not supported`)}}Ke.pubkeyToRawAddress=cc;function Uh(e,t){return(0,Dh.toHex)(cc(e,t)).toUpperCase()}Ke.pubkeyToAddress=Uh;var ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.DateTime=ae.toSeconds=ae.fromSeconds=ae.toRfc3339WithNanoseconds=ae.fromRfc3339WithNanoseconds=void 0;const Hh=N,Vh=ee;function uc(e){const t=(0,Hh.fromRfc3339)(e),r=e.match(/\.(\d+)Z$/),n=r?r[1].slice(3):"";return t.nanoseconds=parseInt(n.padEnd(6,"0"),10),t}ae.fromRfc3339WithNanoseconds=uc;function dc(e){var t;const r=e.toISOString(),n=((t=e.nanoseconds)==null?void 0:t.toString())??"";return`${r.slice(0,-1)}${n.padStart(6,"0")}Z`}ae.toRfc3339WithNanoseconds=dc;function qh(e,t=0){const r=new Vh.Uint32(t).toNumber();if(r>999999999)throw new Error("Nano seconds must not exceed 999999999");const n=new Date(e*1e3+Math.floor(r/1e6));return n.nanoseconds=r%1e6,n}ae.fromSeconds=qh;function Fh(e){return{seconds:Math.floor(e.getTime()/1e3),nanos:e.getTime()%1e3*1e6+(e.nanoseconds??0)}}ae.toSeconds=Fh;class $h{static decode(t){return uc(t)}static encode(t){return dc(t)}}ae.DateTime=$h;var jn={},Eo={},at={};Object.defineProperty(at,"__esModule",{value:!0});at.createJsonRpcRequest=void 0;const Xa="123456789";function Wh(){return Xa[Math.floor(Math.random()*Xa.length)]}function Jh(){return parseInt(Array.from({length:12}).map(()=>Wh()).join(""),10)}function Gh(e,t){const r=t?{...t}:{};return{jsonrpc:"2.0",id:Jh(),method:e,params:r}}at.createJsonRpcRequest=Gh;var en={},To={},xo={},_o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.makeJsonRpcId=void 0;let zh=1e4;function Lh(){return zh+=1}_o.makeJsonRpcId=Lh;var Mo={},nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.jsonRpcCode=nt.isJsonRpcSuccessResponse=nt.isJsonRpcErrorResponse=void 0;function lc(e){return typeof e.error=="object"}nt.isJsonRpcErrorResponse=lc;function Qh(e){return!lc(e)}nt.isJsonRpcSuccessResponse=Qh;nt.jsonRpcCode={parseError:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internalError:-32603,serverError:{default:-32e3}};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.JsonRpcClient=void 0;const Kh=Xr,Zh=nt;class Xh{constructor(t){this.connection=t}async run(t){const r=this.connection.responseStream.filter(s=>s.id===t.id),n=(0,Kh.firstEvent)(r);this.connection.sendRequest(t);const o=await n;if((0,Zh.isJsonRpcErrorResponse)(o)){const s=o.error;throw new Error(`JSON RPC error: code=${s.code}; message='${s.message}'`)}return o}}Mo.JsonRpcClient=Xh;var Be={},ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.isJsonCompatibleDictionary=ft.isJsonCompatibleArray=ft.isJsonCompatibleValue=void 0;function Qs(e){return!!(typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e===null||pc(e)||mc(e))}ft.isJsonCompatibleValue=Qs;function pc(e){if(!Array.isArray(e))return!1;for(const t of e)if(!Qs(t))return!1;return!0}ft.isJsonCompatibleArray=pc;function mc(e){return typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]"?!1:Object.values(e).every(Qs)}ft.isJsonCompatibleDictionary=mc;Object.defineProperty(Be,"__esModule",{value:!0});Be.parseJsonRpcResponse=Be.parseJsonRpcSuccessResponse=Be.parseJsonRpcErrorResponse=Be.parseJsonRpcRequest=Be.parseJsonRpcId=void 0;const gt=ft;function hc(e){if(!(0,gt.isJsonCompatibleDictionary)(e))throw new Error("Data must be JSON compatible dictionary");const t=e.id;return typeof t!="number"&&typeof t!="string"?null:t}Be.parseJsonRpcId=hc;function Yh(e){if(!(0,gt.isJsonCompatibleDictionary)(e))throw new Error("Data must be JSON compatible dictionary");if(e.jsonrpc!=="2.0")throw new Error(`Got unexpected jsonrpc version: ${e.jsonrpc}`);const t=hc(e);if(t===null)throw new Error("Invalid id field");const r=e.method;if(typeof r!="string")throw new Error("Invalid method field");if(!(0,gt.isJsonCompatibleArray)(e.params)&&!(0,gt.isJsonCompatibleDictionary)(e.params))throw new Error("Invalid params field");return{jsonrpc:"2.0",id:t,method:r,params:e.params}}Be.parseJsonRpcRequest=Yh;function ef(e){if(typeof e.code!="number")throw new Error("Error property 'code' is not a number");if(typeof e.message!="string")throw new Error("Error property 'message' is not a string");let t;if(e.data===void 0)t=void 0;else if((0,gt.isJsonCompatibleValue)(e.data))t=e.data;else throw new Error("Error property 'data' is defined but not a JSON compatible value.");return{code:e.code,message:e.message,...t!==void 0?{data:t}:{}}}function fc(e){if(!(0,gt.isJsonCompatibleDictionary)(e))throw new Error("Data must be JSON compatible dictionary");if(e.jsonrpc!=="2.0")throw new Error(`Got unexpected jsonrpc version: ${JSON.stringify(e)}`);const t=e.id;if(typeof t!="number"&&typeof t!="string"&&t!==null)throw new Error("Invalid id field");if(typeof e.error>"u"||!(0,gt.isJsonCompatibleDictionary)(e.error))throw new Error("Invalid error field");return{jsonrpc:"2.0",id:t,error:ef(e.error)}}Be.parseJsonRpcErrorResponse=fc;function gc(e){if(!(0,gt.isJsonCompatibleDictionary)(e))throw new Error("Data must be JSON compatible dictionary");if(e.jsonrpc!=="2.0")throw new Error(`Got unexpected jsonrpc version: ${JSON.stringify(e)}`);const t=e.id;if(typeof t!="number"&&typeof t!="string")throw new Error("Invalid id field");if(typeof e.result>"u")throw new Error("Invalid result field");const r=e.result;return{jsonrpc:"2.0",id:t,result:r}}Be.parseJsonRpcSuccessResponse=gc;function tf(e){let t;try{t=fc(e)}catch{t=gc(e)}return t}Be.parseJsonRpcResponse=tf;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.jsonRpcCode=e.isJsonRpcSuccessResponse=e.isJsonRpcErrorResponse=e.parseJsonRpcSuccessResponse=e.parseJsonRpcResponse=e.parseJsonRpcRequest=e.parseJsonRpcId=e.parseJsonRpcErrorResponse=e.JsonRpcClient=e.makeJsonRpcId=void 0;var t=_o;Object.defineProperty(e,"makeJsonRpcId",{enumerable:!0,get:function(){return t.makeJsonRpcId}});var r=Mo;Object.defineProperty(e,"JsonRpcClient",{enumerable:!0,get:function(){return r.JsonRpcClient}});var n=Be;Object.defineProperty(e,"parseJsonRpcErrorResponse",{enumerable:!0,get:function(){return n.parseJsonRpcErrorResponse}}),Object.defineProperty(e,"parseJsonRpcId",{enumerable:!0,get:function(){return n.parseJsonRpcId}}),Object.defineProperty(e,"parseJsonRpcRequest",{enumerable:!0,get:function(){return n.parseJsonRpcRequest}}),Object.defineProperty(e,"parseJsonRpcResponse",{enumerable:!0,get:function(){return n.parseJsonRpcResponse}}),Object.defineProperty(e,"parseJsonRpcSuccessResponse",{enumerable:!0,get:function(){return n.parseJsonRpcSuccessResponse}});var o=nt;Object.defineProperty(e,"isJsonRpcErrorResponse",{enumerable:!0,get:function(){return o.isJsonRpcErrorResponse}}),Object.defineProperty(e,"isJsonRpcSuccessResponse",{enumerable:!0,get:function(){return o.isJsonRpcSuccessResponse}}),Object.defineProperty(e,"jsonRpcCode",{enumerable:!0,get:function(){return o.jsonRpcCode}})})(xo);var tn={},rf=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tn,"__esModule",{value:!0});tn.http=void 0;const nf=rf(vu);function of(e){if(e.status>=400)throw new Error(`Bad status on response: ${e.status}`);return e}function sf(e){return e.toString().includes("emitExperimentalWarning")}async function af(e,t,r,n){if(typeof fetch=="function"&&!sf(fetch)){const o={method:e,body:n?JSON.stringify(n):void 0,headers:{"Content-Type":"application/json",...r}};return fetch(t,o).then(of).then(s=>s.json())}else return nf.default.request({url:t,method:e,data:n,headers:r}).then(o=>o.data)}tn.http=af;var ot={};Object.defineProperty(ot,"__esModule",{value:!0});ot.hasProtocol=ot.instanceOfRpcStreamingClient=void 0;function cf(e){return typeof e.listen=="function"}ot.instanceOfRpcStreamingClient=cf;function uf(e){return e.search("://")!==-1}ot.hasProtocol=uf;Object.defineProperty(To,"__esModule",{value:!0});To.HttpBatchClient=void 0;const Ya=xo,df=tn,lf=ot,ei={dispatchInterval:20,batchSizeLimit:20};class pf{constructor(t,r={}){if(this.queue=[],this.options={batchSizeLimit:r.batchSizeLimit??ei.batchSizeLimit,dispatchInterval:r.dispatchInterval??ei.dispatchInterval},typeof t=="string"){if(!(0,lf.hasProtocol)(t))throw new Error("Endpoint URL is missing a protocol. Expected 'https://' or 'http://'.");this.url=t}else this.url=t.url,this.headers=t.headers;this.timer=setInterval(()=>this.tick(),r.dispatchInterval),this.validate()}disconnect(){this.timer&&clearInterval(this.timer),this.timer=void 0}async execute(t){return new Promise((r,n)=>{this.queue.push({request:t,resolve:r,reject:n}),this.queue.length>=this.options.batchSizeLimit&&this.tick()})}validate(){if(!this.options.batchSizeLimit||!Number.isSafeInteger(this.options.batchSizeLimit)||this.options.batchSizeLimit<1)throw new Error("batchSizeLimit must be a safe integer >= 1")}tick(){const t=this.queue.splice(0,this.options.batchSizeLimit);if(!t.length)return;const r=t.map(o=>o.request),n=r.map(o=>o.id);(0,df.http)("POST",this.url,this.headers,r).then(o=>{(Array.isArray(o)?o:[o]).forEach(s=>{const a=t.find(d=>d.request.id===s.id);if(!a)return;const{reject:c,resolve:i}=a,u=(0,Ya.parseJsonRpcResponse)(s);(0,Ya.isJsonRpcErrorResponse)(u)?c(new Error(JSON.stringify(u.error))):i(u)})},o=>{for(const s of n){const a=t.find(c=>c.request.id===s);if(!a)return;a.reject(o)}})}}To.HttpBatchClient=pf;var Co={};Object.defineProperty(Co,"__esModule",{value:!0});Co.HttpClient=void 0;const ti=xo,mf=tn,hf=ot;class ff{constructor(t){if(typeof t=="string"){if(!(0,hf.hasProtocol)(t))throw new Error("Endpoint URL is missing a protocol. Expected 'https://' or 'http://'.");this.url=t}else this.url=t.url,this.headers=t.headers}disconnect(){}async execute(t){const r=(0,ti.parseJsonRpcResponse)(await(0,mf.http)("POST",this.url,this.headers,t));if((0,ti.isJsonRpcErrorResponse)(r))throw new Error(JSON.stringify(r.error));return r}}Co.HttpClient=ff;var Oo={},yc={},Ks={},rn={},nn={},gf=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nn,"__esModule",{value:!0});nn.SocketWrapper=void 0;const Vt=gf(wu);function yf(){return typeof tt.process<"u"&&typeof tt.process.versions<"u"&&typeof tt.process.versions.node<"u"}class bf{constructor(t,r,n,o,s,a=1e4){this.closed=!1,this.connected=new Promise((c,i)=>{this.connectedResolver=c,this.connectedRejecter=i}),this.url=t,this.messageHandler=r,this.errorHandler=n,this.openHandler=o,this.closeHandler=s,this.timeout=a}connect(){const t=new Vt.default(this.url);t.onerror=n=>{this.clearTimeout(),this.errorHandler&&this.errorHandler(n)},t.onmessage=n=>{this.messageHandler({type:n.type,data:n.data})},t.onopen=n=>{this.clearTimeout(),this.connectedResolver(),this.openHandler&&this.openHandler()},t.onclose=n=>{this.closed=!0,this.closeHandler&&this.closeHandler(n)};const r=Date.now();this.timeoutId=setTimeout(()=>{t.onmessage=()=>0,t.onerror=()=>0,t.onopen=()=>0,t.onclose=()=>0,t.close(),this.socket=void 0;const n=Math.floor(Date.now()-r);this.connectedRejecter(`Connection attempt timed out after ${n} ms`)},this.timeout),this.socket=t}disconnect(){if(!this.socket)throw new Error("Socket undefined. This must be called after connecting.");switch(this.clearTimeout(),this.socket.readyState){case Vt.default.OPEN:this.socket.close(1e3);break;case Vt.default.CLOSED:break;case Vt.default.CONNECTING:this.socket.onopen=()=>0,this.socket.onclose=()=>0,this.socket.onerror=()=>0,this.socket.onmessage=()=>0,this.socket=void 0,this.closeHandler&&this.closeHandler({wasClean:!1,code:4001});break;case Vt.default.CLOSING:break;default:throw new Error(`Unknown readyState: ${this.socket.readyState}`)}}async send(t){return new Promise((r,n)=>{if(!this.socket)throw new Error("Socket undefined. This must be called after connecting.");if(this.closed)throw new Error("Socket was closed, so no data can be sent anymore.");if(this.socket.readyState!==Vt.default.OPEN)throw new Error("Websocket is not open");yf()?this.socket.send(t,o=>o?n(o):r()):(this.socket.send(t),r())})}clearTimeout(){if(!this.timeoutId)throw new Error("Timeout ID not set. This should not happen and usually means connect() was not called.");clearTimeout(this.timeoutId)}}nn.SocketWrapper=bf;Object.defineProperty(rn,"__esModule",{value:!0});rn.StreamingSocket=void 0;const vf=jt,wf=nn;class kf{constructor(t,r=1e4){this.socket=new wf.SocketWrapper(t,o=>{this.eventProducerListener&&this.eventProducerListener.next(o)},o=>{this.eventProducerListener&&this.eventProducerListener.error(o)},()=>{},o=>{this.eventProducerListener&&(o.wasClean?this.eventProducerListener.complete():this.eventProducerListener.error("Socket was closed unclean"))},r),this.connected=this.socket.connected;const n={start:o=>this.eventProducerListener=o,stop:()=>this.eventProducerListener=void 0};this.events=vf.Stream.create(n)}connect(){this.socket.connect()}disconnect(){this.socket.disconnect()}async send(t){return this.socket.send(t)}}rn.StreamingSocket=kf;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QueueingStreamingSocket=e.ConnectionStatus=void 0;const t=Xr,r=jt,n=rn;var o;(function(a){a[a.Unconnected=0]="Unconnected",a[a.Connecting=1]="Connecting",a[a.Connected=2]="Connected",a[a.Disconnected=3]="Disconnected"})(o=e.ConnectionStatus||(e.ConnectionStatus={}));class s{constructor(c,i=1e4,u){this.queue=[],this.isProcessingQueue=!1,this.url=c,this.timeout=i,this.reconnectedHandler=u;const d={start:g=>this.eventProducerListener=g,stop:()=>this.eventProducerListener=void 0};this.events=r.Stream.create(d),this.connectionStatusProducer=new t.DefaultValueProducer(o.Unconnected),this.connectionStatus=new t.ValueAndUpdates(this.connectionStatusProducer),this.socket=new n.StreamingSocket(this.url,this.timeout),this.socket.events.subscribe({next:g=>{if(!this.eventProducerListener)throw new Error("No event producer listener set");this.eventProducerListener.next(g)},error:()=>this.connectionStatusProducer.update(o.Disconnected)})}connect(){this.connectionStatusProducer.update(o.Connecting),this.socket.connected.then(async()=>(this.connectionStatusProducer.update(o.Connected),this.processQueue()),()=>this.connectionStatusProducer.update(o.Disconnected)),this.socket.connect()}disconnect(){this.connectionStatusProducer.update(o.Disconnected),this.socket.disconnect()}reconnect(){this.socket=new n.StreamingSocket(this.url,this.timeout),this.socket.events.subscribe({next:c=>{if(!this.eventProducerListener)throw new Error("No event producer listener set");this.eventProducerListener.next(c)},error:()=>this.connectionStatusProducer.update(o.Disconnected)}),this.socket.connected.then(()=>{this.reconnectedHandler&&this.reconnectedHandler()}),this.connect()}getQueueLength(){return this.queue.length}queueRequest(c){this.queue.push(c),this.processQueue()}async processQueue(){if(this.isProcessingQueue||this.connectionStatus.value!==o.Connected)return;this.isProcessingQueue=!0;let c;for(;c=this.queue.shift();)try{await this.socket.send(c),this.isProcessingQueue=!1}catch{this.queue.unshift(c),this.isProcessingQueue=!1;return}}}e.QueueingStreamingSocket=s})(Ks);var jo={};Object.defineProperty(jo,"__esModule",{value:!0});jo.ReconnectingSocket=void 0;const Sf=jt,cs=Ks;class Zs{static calculateTimeout(t){return Math.min(2**t*100,5e3)}constructor(t,r=1e4,n){this.unconnected=!0,this.disconnected=!1,this.timeoutIndex=0,this.reconnectTimeout=null;const o={start:s=>this.eventProducerListener=s,stop:()=>this.eventProducerListener=void 0};this.events=Sf.Stream.create(o),this.socket=new cs.QueueingStreamingSocket(t,r,n),this.socket.events.subscribe({next:s=>{this.eventProducerListener&&this.eventProducerListener.next(s)},error:s=>{this.eventProducerListener&&this.eventProducerListener.error(s)}}),this.connectionStatus=this.socket.connectionStatus,this.connectionStatus.updates.subscribe({next:s=>{s===cs.ConnectionStatus.Connected&&(this.timeoutIndex=0),s===cs.ConnectionStatus.Disconnected&&(this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.reconnectTimeout=setTimeout(()=>this.socket.reconnect(),Zs.calculateTimeout(this.timeoutIndex++)))}})}connect(){if(!this.unconnected)throw new Error("Cannot connect: socket has already connected");this.socket.connect(),this.unconnected=!1}disconnect(){if(this.unconnected)throw new Error("Cannot disconnect: socket has not yet connected");this.socket.disconnect(),this.eventProducerListener&&this.eventProducerListener.complete(),this.disconnected=!0}queueRequest(t){if(this.disconnected)throw new Error("Cannot queue request: socket has disconnected");this.socket.queueRequest(t)}}jo.ReconnectingSocket=Zs;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StreamingSocket=e.SocketWrapper=e.ReconnectingSocket=e.QueueingStreamingSocket=e.ConnectionStatus=void 0;var t=Ks;Object.defineProperty(e,"ConnectionStatus",{enumerable:!0,get:function(){return t.ConnectionStatus}}),Object.defineProperty(e,"QueueingStreamingSocket",{enumerable:!0,get:function(){return t.QueueingStreamingSocket}});var r=jo;Object.defineProperty(e,"ReconnectingSocket",{enumerable:!0,get:function(){return r.ReconnectingSocket}});var n=nn;Object.defineProperty(e,"SocketWrapper",{enumerable:!0,get:function(){return n.SocketWrapper}});var o=rn;Object.defineProperty(e,"StreamingSocket",{enumerable:!0,get:function(){return o.StreamingSocket}})})(yc);Object.defineProperty(Oo,"__esModule",{value:!0});Oo.WebsocketClient=void 0;const Bn=xo,ri=yc,Pf=Xr,Af=jt,Ef=ot;function Tf(e){throw e}function bc(e){if(e.type!=="message")throw new Error(`Unexcepted message type on websocket: ${e.type}`);return(0,Bn.parseJsonRpcResponse)(JSON.parse(e.data))}class xf{constructor(t,r){this.running=!1,this.subscriptions=[],this.request=t,this.socket=r}start(t){if(this.running)throw Error("Already started. Please stop first before restarting.");this.running=!0,this.connectToClient(t),this.socket.queueRequest(JSON.stringify(this.request))}stop(){this.running=!1;const t={...this.request,method:"unsubscribe"};try{this.socket.queueRequest(JSON.stringify(t))}catch(r){if(!(r instanceof Error&&r.message.match(/socket has disconnected/i)))throw r}}connectToClient(t){const r=this.socket.events.map(bc),n=r.filter(a=>a.id===this.request.id).subscribe({next:a=>{(0,Bn.isJsonRpcErrorResponse)(a)&&(this.closeSubscriptions(),t.error(JSON.stringify(a.error))),n.unsubscribe()}}),o=r.filter(a=>a.id===this.request.id).subscribe({next:a=>{(0,Bn.isJsonRpcErrorResponse)(a)?(this.closeSubscriptions(),t.error(JSON.stringify(a.error))):t.next(a.result)}}),s=r.subscribe({error:a=>{this.closeSubscriptions(),t.error(a)},complete:()=>{this.closeSubscriptions(),t.complete()}});this.subscriptions.push(n,o,s)}closeSubscriptions(){for(const t of this.subscriptions)t.unsubscribe();this.subscriptions=[]}}class _f{constructor(t,r=Tf){if(this.subscriptionStreams=new Map,!(0,Ef.hasProtocol)(t))throw new Error("Base URL is missing a protocol. Expected 'ws://' or 'wss://'.");const n=t.endsWith("/")?"websocket":"/websocket";this.url=t+n,this.socket=new ri.ReconnectingSocket(this.url);const o=this.socket.events.subscribe({error:s=>{r(s),o.unsubscribe()}});this.jsonRpcResponseStream=this.socket.events.map(bc),this.socket.connect()}async execute(t){const r=this.responseForRequestId(t.id);this.socket.queueRequest(JSON.stringify(t));const n=await r;if((0,Bn.isJsonRpcErrorResponse)(n))throw new Error(JSON.stringify(n.error));return n}listen(t){if(t.method!=="subscribe")throw new Error('Request method must be "subscribe" to start event listening');const r=t.params.query;if(typeof r!="string")throw new Error("request.params.query must be a string");if(!this.subscriptionStreams.has(r)){const n=new xf(t,this.socket),o=Af.Stream.create(n);this.subscriptionStreams.set(r,o)}return this.subscriptionStreams.get(r).filter(n=>n.query!==void 0)}async connected(){await this.socket.connectionStatus.waitFor(ri.ConnectionStatus.Connected)}disconnect(){this.socket.disconnect()}async responseForRequestId(t){return(0,Pf.firstEvent)(this.jsonRpcResponseStream.filter(r=>r.id===t))}}Oo.WebsocketClient=_f;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebsocketClient=e.instanceOfRpcStreamingClient=e.HttpClient=e.HttpBatchClient=void 0;var t=To;Object.defineProperty(e,"HttpBatchClient",{enumerable:!0,get:function(){return t.HttpBatchClient}});var r=Co;Object.defineProperty(e,"HttpClient",{enumerable:!0,get:function(){return r.HttpClient}});var n=ot;Object.defineProperty(e,"instanceOfRpcStreamingClient",{enumerable:!0,get:function(){return n.instanceOfRpcStreamingClient}});var o=Oo;Object.defineProperty(e,"WebsocketClient",{enumerable:!0,get:function(){return o.WebsocketClient}})})(en);var vc={},Bo={},Ee={},B={};Object.defineProperty(B,"__esModule",{value:!0});B.encodeBlockId=B.encodeVersion=B.encodeBytes=B.encodeTime=B.encodeUvarint=B.encodeString=B.dictionaryToStringMap=B.may=B.assertNotEmpty=B.assertObject=B.assertArray=B.assertNumber=B.assertString=B.assertBoolean=B.assertSet=void 0;const Mf=N;function Bt(e){if(e===void 0)throw new Error("Value must not be undefined");if(e===null)throw new Error("Value must not be null");return e}B.assertSet=Bt;function Cf(e){if(Bt(e),typeof e!="boolean")throw new Error("Value must be a boolean");return e}B.assertBoolean=Cf;function Of(e){if(Bt(e),typeof e!="string")throw new Error("Value must be a string");return e}B.assertString=Of;function jf(e){if(Bt(e),typeof e!="number")throw new Error("Value must be a number");return e}B.assertNumber=jf;function Bf(e){if(Bt(e),!Array.isArray(e))throw new Error("Value must be a an array");return e}B.assertArray=Bf;function If(e){if(Bt(e),typeof e!="object")throw new Error("Value must be an object");if(Object.prototype.toString.call(e)!=="[object Object]")throw new Error("Value must be a simple object");return e}B.assertObject=If;function Rf(e){if(Bt(e),typeof e=="number"&&e===0)throw new Error("must provide a non-zero value");if(e.length===0)throw new Error("must provide a non-empty value");return e}B.assertNotEmpty=Rf;function Nf(e,t){return t==null?void 0:e(t)}B.may=Nf;function Df(e){const t=new Map;for(const r of Object.keys(e)){const n=e[r];if(typeof n!="string")throw new Error("Found dictionary value of type other than string");t.set(r,n)}return t}B.dictionaryToStringMap=Df;function Uf(e){const t=(0,Mf.toUtf8)(e);return Uint8Array.from([t.length,...t])}B.encodeString=Uf;function lr(e){return e>=128?Uint8Array.from([e&255|128,...lr(e>>7)]):Uint8Array.from([e&255])}B.encodeUvarint=lr;function Hf(e){const t=e.getTime(),r=Math.floor(t/1e3),n=r?[8,...lr(r)]:new Uint8Array,o=(e.nanoseconds||0)+t%1e3*1e6,s=o?[16,...lr(o)]:new Uint8Array;return Uint8Array.from([...n,...s])}B.encodeTime=Hf;function Vf(e){if(e.length>=128)throw new Error("Not implemented for byte arrays of length 128 or more");return e.length?Uint8Array.from([e.length,...e]):new Uint8Array}B.encodeBytes=Vf;function qf(e){const t=e.block?Uint8Array.from([8,...lr(e.block)]):new Uint8Array,r=e.app?Uint8Array.from([16,...lr(e.app)]):new Uint8Array;return Uint8Array.from([...t,...r])}B.encodeVersion=qf;function Ff(e){return Uint8Array.from([10,e.hash.length,...e.hash,18,e.parts.hash.length+4,8,e.parts.total,18,e.parts.hash.length,...e.parts.hash])}B.encodeBlockId=Ff;Object.defineProperty(Ee,"__esModule",{value:!0});Ee.smallIntToApi=Ee.apiToBigInt=Ee.apiToSmallInt=void 0;const xs=ee,$f=B;function Wf(e){return(typeof e=="number"?new xs.Int53(e):xs.Int53.fromString(e)).toNumber()}Ee.apiToSmallInt=Wf;function Jf(e){if((0,$f.assertString)(e),!e.match(/^-?[0-9]+$/))throw new Error("Invalid string format");return BigInt(e)}Ee.apiToBigInt=Jf;function Gf(e){return new xs.Int53(e).toString()}Ee.smallIntToApi=Gf;var I={};Object.defineProperty(I,"__esModule",{value:!0});I.encodeBlockId=I.encodeVersion=I.encodeBytes=I.encodeTime=I.encodeUvarint=I.encodeString=I.dictionaryToStringMap=I.may=I.assertNotEmpty=I.assertObject=I.assertArray=I.assertNumber=I.assertString=I.assertBoolean=I.assertSet=void 0;const zf=N;function It(e){if(e===void 0)throw new Error("Value must not be undefined");if(e===null)throw new Error("Value must not be null");return e}I.assertSet=It;function Lf(e){if(It(e),typeof e!="boolean")throw new Error("Value must be a boolean");return e}I.assertBoolean=Lf;function Qf(e){if(It(e),typeof e!="string")throw new Error("Value must be a string");return e}I.assertString=Qf;function Kf(e){if(It(e),typeof e!="number")throw new Error("Value must be a number");return e}I.assertNumber=Kf;function Zf(e){if(It(e),!Array.isArray(e))throw new Error("Value must be a an array");return e}I.assertArray=Zf;function Xf(e){if(It(e),typeof e!="object")throw new Error("Value must be an object");if(Object.prototype.toString.call(e)!=="[object Object]")throw new Error("Value must be a simple object");return e}I.assertObject=Xf;function Yf(e){if(It(e),typeof e=="number"&&e===0)throw new Error("must provide a non-zero value");if(e.length===0)throw new Error("must provide a non-empty value");return e}I.assertNotEmpty=Yf;function eg(e,t){return t==null?void 0:e(t)}I.may=eg;function tg(e){const t=new Map;for(const r of Object.keys(e)){const n=e[r];if(typeof n!="string")throw new Error("Found dictionary value of type other than string");t.set(r,n)}return t}I.dictionaryToStringMap=tg;function rg(e){const t=(0,zf.toUtf8)(e);return Uint8Array.from([t.length,...t])}I.encodeString=rg;function pr(e){return e>=128?Uint8Array.from([e&255|128,...pr(e>>7)]):Uint8Array.from([e&255])}I.encodeUvarint=pr;function ng(e){const t=e.getTime(),r=Math.floor(t/1e3),n=r?[8,...pr(r)]:new Uint8Array,o=(e.nanoseconds||0)+t%1e3*1e6,s=o?[16,...pr(o)]:new Uint8Array;return Uint8Array.from([...n,...s])}I.encodeTime=ng;function og(e){if(e.length>=128)throw new Error("Not implemented for byte arrays of length 128 or more");return e.length?Uint8Array.from([e.length,...e]):new Uint8Array}I.encodeBytes=og;function sg(e){const t=e.block?Uint8Array.from([8,...pr(e.block)]):new Uint8Array,r=e.app?Uint8Array.from([16,...pr(e.app)]):new Uint8Array;return Uint8Array.from([...t,...r])}I.encodeVersion=sg;function ag(e){return Uint8Array.from([10,e.hash.length,...e.hash,18,e.parts.hash.length+4,8,e.parts.total,18,e.parts.hash.length,...e.parts.hash])}I.encodeBlockId=ag;var Io={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.buildQuery=e.SubscriptionEventType=e.Method=void 0,function(r){r.AbciInfo="abci_info",r.AbciQuery="abci_query",r.Block="block",r.Blockchain="blockchain",r.BlockResults="block_results",r.BlockSearch="block_search",r.BroadcastTxAsync="broadcast_tx_async",r.BroadcastTxSync="broadcast_tx_sync",r.BroadcastTxCommit="broadcast_tx_commit",r.Commit="commit",r.Genesis="genesis",r.Health="health",r.NumUnconfirmedTxs="num_unconfirmed_txs",r.Status="status",r.Subscribe="subscribe",r.Tx="tx",r.TxSearch="tx_search",r.Validators="validators",r.Unsubscribe="unsubscribe"}(e.Method||(e.Method={})),function(r){r.NewBlock="NewBlock",r.NewBlockHeader="NewBlockHeader",r.Tx="Tx"}(e.SubscriptionEventType||(e.SubscriptionEventType={}));function t(r){const n=(r.tags?r.tags:[]).map(s=>`${s.key}='${s.value}'`),o=r.raw?[r.raw]:[];return[...n,...o].join(" AND ")}e.buildQuery=t})(Io);var ig=h&&h.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cg=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ug=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ig(t,e,r);return cg(t,e),t};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.Params=void 0;const Xs=N,Ve=Ee,te=at,be=I,dg=ug(Io);function us(e){return{height:(0,be.may)(Ve.smallIntToApi,e.height)}}function lg(e){return{minHeight:(0,be.may)(Ve.smallIntToApi,e.minHeight),maxHeight:(0,be.may)(Ve.smallIntToApi,e.maxHeight)}}function pg(e){return{query:e.query,page:(0,be.may)(Ve.smallIntToApi,e.page),per_page:(0,be.may)(Ve.smallIntToApi,e.per_page),order_by:e.order_by}}function mg(e){return{path:(0,be.assertNotEmpty)(e.path),data:(0,Xs.toHex)(e.data),height:(0,be.may)(Ve.smallIntToApi,e.height),prove:e.prove}}function hg(e){return{tx:(0,Xs.toBase64)((0,be.assertNotEmpty)(e.tx))}}function fg(e){return{hash:(0,Xs.toBase64)((0,be.assertNotEmpty)(e.hash)),prove:e.prove}}function gg(e){return{query:e.query,prove:e.prove,page:(0,be.may)(Ve.smallIntToApi,e.page),per_page:(0,be.may)(Ve.smallIntToApi,e.per_page),order_by:e.order_by}}function yg(e){return{height:(0,be.may)(Ve.smallIntToApi,e.height),page:(0,be.may)(Ve.smallIntToApi,e.page),per_page:(0,be.may)(Ve.smallIntToApi,e.per_page)}}let bg=class{static encodeAbciInfo(e){return(0,te.createJsonRpcRequest)(e.method)}static encodeAbciQuery(e){return(0,te.createJsonRpcRequest)(e.method,mg(e.params))}static encodeBlock(e){return(0,te.createJsonRpcRequest)(e.method,us(e.params))}static encodeBlockchain(e){return(0,te.createJsonRpcRequest)(e.method,lg(e.params))}static encodeBlockResults(e){return(0,te.createJsonRpcRequest)(e.method,us(e.params))}static encodeBlockSearch(e){return(0,te.createJsonRpcRequest)(e.method,pg(e.params))}static encodeBroadcastTx(e){return(0,te.createJsonRpcRequest)(e.method,hg(e.params))}static encodeCommit(e){return(0,te.createJsonRpcRequest)(e.method,us(e.params))}static encodeGenesis(e){return(0,te.createJsonRpcRequest)(e.method)}static encodeHealth(e){return(0,te.createJsonRpcRequest)(e.method)}static encodeNumUnconfirmedTxs(e){return(0,te.createJsonRpcRequest)(e.method)}static encodeStatus(e){return(0,te.createJsonRpcRequest)(e.method)}static encodeSubscribe(e){const t={key:"tm.event",value:e.query.type},r=dg.buildQuery({tags:[t],raw:e.query.raw});return(0,te.createJsonRpcRequest)("subscribe",{query:r})}static encodeTx(e){return(0,te.createJsonRpcRequest)(e.method,fg(e.params))}static encodeTxSearch(e){return(0,te.createJsonRpcRequest)(e.method,gg(e.params))}static encodeValidators(e){return(0,te.createJsonRpcRequest)(e.method,yg(e.params))}};Bo.Params=bg;var Ie={},on={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BlockIdFlag=void 0,function(t){t[t.Unknown=0]="Unknown",t[t.Absent=1]="Absent",t[t.Commit=2]="Commit",t[t.Nil=3]="Nil",t[t.Unrecognized=-1]="Unrecognized"}(e.BlockIdFlag||(e.BlockIdFlag={}))})(on);var mr={};Object.defineProperty(mr,"__esModule",{value:!0});mr.hashBlock=mr.hashTx=void 0;const Ys=ke,de=I;function vg(e){return(0,Ys.sha256)(e)}mr.hashTx=vg;function wg(e){if(e<1)throw new Error("Cannot split an empty tree");const t=2**Math.floor(Math.log2(e));return t<e?t:t/2}function kg(e){const t=new Ys.Sha256(Uint8Array.from([0]));return t.update(e),t.digest()}function Sg(e,t){const r=new Ys.Sha256(Uint8Array.from([1]));return r.update(e),r.update(t),r.digest()}function _s(e){switch(e.length){case 0:throw new Error("Cannot hash empty tree");case 1:return kg(e[0]);default:{const t=wg(e.length),r=_s(e.slice(0,t)),n=_s(e.slice(t));return Sg(r,n)}}}function Pg(e){if(!e.lastBlockId)throw new Error("Hashing a block header with no last block ID (i.e. header at height 1) is not supported. If you need this, contributions are welcome. Please add documentation and test vectors for this case.");const t=[(0,de.encodeVersion)(e.version),(0,de.encodeString)(e.chainId),(0,de.encodeUvarint)(e.height),(0,de.encodeTime)(e.time),(0,de.encodeBlockId)(e.lastBlockId),(0,de.encodeBytes)(e.lastCommitHash),(0,de.encodeBytes)(e.dataHash),(0,de.encodeBytes)(e.validatorsHash),(0,de.encodeBytes)(e.nextValidatorsHash),(0,de.encodeBytes)(e.consensusHash),(0,de.encodeBytes)(e.appHash),(0,de.encodeBytes)(e.lastResultsHash),(0,de.encodeBytes)(e.evidenceHash),(0,de.encodeBytes)(e.proposerAddress)];return _s(t)}mr.hashBlock=Pg;Object.defineProperty(Ie,"__esModule",{value:!0});Ie.Responses=Ie.decodeValidatorInfo=Ie.decodeValidatorGenesis=Ie.decodeValidatorUpdate=Ie.decodeEvent=void 0;const x=N,wc=Z,$r=ae,P=Ee,Ag=on,m=I,Eg=mr;function Tg(e){return{data:e.data,lastBlockHeight:(0,m.may)(P.apiToSmallInt,e.last_block_height),lastBlockAppHash:(0,m.may)(x.fromBase64,e.last_block_app_hash)}}function xg(e){return{ops:e.ops.map(t=>({type:t.type,key:(0,x.fromBase64)(t.key),data:(0,x.fromBase64)(t.data)}))}}function _g(e){return{key:(0,x.fromBase64)((0,m.assertString)(e.key??"")),value:(0,x.fromBase64)((0,m.assertString)(e.value??"")),proof:(0,m.may)(xg,e.proofOps),height:(0,m.may)(P.apiToSmallInt,e.height),code:(0,m.may)(P.apiToSmallInt,e.code),codespace:(0,m.assertString)(e.codespace??""),index:(0,m.may)(P.apiToSmallInt,e.index),log:e.log,info:(0,m.assertString)(e.info??"")}}function Mg(e){return{key:(0,m.assertNotEmpty)(e.key),value:e.value??""}}function Cg(e){return(0,m.assertArray)(e).map(Mg)}function kc(e){return{type:e.type,attributes:e.attributes?Cg(e.attributes):[]}}Ie.decodeEvent=kc;function Ms(e){return(0,m.assertArray)(e).map(kc)}function hr(e){return{code:(0,P.apiToSmallInt)((0,m.assertNumber)(e.code??0)),codespace:e.codespace,log:e.log,data:(0,m.may)(x.fromBase64,e.data),events:e.events?Ms(e.events):[],gasWanted:(0,P.apiToBigInt)(e.gas_wanted??"0"),gasUsed:(0,P.apiToBigInt)(e.gas_used??"0")}}function ea(e){if("Sum"in e){const[[t,r]]=Object.entries(e.Sum.value);return(0,wc.assert)(t==="ed25519"||t==="secp256k1",`unknown pubkey type: ${t}`),{algorithm:t,data:(0,x.fromBase64)((0,m.assertNotEmpty)(r))}}else switch(e.type){case"tendermint/PubKeyEd25519":return{algorithm:"ed25519",data:(0,x.fromBase64)((0,m.assertNotEmpty)(e.value))};case"tendermint/PubKeySecp256k1":return{algorithm:"secp256k1",data:(0,x.fromBase64)((0,m.assertNotEmpty)(e.value))};default:throw new Error(`unknown pubkey type: ${e.type}`)}}function Og(e){return{maxBytes:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.max_bytes)),maxGas:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.max_gas))}}function jg(e){return{maxAgeNumBlocks:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.max_age_num_blocks)),maxAgeDuration:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.max_age_duration))}}function Sc(e){return{block:Og((0,m.assertObject)(e.block)),evidence:jg((0,m.assertObject)(e.evidence))}}function Pc(e){return{pubkey:ea((0,m.assertObject)(e.pub_key)),votingPower:(0,P.apiToBigInt)(e.power??"0")}}Ie.decodeValidatorUpdate=Pc;function Bg(e){return{height:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.height)),results:(e.txs_results||[]).map(hr),validatorUpdates:(e.validator_updates||[]).map(Pc),consensusUpdates:(0,m.may)(Sc,e.consensus_param_updates),beginBlockEvents:Ms(e.begin_block_events||[]),endBlockEvents:Ms(e.end_block_events||[])}}function Ro(e){return{hash:(0,x.fromHex)((0,m.assertNotEmpty)(e.hash)),parts:{total:(0,m.assertNotEmpty)(e.parts.total),hash:(0,x.fromHex)((0,m.assertNotEmpty)(e.parts.hash))}}}function Ig(e){return{block:(0,P.apiToSmallInt)(e.block),app:(0,P.apiToSmallInt)(e.app??0)}}function No(e){return{version:Ig(e.version),chainId:(0,m.assertNotEmpty)(e.chain_id),height:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.height)),time:(0,$r.fromRfc3339WithNanoseconds)((0,m.assertNotEmpty)(e.time)),lastBlockId:e.last_block_id.hash?Ro(e.last_block_id):null,lastCommitHash:(0,x.fromHex)((0,m.assertSet)(e.last_commit_hash)),dataHash:(0,x.fromHex)((0,m.assertSet)(e.data_hash)),validatorsHash:(0,x.fromHex)((0,m.assertSet)(e.validators_hash)),nextValidatorsHash:(0,x.fromHex)((0,m.assertSet)(e.next_validators_hash)),consensusHash:(0,x.fromHex)((0,m.assertSet)(e.consensus_hash)),appHash:(0,x.fromHex)((0,m.assertSet)(e.app_hash)),lastResultsHash:(0,x.fromHex)((0,m.assertSet)(e.last_results_hash)),evidenceHash:(0,x.fromHex)((0,m.assertSet)(e.evidence_hash)),proposerAddress:(0,x.fromHex)((0,m.assertNotEmpty)(e.proposer_address))}}function Rg(e){return{blockId:Ro(e.block_id),blockSize:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.block_size)),header:No(e.header),numTxs:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.num_txs))}}function Ng(e){return{lastHeight:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.last_height)),blockMetas:(0,m.assertArray)(e.block_metas).map(Rg)}}function Dg(e){return{...hr(e),hash:(0,x.fromHex)((0,m.assertNotEmpty)(e.hash))}}function Ug(e){const t=e.tx_result?hr(e.tx_result):void 0;return{height:(0,P.apiToSmallInt)(e.height),hash:(0,x.fromHex)((0,m.assertNotEmpty)(e.hash)),checkTx:hr((0,m.assertObject)(e.check_tx)),deliverTx:t,txResult:t}}function Hg(e){return(0,wc.assert)(e in Ag.BlockIdFlag),e}function Vg(e){return{blockIdFlag:Hg(e.block_id_flag),validatorAddress:e.validator_address?(0,x.fromHex)(e.validator_address):void 0,timestamp:e.timestamp?(0,$r.fromRfc3339WithNanoseconds)(e.timestamp):void 0,signature:e.signature?(0,x.fromBase64)(e.signature):void 0}}function Ac(e){return{blockId:Ro((0,m.assertObject)(e.block_id)),height:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.height)),round:(0,P.apiToSmallInt)(e.round),signatures:(0,m.assertArray)(e.signatures).map(Vg)}}function qg(e){return{canonical:(0,m.assertBoolean)(e.canonical),header:No(e.signed_header.header),commit:Ac(e.signed_header.commit)}}function Ec(e){return{address:(0,x.fromHex)((0,m.assertNotEmpty)(e.address)),pubkey:ea((0,m.assertObject)(e.pub_key)),votingPower:(0,P.apiToBigInt)((0,m.assertNotEmpty)(e.power))}}Ie.decodeValidatorGenesis=Ec;function Fg(e){return{genesisTime:(0,$r.fromRfc3339WithNanoseconds)((0,m.assertNotEmpty)(e.genesis_time)),chainId:(0,m.assertNotEmpty)(e.chain_id),consensusParams:Sc(e.consensus_params),validators:e.validators?(0,m.assertArray)(e.validators).map(Ec):[],appHash:(0,x.fromHex)((0,m.assertSet)(e.app_hash)),appState:e.app_state}}function ta(e){return{pubkey:ea((0,m.assertObject)(e.pub_key)),votingPower:(0,P.apiToBigInt)((0,m.assertNotEmpty)(e.voting_power)),address:(0,x.fromHex)((0,m.assertNotEmpty)(e.address)),proposerPriority:e.proposer_priority?(0,P.apiToSmallInt)(e.proposer_priority):void 0}}Ie.decodeValidatorInfo=ta;function $g(e){return{id:(0,x.fromHex)((0,m.assertNotEmpty)(e.id)),listenAddr:(0,m.assertNotEmpty)(e.listen_addr),network:(0,m.assertNotEmpty)(e.network),version:(0,m.assertString)(e.version),channels:(0,m.assertString)(e.channels),moniker:(0,m.assertNotEmpty)(e.moniker),other:(0,m.dictionaryToStringMap)(e.other),protocolVersion:{app:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.protocol_version.app)),block:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.protocol_version.block)),p2p:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.protocol_version.p2p))}}}function Wg(e){const t=e.earliest_block_height?(0,P.apiToSmallInt)(e.earliest_block_height):void 0,r=e.earliest_block_time?(0,$r.fromRfc3339WithNanoseconds)(e.earliest_block_time):void 0;return{earliestAppHash:e.earliest_app_hash?(0,x.fromHex)(e.earliest_app_hash):void 0,earliestBlockHash:e.earliest_block_hash?(0,x.fromHex)(e.earliest_block_hash):void 0,earliestBlockHeight:t||void 0,earliestBlockTime:r!=null&&r.getTime()?r:void 0,latestBlockHash:(0,x.fromHex)((0,m.assertNotEmpty)(e.latest_block_hash)),latestAppHash:(0,x.fromHex)((0,m.assertNotEmpty)(e.latest_app_hash)),latestBlockTime:(0,$r.fromRfc3339WithNanoseconds)((0,m.assertNotEmpty)(e.latest_block_time)),latestBlockHeight:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.latest_block_height)),catchingUp:(0,m.assertBoolean)(e.catching_up)}}function Jg(e){return{nodeInfo:$g(e.node_info),syncInfo:Wg(e.sync_info),validatorInfo:ta(e.validator_info)}}function Gg(e){return{data:(0,x.fromBase64)((0,m.assertNotEmpty)(e.data)),rootHash:(0,x.fromHex)((0,m.assertNotEmpty)(e.root_hash)),proof:{total:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.proof.total)),index:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.proof.index)),leafHash:(0,x.fromBase64)((0,m.assertNotEmpty)(e.proof.leaf_hash)),aunts:(0,m.assertArray)(e.proof.aunts).map(x.fromBase64)}}}function Tc(e){return{tx:(0,x.fromBase64)((0,m.assertNotEmpty)(e.tx)),result:hr((0,m.assertObject)(e.tx_result)),height:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.height)),index:(0,P.apiToSmallInt)((0,m.assertNumber)(e.index)),hash:(0,x.fromHex)((0,m.assertNotEmpty)(e.hash)),proof:(0,m.may)(Gg,e.proof)}}function zg(e){return{totalCount:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.total_count)),txs:(0,m.assertArray)(e.txs).map(Tc)}}function Lg(e){const t=(0,x.fromBase64)((0,m.assertNotEmpty)(e.tx));return{tx:t,hash:(0,Eg.hashTx)(t),result:hr(e.result),height:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.height))}}function Qg(e){return{blockHeight:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.block_height)),validators:(0,m.assertArray)(e.validators).map(ta),count:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.count)),total:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.total))}}function xc(e){var t;return{header:No((0,m.assertObject)(e.header)),lastCommit:e.last_commit.block_id.hash?Ac((0,m.assertObject)(e.last_commit)):null,txs:e.data.txs?(0,m.assertArray)(e.data.txs).map(x.fromBase64):[],evidence:((t=e.evidence)==null?void 0:t.evidence)??[]}}function _c(e){return{blockId:Ro(e.block_id),block:xc(e.block)}}function Kg(e){return{totalCount:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.total_count)),blocks:(0,m.assertArray)(e.blocks).map(_c)}}function Zg(e){return{total:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.total)),totalBytes:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.total_bytes))}}let Xg=class Mc{static decodeAbciInfo(t){return Tg((0,m.assertObject)(t.result.response))}static decodeAbciQuery(t){return _g((0,m.assertObject)(t.result.response))}static decodeBlock(t){return _c(t.result)}static decodeBlockResults(t){return Bg(t.result)}static decodeBlockSearch(t){return Kg(t.result)}static decodeBlockchain(t){return Ng(t.result)}static decodeBroadcastTxSync(t){return Dg(t.result)}static decodeBroadcastTxAsync(t){return Mc.decodeBroadcastTxSync(t)}static decodeBroadcastTxCommit(t){return Ug(t.result)}static decodeCommit(t){return qg(t.result)}static decodeGenesis(t){return Fg((0,m.assertObject)(t.result.genesis))}static decodeHealth(){return null}static decodeNumUnconfirmedTxs(t){return Zg(t.result)}static decodeStatus(t){return Jg(t.result)}static decodeNewBlockEvent(t){return xc(t.data.value.block)}static decodeNewBlockHeaderEvent(t){return No(t.data.value.header)}static decodeTxEvent(t){return Lg(t.data.value.TxResult)}static decodeTx(t){return Tc(t.result)}static decodeTxSearch(t){return zg(t.result)}static decodeValidators(t){return Qg(t.result)}};Ie.Responses=Xg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Responses=e.Params=void 0;var t=Bo;Object.defineProperty(e,"Params",{enumerable:!0,get:function(){return t.Params}});var r=Ie;Object.defineProperty(e,"Responses",{enumerable:!0,get:function(){return r.Responses}})})(vc);var Yg=h&&h.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ey=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ty=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Yg(t,e,r);return ey(t,e),t};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.Comet38Client=void 0;const ry=at,kn=en,C=vc,W=ty(Io);class In{static async connect(t){let r;return typeof t=="object"?r=new kn.HttpClient(t):r=t.startsWith("http://")||t.startsWith("https://")?new kn.HttpClient(t):new kn.WebsocketClient(t),await this.detectVersion(r),In.create(r)}static async create(t){return new In(t)}static async detectVersion(t){const r=(0,ry.createJsonRpcRequest)(W.Method.Status),n=(await t.execute(r)).result;if(!n||!n.node_info)throw new Error("Unrecognized format for status response");const o=n.node_info.version;if(typeof o!="string")throw new Error("Unrecognized version format: must be string");return o}constructor(t){this.client=t}disconnect(){this.client.disconnect()}async abciInfo(){const t={method:W.Method.AbciInfo};return this.doCall(t,C.Params.encodeAbciInfo,C.Responses.decodeAbciInfo)}async abciQuery(t){const r={params:t,method:W.Method.AbciQuery};return this.doCall(r,C.Params.encodeAbciQuery,C.Responses.decodeAbciQuery)}async block(t){const r={method:W.Method.Block,params:{height:t}};return this.doCall(r,C.Params.encodeBlock,C.Responses.decodeBlock)}async blockResults(t){const r={method:W.Method.BlockResults,params:{height:t}};return this.doCall(r,C.Params.encodeBlockResults,C.Responses.decodeBlockResults)}async blockSearch(t){const r={params:t,method:W.Method.BlockSearch},n=await this.doCall(r,C.Params.encodeBlockSearch,C.Responses.decodeBlockSearch);return{...n,blocks:[...n.blocks].sort((o,s)=>o.block.header.height-s.block.header.height)}}async blockSearchAll(t){let r=t.page||1;const n=[];let o=!1;for(;!o;){const s=await this.blockSearch({...t,page:r});n.push(...s.blocks),n.length<s.totalCount?r++:o=!0}return n.sort((s,a)=>s.block.header.height-a.block.header.height),{totalCount:n.length,blocks:n}}async blockchain(t,r){const n={method:W.Method.Blockchain,params:{minHeight:t,maxHeight:r}};return this.doCall(n,C.Params.encodeBlockchain,C.Responses.decodeBlockchain)}async broadcastTxSync(t){const r={params:t,method:W.Method.BroadcastTxSync};return this.doCall(r,C.Params.encodeBroadcastTx,C.Responses.decodeBroadcastTxSync)}async broadcastTxAsync(t){const r={params:t,method:W.Method.BroadcastTxAsync};return this.doCall(r,C.Params.encodeBroadcastTx,C.Responses.decodeBroadcastTxAsync)}async broadcastTxCommit(t){const r={params:t,method:W.Method.BroadcastTxCommit};return this.doCall(r,C.Params.encodeBroadcastTx,C.Responses.decodeBroadcastTxCommit)}async commit(t){const r={method:W.Method.Commit,params:{height:t}};return this.doCall(r,C.Params.encodeCommit,C.Responses.decodeCommit)}async genesis(){const t={method:W.Method.Genesis};return this.doCall(t,C.Params.encodeGenesis,C.Responses.decodeGenesis)}async health(){const t={method:W.Method.Health};return this.doCall(t,C.Params.encodeHealth,C.Responses.decodeHealth)}async numUnconfirmedTxs(){const t={method:W.Method.NumUnconfirmedTxs};return this.doCall(t,C.Params.encodeNumUnconfirmedTxs,C.Responses.decodeNumUnconfirmedTxs)}async status(){const t={method:W.Method.Status};return this.doCall(t,C.Params.encodeStatus,C.Responses.decodeStatus)}subscribeNewBlock(){const t={method:W.Method.Subscribe,query:{type:W.SubscriptionEventType.NewBlock}};return this.subscribe(t,C.Responses.decodeNewBlockEvent)}subscribeNewBlockHeader(){const t={method:W.Method.Subscribe,query:{type:W.SubscriptionEventType.NewBlockHeader}};return this.subscribe(t,C.Responses.decodeNewBlockHeaderEvent)}subscribeTx(t){const r={method:W.Method.Subscribe,query:{type:W.SubscriptionEventType.Tx,raw:t}};return this.subscribe(r,C.Responses.decodeTxEvent)}async tx(t){const r={params:t,method:W.Method.Tx};return this.doCall(r,C.Params.encodeTx,C.Responses.decodeTx)}async txSearch(t){const r={params:t,method:W.Method.TxSearch};return this.doCall(r,C.Params.encodeTxSearch,C.Responses.decodeTxSearch)}async txSearchAll(t){let r=t.page||1;const n=[];let o=!1;for(;!o;){const s=await this.txSearch({...t,page:r});n.push(...s.txs),n.length<s.totalCount?r++:o=!0}return{totalCount:n.length,txs:n}}async validators(t){const r={method:W.Method.Validators,params:t};return this.doCall(r,C.Params.encodeValidators,C.Responses.decodeValidators)}async validatorsAll(t){const r=[];let n=1,o=!1,s=t;for(;!o;){const a=await this.validators({per_page:50,height:s,page:n});r.push(...a.validators),s=s||a.blockHeight,r.length<a.total?n++:o=!0}return{blockHeight:s??0,count:r.length,total:r.length,validators:r}}async doCall(t,r,n){const o=r(t),s=await this.client.execute(o);return n(s)}subscribe(t,r){if(!(0,kn.instanceOfRpcStreamingClient)(this.client))throw new Error("This RPC client type cannot subscribe to events");const n=C.Params.encodeSubscribe(t);return this.client.listen(n).map(o=>r(o))}}Eo.Comet38Client=In;var Cc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoteType=e.broadcastTxCommitSuccess=e.broadcastTxSyncSuccess=void 0;function t(n){return n.code===0}e.broadcastTxSyncSuccess=t;function r(n){return n.checkTx.code===0&&!!n.deliverTx&&n.deliverTx.code===0}e.broadcastTxCommitSuccess=r,function(n){n[n.PreVote=1]="PreVote",n[n.PreCommit=2]="PreCommit"}(e.VoteType||(e.VoteType={}))})(Cc);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoteType=e.broadcastTxSyncSuccess=e.broadcastTxCommitSuccess=e.SubscriptionEventType=e.Method=e.Comet38Client=void 0;var t=Eo;Object.defineProperty(e,"Comet38Client",{enumerable:!0,get:function(){return t.Comet38Client}});var r=Io;Object.defineProperty(e,"Method",{enumerable:!0,get:function(){return r.Method}}),Object.defineProperty(e,"SubscriptionEventType",{enumerable:!0,get:function(){return r.SubscriptionEventType}});var n=Cc;Object.defineProperty(e,"broadcastTxCommitSuccess",{enumerable:!0,get:function(){return n.broadcastTxCommitSuccess}}),Object.defineProperty(e,"broadcastTxSyncSuccess",{enumerable:!0,get:function(){return n.broadcastTxSyncSuccess}}),Object.defineProperty(e,"VoteType",{enumerable:!0,get:function(){return n.VoteType}})})(jn);var Hr={},Do={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.buildQuery=e.SubscriptionEventType=e.Method=void 0,function(r){r.AbciInfo="abci_info",r.AbciQuery="abci_query",r.Block="block",r.Blockchain="blockchain",r.BlockResults="block_results",r.BlockSearch="block_search",r.BroadcastTxAsync="broadcast_tx_async",r.BroadcastTxSync="broadcast_tx_sync",r.BroadcastTxCommit="broadcast_tx_commit",r.Commit="commit",r.Genesis="genesis",r.Health="health",r.NumUnconfirmedTxs="num_unconfirmed_txs",r.Status="status",r.Subscribe="subscribe",r.Tx="tx",r.TxSearch="tx_search",r.Validators="validators",r.Unsubscribe="unsubscribe"}(e.Method||(e.Method={})),function(r){r.NewBlock="NewBlock",r.NewBlockHeader="NewBlockHeader",r.Tx="Tx"}(e.SubscriptionEventType||(e.SubscriptionEventType={}));function t(r){const n=(r.tags?r.tags:[]).map(s=>`${s.key}='${s.value}'`),o=r.raw?[r.raw]:[];return[...n,...o].join(" AND ")}e.buildQuery=t})(Do);var Oc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoteType=e.broadcastTxCommitSuccess=e.broadcastTxSyncSuccess=void 0;function t(n){return n.code===0}e.broadcastTxSyncSuccess=t;function r(n){return n.checkTx.code===0&&!!n.deliverTx&&n.deliverTx.code===0}e.broadcastTxCommitSuccess=r,function(n){n[n.PreVote=1]="PreVote",n[n.PreCommit=2]="PreCommit"}(e.VoteType||(e.VoteType={}))})(Oc);var Uo={},jc={},Ho={},ny=h&&h.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),oy=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),sy=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ny(t,e,r);return oy(t,e),t};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.Params=void 0;const ra=N,qe=Ee,re=at,ve=B,ay=sy(Do);function ds(e){return{height:(0,ve.may)(qe.smallIntToApi,e.height)}}function iy(e){return{minHeight:(0,ve.may)(qe.smallIntToApi,e.minHeight),maxHeight:(0,ve.may)(qe.smallIntToApi,e.maxHeight)}}function cy(e){return{query:e.query,page:(0,ve.may)(qe.smallIntToApi,e.page),per_page:(0,ve.may)(qe.smallIntToApi,e.per_page),order_by:e.order_by}}function uy(e){return{path:(0,ve.assertNotEmpty)(e.path),data:(0,ra.toHex)(e.data),height:(0,ve.may)(qe.smallIntToApi,e.height),prove:e.prove}}function dy(e){return{tx:(0,ra.toBase64)((0,ve.assertNotEmpty)(e.tx))}}function ly(e){return{hash:(0,ra.toBase64)((0,ve.assertNotEmpty)(e.hash)),prove:e.prove}}function py(e){return{query:e.query,prove:e.prove,page:(0,ve.may)(qe.smallIntToApi,e.page),per_page:(0,ve.may)(qe.smallIntToApi,e.per_page),order_by:e.order_by}}function my(e){return{height:(0,ve.may)(qe.smallIntToApi,e.height),page:(0,ve.may)(qe.smallIntToApi,e.page),per_page:(0,ve.may)(qe.smallIntToApi,e.per_page)}}let hy=class{static encodeAbciInfo(e){return(0,re.createJsonRpcRequest)(e.method)}static encodeAbciQuery(e){return(0,re.createJsonRpcRequest)(e.method,uy(e.params))}static encodeBlock(e){return(0,re.createJsonRpcRequest)(e.method,ds(e.params))}static encodeBlockchain(e){return(0,re.createJsonRpcRequest)(e.method,iy(e.params))}static encodeBlockResults(e){return(0,re.createJsonRpcRequest)(e.method,ds(e.params))}static encodeBlockSearch(e){return(0,re.createJsonRpcRequest)(e.method,cy(e.params))}static encodeBroadcastTx(e){return(0,re.createJsonRpcRequest)(e.method,dy(e.params))}static encodeCommit(e){return(0,re.createJsonRpcRequest)(e.method,ds(e.params))}static encodeGenesis(e){return(0,re.createJsonRpcRequest)(e.method)}static encodeHealth(e){return(0,re.createJsonRpcRequest)(e.method)}static encodeNumUnconfirmedTxs(e){return(0,re.createJsonRpcRequest)(e.method)}static encodeStatus(e){return(0,re.createJsonRpcRequest)(e.method)}static encodeSubscribe(e){const t={key:"tm.event",value:e.query.type},r=ay.buildQuery({tags:[t],raw:e.query.raw});return(0,re.createJsonRpcRequest)("subscribe",{query:r})}static encodeTx(e){return(0,re.createJsonRpcRequest)(e.method,ly(e.params))}static encodeTxSearch(e){return(0,re.createJsonRpcRequest)(e.method,py(e.params))}static encodeValidators(e){return(0,re.createJsonRpcRequest)(e.method,my(e.params))}};Ho.Params=hy;var Re={},fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.hashBlock=fr.hashTx=void 0;const na=ke,le=B;function fy(e){return(0,na.sha256)(e)}fr.hashTx=fy;function gy(e){if(e<1)throw new Error("Cannot split an empty tree");const t=2**Math.floor(Math.log2(e));return t<e?t:t/2}function yy(e){const t=new na.Sha256(Uint8Array.from([0]));return t.update(e),t.digest()}function by(e,t){const r=new na.Sha256(Uint8Array.from([1]));return r.update(e),r.update(t),r.digest()}function Cs(e){switch(e.length){case 0:throw new Error("Cannot hash empty tree");case 1:return yy(e[0]);default:{const t=gy(e.length),r=Cs(e.slice(0,t)),n=Cs(e.slice(t));return by(r,n)}}}function vy(e){if(!e.lastBlockId)throw new Error("Hashing a block header with no last block ID (i.e. header at height 1) is not supported. If you need this, contributions are welcome. Please add documentation and test vectors for this case.");const t=[(0,le.encodeVersion)(e.version),(0,le.encodeString)(e.chainId),(0,le.encodeUvarint)(e.height),(0,le.encodeTime)(e.time),(0,le.encodeBlockId)(e.lastBlockId),(0,le.encodeBytes)(e.lastCommitHash),(0,le.encodeBytes)(e.dataHash),(0,le.encodeBytes)(e.validatorsHash),(0,le.encodeBytes)(e.nextValidatorsHash),(0,le.encodeBytes)(e.consensusHash),(0,le.encodeBytes)(e.appHash),(0,le.encodeBytes)(e.lastResultsHash),(0,le.encodeBytes)(e.evidenceHash),(0,le.encodeBytes)(e.proposerAddress)];return Cs(t)}fr.hashBlock=vy;Object.defineProperty(Re,"__esModule",{value:!0});Re.Responses=Re.decodeValidatorInfo=Re.decodeValidatorGenesis=Re.decodeValidatorUpdate=Re.decodeEvent=void 0;const S=N,Bc=Z,Wr=ae,A=Ee,wy=on,l=B,ky=fr;function Sy(e){return{data:e.data,lastBlockHeight:(0,l.may)(A.apiToSmallInt,e.last_block_height),lastBlockAppHash:(0,l.may)(S.fromBase64,e.last_block_app_hash)}}function Py(e){return{ops:e.ops.map(t=>({type:t.type,key:(0,S.fromBase64)(t.key),data:(0,S.fromBase64)(t.data)}))}}function Ay(e){return{key:(0,S.fromBase64)((0,l.assertString)(e.key??"")),value:(0,S.fromBase64)((0,l.assertString)(e.value??"")),proof:(0,l.may)(Py,e.proofOps),height:(0,l.may)(A.apiToSmallInt,e.height),code:(0,l.may)(A.apiToSmallInt,e.code),codespace:(0,l.assertString)(e.codespace??""),index:(0,l.may)(A.apiToSmallInt,e.index),log:e.log,info:(0,l.assertString)(e.info??"")}}function Ey(e){return{key:(0,S.fromBase64)((0,l.assertNotEmpty)(e.key)),value:(0,S.fromBase64)((0,l.assertString)(e.value??""))}}function Ty(e){return(0,l.assertArray)(e).map(Ey)}function Ic(e){return{type:e.type,attributes:e.attributes?Ty(e.attributes):[]}}Re.decodeEvent=Ic;function Os(e){return(0,l.assertArray)(e).map(Ic)}function gr(e){return{code:(0,A.apiToSmallInt)((0,l.assertNumber)(e.code??0)),codespace:e.codespace,log:e.log,data:(0,l.may)(S.fromBase64,e.data),events:e.events?Os(e.events):[],gasWanted:(0,A.apiToBigInt)(e.gas_wanted??"0"),gasUsed:(0,A.apiToBigInt)(e.gas_used??"0")}}function oa(e){if("Sum"in e){const[[t,r]]=Object.entries(e.Sum.value);return(0,Bc.assert)(t==="ed25519"||t==="secp256k1",`unknown pubkey type: ${t}`),{algorithm:t,data:(0,S.fromBase64)((0,l.assertNotEmpty)(r))}}else switch(e.type){case"tendermint/PubKeyEd25519":return{algorithm:"ed25519",data:(0,S.fromBase64)((0,l.assertNotEmpty)(e.value))};case"tendermint/PubKeySecp256k1":return{algorithm:"secp256k1",data:(0,S.fromBase64)((0,l.assertNotEmpty)(e.value))};default:throw new Error(`unknown pubkey type: ${e.type}`)}}function xy(e){return{maxBytes:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.max_bytes)),maxGas:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.max_gas))}}function _y(e){return{maxAgeNumBlocks:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.max_age_num_blocks)),maxAgeDuration:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.max_age_duration))}}function Rc(e){return{block:xy((0,l.assertObject)(e.block)),evidence:_y((0,l.assertObject)(e.evidence))}}function Nc(e){return{pubkey:oa((0,l.assertObject)(e.pub_key)),votingPower:(0,A.apiToBigInt)(e.power??"0")}}Re.decodeValidatorUpdate=Nc;function My(e){return{height:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.height)),results:(e.txs_results||[]).map(gr),validatorUpdates:(e.validator_updates||[]).map(Nc),consensusUpdates:(0,l.may)(Rc,e.consensus_param_updates),beginBlockEvents:Os(e.begin_block_events||[]),endBlockEvents:Os(e.end_block_events||[])}}function Vo(e){return{hash:(0,S.fromHex)((0,l.assertNotEmpty)(e.hash)),parts:{total:(0,l.assertNotEmpty)(e.parts.total),hash:(0,S.fromHex)((0,l.assertNotEmpty)(e.parts.hash))}}}function Cy(e){return{block:(0,A.apiToSmallInt)(e.block),app:(0,A.apiToSmallInt)(e.app??0)}}function qo(e){return{version:Cy(e.version),chainId:(0,l.assertNotEmpty)(e.chain_id),height:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.height)),time:(0,Wr.fromRfc3339WithNanoseconds)((0,l.assertNotEmpty)(e.time)),lastBlockId:e.last_block_id.hash?Vo(e.last_block_id):null,lastCommitHash:(0,S.fromHex)((0,l.assertSet)(e.last_commit_hash)),dataHash:(0,S.fromHex)((0,l.assertSet)(e.data_hash)),validatorsHash:(0,S.fromHex)((0,l.assertSet)(e.validators_hash)),nextValidatorsHash:(0,S.fromHex)((0,l.assertSet)(e.next_validators_hash)),consensusHash:(0,S.fromHex)((0,l.assertSet)(e.consensus_hash)),appHash:(0,S.fromHex)((0,l.assertSet)(e.app_hash)),lastResultsHash:(0,S.fromHex)((0,l.assertSet)(e.last_results_hash)),evidenceHash:(0,S.fromHex)((0,l.assertSet)(e.evidence_hash)),proposerAddress:(0,S.fromHex)((0,l.assertNotEmpty)(e.proposer_address))}}function Oy(e){return{blockId:Vo(e.block_id),blockSize:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.block_size)),header:qo(e.header),numTxs:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.num_txs))}}function jy(e){return{lastHeight:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.last_height)),blockMetas:(0,l.assertArray)(e.block_metas).map(Oy)}}function By(e){return{...gr(e),hash:(0,S.fromHex)((0,l.assertNotEmpty)(e.hash))}}function Iy(e){return{height:(0,A.apiToSmallInt)(e.height),hash:(0,S.fromHex)((0,l.assertNotEmpty)(e.hash)),checkTx:gr((0,l.assertObject)(e.check_tx)),deliverTx:(0,l.may)(gr,e.deliver_tx)}}function Ry(e){return(0,Bc.assert)(e in wy.BlockIdFlag),e}function Ny(e){return{blockIdFlag:Ry(e.block_id_flag),validatorAddress:e.validator_address?(0,S.fromHex)(e.validator_address):void 0,timestamp:e.timestamp?(0,Wr.fromRfc3339WithNanoseconds)(e.timestamp):void 0,signature:e.signature?(0,S.fromBase64)(e.signature):void 0}}function Dc(e){return{blockId:Vo((0,l.assertObject)(e.block_id)),height:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.height)),round:(0,A.apiToSmallInt)(e.round),signatures:(0,l.assertArray)(e.signatures).map(Ny)}}function Dy(e){return{canonical:(0,l.assertBoolean)(e.canonical),header:qo(e.signed_header.header),commit:Dc(e.signed_header.commit)}}function Uc(e){return{address:(0,S.fromHex)((0,l.assertNotEmpty)(e.address)),pubkey:oa((0,l.assertObject)(e.pub_key)),votingPower:(0,A.apiToBigInt)((0,l.assertNotEmpty)(e.power))}}Re.decodeValidatorGenesis=Uc;function Uy(e){return{genesisTime:(0,Wr.fromRfc3339WithNanoseconds)((0,l.assertNotEmpty)(e.genesis_time)),chainId:(0,l.assertNotEmpty)(e.chain_id),consensusParams:Rc(e.consensus_params),validators:e.validators?(0,l.assertArray)(e.validators).map(Uc):[],appHash:(0,S.fromHex)((0,l.assertSet)(e.app_hash)),appState:e.app_state}}function sa(e){return{pubkey:oa((0,l.assertObject)(e.pub_key)),votingPower:(0,A.apiToBigInt)((0,l.assertNotEmpty)(e.voting_power)),address:(0,S.fromHex)((0,l.assertNotEmpty)(e.address)),proposerPriority:e.proposer_priority?(0,A.apiToSmallInt)(e.proposer_priority):void 0}}Re.decodeValidatorInfo=sa;function Hy(e){return{id:(0,S.fromHex)((0,l.assertNotEmpty)(e.id)),listenAddr:(0,l.assertNotEmpty)(e.listen_addr),network:(0,l.assertNotEmpty)(e.network),version:(0,l.assertString)(e.version),channels:(0,l.assertNotEmpty)(e.channels),moniker:(0,l.assertNotEmpty)(e.moniker),other:(0,l.dictionaryToStringMap)(e.other),protocolVersion:{app:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.protocol_version.app)),block:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.protocol_version.block)),p2p:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.protocol_version.p2p))}}}function Vy(e){const t=e.earliest_block_height?(0,A.apiToSmallInt)(e.earliest_block_height):void 0,r=e.earliest_block_time?(0,Wr.fromRfc3339WithNanoseconds)(e.earliest_block_time):void 0;return{earliestAppHash:e.earliest_app_hash?(0,S.fromHex)(e.earliest_app_hash):void 0,earliestBlockHash:e.earliest_block_hash?(0,S.fromHex)(e.earliest_block_hash):void 0,earliestBlockHeight:t||void 0,earliestBlockTime:r!=null&&r.getTime()?r:void 0,latestBlockHash:(0,S.fromHex)((0,l.assertNotEmpty)(e.latest_block_hash)),latestAppHash:(0,S.fromHex)((0,l.assertNotEmpty)(e.latest_app_hash)),latestBlockTime:(0,Wr.fromRfc3339WithNanoseconds)((0,l.assertNotEmpty)(e.latest_block_time)),latestBlockHeight:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.latest_block_height)),catchingUp:(0,l.assertBoolean)(e.catching_up)}}function qy(e){return{nodeInfo:Hy(e.node_info),syncInfo:Vy(e.sync_info),validatorInfo:sa(e.validator_info)}}function Fy(e){return{data:(0,S.fromBase64)((0,l.assertNotEmpty)(e.data)),rootHash:(0,S.fromHex)((0,l.assertNotEmpty)(e.root_hash)),proof:{total:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.proof.total)),index:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.proof.index)),leafHash:(0,S.fromBase64)((0,l.assertNotEmpty)(e.proof.leaf_hash)),aunts:(0,l.assertArray)(e.proof.aunts).map(S.fromBase64)}}}function Hc(e){return{tx:(0,S.fromBase64)((0,l.assertNotEmpty)(e.tx)),result:gr((0,l.assertObject)(e.tx_result)),height:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.height)),index:(0,A.apiToSmallInt)((0,l.assertNumber)(e.index)),hash:(0,S.fromHex)((0,l.assertNotEmpty)(e.hash)),proof:(0,l.may)(Fy,e.proof)}}function $y(e){return{totalCount:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.total_count)),txs:(0,l.assertArray)(e.txs).map(Hc)}}function Wy(e){const t=(0,S.fromBase64)((0,l.assertNotEmpty)(e.tx));return{tx:t,hash:(0,ky.hashTx)(t),result:gr(e.result),height:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.height))}}function Jy(e){return{blockHeight:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.block_height)),validators:(0,l.assertArray)(e.validators).map(sa),count:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.count)),total:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.total))}}function Vc(e){var t;return{header:qo((0,l.assertObject)(e.header)),lastCommit:e.last_commit.block_id.hash?Dc((0,l.assertObject)(e.last_commit)):null,txs:e.data.txs?(0,l.assertArray)(e.data.txs).map(S.fromBase64):[],evidence:((t=e.evidence)==null?void 0:t.evidence)??[]}}function qc(e){return{blockId:Vo(e.block_id),block:Vc(e.block)}}function Gy(e){return{totalCount:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.total_count)),blocks:(0,l.assertArray)(e.blocks).map(qc)}}function zy(e){return{total:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.total)),totalBytes:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.total_bytes))}}let Ly=class Fc{static decodeAbciInfo(t){return Sy((0,l.assertObject)(t.result.response))}static decodeAbciQuery(t){return Ay((0,l.assertObject)(t.result.response))}static decodeBlock(t){return qc(t.result)}static decodeBlockResults(t){return My(t.result)}static decodeBlockSearch(t){return Gy(t.result)}static decodeBlockchain(t){return jy(t.result)}static decodeBroadcastTxSync(t){return By(t.result)}static decodeBroadcastTxAsync(t){return Fc.decodeBroadcastTxSync(t)}static decodeBroadcastTxCommit(t){return Iy(t.result)}static decodeCommit(t){return Dy(t.result)}static decodeGenesis(t){return Uy((0,l.assertObject)(t.result.genesis))}static decodeHealth(){return null}static decodeNumUnconfirmedTxs(t){return zy(t.result)}static decodeStatus(t){return qy(t.result)}static decodeNewBlockEvent(t){return Vc(t.data.value.block)}static decodeNewBlockHeaderEvent(t){return qo(t.data.value.header)}static decodeTxEvent(t){return Wy(t.data.value.TxResult)}static decodeTx(t){return Hc(t.result)}static decodeTxSearch(t){return $y(t.result)}static decodeValidators(t){return Jy(t.result)}};Re.Responses=Ly;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Responses=e.Params=void 0;var t=Ho;Object.defineProperty(e,"Params",{enumerable:!0,get:function(){return t.Params}});var r=Re;Object.defineProperty(e,"Responses",{enumerable:!0,get:function(){return r.Responses}})})(jc);var Qy=h&&h.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ky=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Zy=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Qy(t,e,r);return Ky(t,e),t};Object.defineProperty(Uo,"__esModule",{value:!0});Uo.Tendermint34Client=void 0;const Xy=at,Sn=en,O=jc,J=Zy(Do);class Rn{static async connect(t){let r;return typeof t=="object"?r=new Sn.HttpClient(t):r=t.startsWith("http://")||t.startsWith("https://")?new Sn.HttpClient(t):new Sn.WebsocketClient(t),await this.detectVersion(r),Rn.create(r)}static async create(t){return new Rn(t)}static async detectVersion(t){const r=(0,Xy.createJsonRpcRequest)(J.Method.Status),n=(await t.execute(r)).result;if(!n||!n.node_info)throw new Error("Unrecognized format for status response");const o=n.node_info.version;if(typeof o!="string")throw new Error("Unrecognized version format: must be string");return o}constructor(t){this.client=t}disconnect(){this.client.disconnect()}async abciInfo(){const t={method:J.Method.AbciInfo};return this.doCall(t,O.Params.encodeAbciInfo,O.Responses.decodeAbciInfo)}async abciQuery(t){const r={params:t,method:J.Method.AbciQuery};return this.doCall(r,O.Params.encodeAbciQuery,O.Responses.decodeAbciQuery)}async block(t){const r={method:J.Method.Block,params:{height:t}};return this.doCall(r,O.Params.encodeBlock,O.Responses.decodeBlock)}async blockResults(t){const r={method:J.Method.BlockResults,params:{height:t}};return this.doCall(r,O.Params.encodeBlockResults,O.Responses.decodeBlockResults)}async blockSearch(t){const r={params:t,method:J.Method.BlockSearch},n=await this.doCall(r,O.Params.encodeBlockSearch,O.Responses.decodeBlockSearch);return{...n,blocks:[...n.blocks].sort((o,s)=>o.block.header.height-s.block.header.height)}}async blockSearchAll(t){let r=t.page||1;const n=[];let o=!1;for(;!o;){const s=await this.blockSearch({...t,page:r});n.push(...s.blocks),n.length<s.totalCount?r++:o=!0}return n.sort((s,a)=>s.block.header.height-a.block.header.height),{totalCount:n.length,blocks:n}}async blockchain(t,r){const n={method:J.Method.Blockchain,params:{minHeight:t,maxHeight:r}};return this.doCall(n,O.Params.encodeBlockchain,O.Responses.decodeBlockchain)}async broadcastTxSync(t){const r={params:t,method:J.Method.BroadcastTxSync};return this.doCall(r,O.Params.encodeBroadcastTx,O.Responses.decodeBroadcastTxSync)}async broadcastTxAsync(t){const r={params:t,method:J.Method.BroadcastTxAsync};return this.doCall(r,O.Params.encodeBroadcastTx,O.Responses.decodeBroadcastTxAsync)}async broadcastTxCommit(t){const r={params:t,method:J.Method.BroadcastTxCommit};return this.doCall(r,O.Params.encodeBroadcastTx,O.Responses.decodeBroadcastTxCommit)}async commit(t){const r={method:J.Method.Commit,params:{height:t}};return this.doCall(r,O.Params.encodeCommit,O.Responses.decodeCommit)}async genesis(){const t={method:J.Method.Genesis};return this.doCall(t,O.Params.encodeGenesis,O.Responses.decodeGenesis)}async health(){const t={method:J.Method.Health};return this.doCall(t,O.Params.encodeHealth,O.Responses.decodeHealth)}async numUnconfirmedTxs(){const t={method:J.Method.NumUnconfirmedTxs};return this.doCall(t,O.Params.encodeNumUnconfirmedTxs,O.Responses.decodeNumUnconfirmedTxs)}async status(){const t={method:J.Method.Status};return this.doCall(t,O.Params.encodeStatus,O.Responses.decodeStatus)}subscribeNewBlock(){const t={method:J.Method.Subscribe,query:{type:J.SubscriptionEventType.NewBlock}};return this.subscribe(t,O.Responses.decodeNewBlockEvent)}subscribeNewBlockHeader(){const t={method:J.Method.Subscribe,query:{type:J.SubscriptionEventType.NewBlockHeader}};return this.subscribe(t,O.Responses.decodeNewBlockHeaderEvent)}subscribeTx(t){const r={method:J.Method.Subscribe,query:{type:J.SubscriptionEventType.Tx,raw:t}};return this.subscribe(r,O.Responses.decodeTxEvent)}async tx(t){const r={params:t,method:J.Method.Tx};return this.doCall(r,O.Params.encodeTx,O.Responses.decodeTx)}async txSearch(t){const r={params:t,method:J.Method.TxSearch};return this.doCall(r,O.Params.encodeTxSearch,O.Responses.decodeTxSearch)}async txSearchAll(t){let r=t.page||1;const n=[];let o=!1;for(;!o;){const s=await this.txSearch({...t,page:r});n.push(...s.txs),n.length<s.totalCount?r++:o=!0}return{totalCount:n.length,txs:n}}async validators(t){const r={method:J.Method.Validators,params:t};return this.doCall(r,O.Params.encodeValidators,O.Responses.decodeValidators)}async validatorsAll(t){const r=[];let n=1,o=!1,s=t;for(;!o;){const a=await this.validators({per_page:50,height:s,page:n});r.push(...a.validators),s=s||a.blockHeight,r.length<a.total?n++:o=!0}return{blockHeight:s??0,count:r.length,total:r.length,validators:r}}async doCall(t,r,n){const o=r(t),s=await this.client.execute(o);return n(s)}subscribe(t,r){if(!(0,Sn.instanceOfRpcStreamingClient)(this.client))throw new Error("This RPC client type cannot subscribe to events");const n=O.Params.encodeSubscribe(t);return this.client.listen(n).map(o=>r(o))}}Uo.Tendermint34Client=Rn;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Tendermint34Client=e.VoteType=e.broadcastTxSyncSuccess=e.broadcastTxCommitSuccess=e.SubscriptionEventType=e.Method=void 0;var t=Do;Object.defineProperty(e,"Method",{enumerable:!0,get:function(){return t.Method}}),Object.defineProperty(e,"SubscriptionEventType",{enumerable:!0,get:function(){return t.SubscriptionEventType}});var r=Oc;Object.defineProperty(e,"broadcastTxCommitSuccess",{enumerable:!0,get:function(){return r.broadcastTxCommitSuccess}}),Object.defineProperty(e,"broadcastTxSyncSuccess",{enumerable:!0,get:function(){return r.broadcastTxSyncSuccess}}),Object.defineProperty(e,"VoteType",{enumerable:!0,get:function(){return r.VoteType}});var n=Uo;Object.defineProperty(e,"Tendermint34Client",{enumerable:!0,get:function(){return n.Tendermint34Client}})})(Hr);var Nn={},Fo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.buildQuery=e.SubscriptionEventType=e.Method=void 0,function(r){r.AbciInfo="abci_info",r.AbciQuery="abci_query",r.Block="block",r.Blockchain="blockchain",r.BlockResults="block_results",r.BlockSearch="block_search",r.BroadcastTxAsync="broadcast_tx_async",r.BroadcastTxSync="broadcast_tx_sync",r.BroadcastTxCommit="broadcast_tx_commit",r.Commit="commit",r.Genesis="genesis",r.Health="health",r.NumUnconfirmedTxs="num_unconfirmed_txs",r.Status="status",r.Subscribe="subscribe",r.Tx="tx",r.TxSearch="tx_search",r.Validators="validators",r.Unsubscribe="unsubscribe"}(e.Method||(e.Method={})),function(r){r.NewBlock="NewBlock",r.NewBlockHeader="NewBlockHeader",r.Tx="Tx"}(e.SubscriptionEventType||(e.SubscriptionEventType={}));function t(r){const n=(r.tags?r.tags:[]).map(s=>`${s.key}='${s.value}'`),o=r.raw?[r.raw]:[];return[...n,...o].join(" AND ")}e.buildQuery=t})(Fo);var $c={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoteType=e.broadcastTxCommitSuccess=e.broadcastTxSyncSuccess=void 0;function t(n){return n.code===0}e.broadcastTxSyncSuccess=t;function r(n){return n.checkTx.code===0&&!!n.deliverTx&&n.deliverTx.code===0}e.broadcastTxCommitSuccess=r,function(n){n[n.PreVote=1]="PreVote",n[n.PreCommit=2]="PreCommit"}(e.VoteType||(e.VoteType={}))})($c);var $o={},Wc={},Wo={},R={};Object.defineProperty(R,"__esModule",{value:!0});R.encodeBlockId=R.encodeVersion=R.encodeBytes=R.encodeTime=R.encodeUvarint=R.encodeString=R.dictionaryToStringMap=R.may=R.assertNotEmpty=R.assertObject=R.assertArray=R.assertNumber=R.assertString=R.assertBoolean=R.assertSet=void 0;const Yy=N;function Rt(e){if(e===void 0)throw new Error("Value must not be undefined");if(e===null)throw new Error("Value must not be null");return e}R.assertSet=Rt;function eb(e){if(Rt(e),typeof e!="boolean")throw new Error("Value must be a boolean");return e}R.assertBoolean=eb;function tb(e){if(Rt(e),typeof e!="string")throw new Error("Value must be a string");return e}R.assertString=tb;function rb(e){if(Rt(e),typeof e!="number")throw new Error("Value must be a number");return e}R.assertNumber=rb;function nb(e){if(Rt(e),!Array.isArray(e))throw new Error("Value must be a an array");return e}R.assertArray=nb;function ob(e){if(Rt(e),typeof e!="object")throw new Error("Value must be an object");if(Object.prototype.toString.call(e)!=="[object Object]")throw new Error("Value must be a simple object");return e}R.assertObject=ob;function sb(e){if(Rt(e),typeof e=="number"&&e===0)throw new Error("must provide a non-zero value");if(e.length===0)throw new Error("must provide a non-empty value");return e}R.assertNotEmpty=sb;function ab(e,t){return t==null?void 0:e(t)}R.may=ab;function ib(e){const t=new Map;for(const r of Object.keys(e)){const n=e[r];if(typeof n!="string")throw new Error("Found dictionary value of type other than string");t.set(r,n)}return t}R.dictionaryToStringMap=ib;function cb(e){const t=(0,Yy.toUtf8)(e);return Uint8Array.from([t.length,...t])}R.encodeString=cb;function yr(e){return e>=128?Uint8Array.from([e&255|128,...yr(e>>7)]):Uint8Array.from([e&255])}R.encodeUvarint=yr;function ub(e){const t=e.getTime(),r=Math.floor(t/1e3),n=r?[8,...yr(r)]:new Uint8Array,o=(e.nanoseconds||0)+t%1e3*1e6,s=o?[16,...yr(o)]:new Uint8Array;return Uint8Array.from([...n,...s])}R.encodeTime=ub;function db(e){if(e.length>=128)throw new Error("Not implemented for byte arrays of length 128 or more");return e.length?Uint8Array.from([e.length,...e]):new Uint8Array}R.encodeBytes=db;function lb(e){const t=e.block?Uint8Array.from([8,...yr(e.block)]):new Uint8Array,r=e.app?Uint8Array.from([16,...yr(e.app)]):new Uint8Array;return Uint8Array.from([...t,...r])}R.encodeVersion=lb;function pb(e){return Uint8Array.from([10,e.hash.length,...e.hash,18,e.parts.hash.length+4,8,e.parts.total,18,e.parts.hash.length,...e.parts.hash])}R.encodeBlockId=pb;var mb=h&&h.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hb=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fb=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&mb(t,e,r);return hb(t,e),t};Object.defineProperty(Wo,"__esModule",{value:!0});Wo.Params=void 0;const aa=N,Fe=Ee,ne=at,we=R,gb=fb(Fo);function ls(e){return{height:(0,we.may)(Fe.smallIntToApi,e.height)}}function yb(e){return{minHeight:(0,we.may)(Fe.smallIntToApi,e.minHeight),maxHeight:(0,we.may)(Fe.smallIntToApi,e.maxHeight)}}function bb(e){return{query:e.query,page:(0,we.may)(Fe.smallIntToApi,e.page),per_page:(0,we.may)(Fe.smallIntToApi,e.per_page),order_by:e.order_by}}function vb(e){return{path:(0,we.assertNotEmpty)(e.path),data:(0,aa.toHex)(e.data),height:(0,we.may)(Fe.smallIntToApi,e.height),prove:e.prove}}function wb(e){return{tx:(0,aa.toBase64)((0,we.assertNotEmpty)(e.tx))}}function kb(e){return{hash:(0,aa.toBase64)((0,we.assertNotEmpty)(e.hash)),prove:e.prove}}function Sb(e){return{query:e.query,prove:e.prove,page:(0,we.may)(Fe.smallIntToApi,e.page),per_page:(0,we.may)(Fe.smallIntToApi,e.per_page),order_by:e.order_by}}function Pb(e){return{height:(0,we.may)(Fe.smallIntToApi,e.height),page:(0,we.may)(Fe.smallIntToApi,e.page),per_page:(0,we.may)(Fe.smallIntToApi,e.per_page)}}class Ab{static encodeAbciInfo(t){return(0,ne.createJsonRpcRequest)(t.method)}static encodeAbciQuery(t){return(0,ne.createJsonRpcRequest)(t.method,vb(t.params))}static encodeBlock(t){return(0,ne.createJsonRpcRequest)(t.method,ls(t.params))}static encodeBlockchain(t){return(0,ne.createJsonRpcRequest)(t.method,yb(t.params))}static encodeBlockResults(t){return(0,ne.createJsonRpcRequest)(t.method,ls(t.params))}static encodeBlockSearch(t){return(0,ne.createJsonRpcRequest)(t.method,bb(t.params))}static encodeBroadcastTx(t){return(0,ne.createJsonRpcRequest)(t.method,wb(t.params))}static encodeCommit(t){return(0,ne.createJsonRpcRequest)(t.method,ls(t.params))}static encodeGenesis(t){return(0,ne.createJsonRpcRequest)(t.method)}static encodeHealth(t){return(0,ne.createJsonRpcRequest)(t.method)}static encodeNumUnconfirmedTxs(t){return(0,ne.createJsonRpcRequest)(t.method)}static encodeStatus(t){return(0,ne.createJsonRpcRequest)(t.method)}static encodeSubscribe(t){const r={key:"tm.event",value:t.query.type},n=gb.buildQuery({tags:[r],raw:t.query.raw});return(0,ne.createJsonRpcRequest)("subscribe",{query:n})}static encodeTx(t){return(0,ne.createJsonRpcRequest)(t.method,kb(t.params))}static encodeTxSearch(t){return(0,ne.createJsonRpcRequest)(t.method,Sb(t.params))}static encodeValidators(t){return(0,ne.createJsonRpcRequest)(t.method,Pb(t.params))}}Wo.Params=Ab;var Ne={},br={};Object.defineProperty(br,"__esModule",{value:!0});br.hashBlock=br.hashTx=void 0;const ia=ke,pe=R;function Eb(e){return(0,ia.sha256)(e)}br.hashTx=Eb;function Tb(e){if(e<1)throw new Error("Cannot split an empty tree");const t=2**Math.floor(Math.log2(e));return t<e?t:t/2}function xb(e){const t=new ia.Sha256(Uint8Array.from([0]));return t.update(e),t.digest()}function _b(e,t){const r=new ia.Sha256(Uint8Array.from([1]));return r.update(e),r.update(t),r.digest()}function js(e){switch(e.length){case 0:throw new Error("Cannot hash empty tree");case 1:return xb(e[0]);default:{const t=Tb(e.length),r=js(e.slice(0,t)),n=js(e.slice(t));return _b(r,n)}}}function Mb(e){if(!e.lastBlockId)throw new Error("Hashing a block header with no last block ID (i.e. header at height 1) is not supported. If you need this, contributions are welcome. Please add documentation and test vectors for this case.");const t=[(0,pe.encodeVersion)(e.version),(0,pe.encodeString)(e.chainId),(0,pe.encodeUvarint)(e.height),(0,pe.encodeTime)(e.time),(0,pe.encodeBlockId)(e.lastBlockId),(0,pe.encodeBytes)(e.lastCommitHash),(0,pe.encodeBytes)(e.dataHash),(0,pe.encodeBytes)(e.validatorsHash),(0,pe.encodeBytes)(e.nextValidatorsHash),(0,pe.encodeBytes)(e.consensusHash),(0,pe.encodeBytes)(e.appHash),(0,pe.encodeBytes)(e.lastResultsHash),(0,pe.encodeBytes)(e.evidenceHash),(0,pe.encodeBytes)(e.proposerAddress)];return js(t)}br.hashBlock=Mb;Object.defineProperty(Ne,"__esModule",{value:!0});Ne.Responses=Ne.decodeValidatorInfo=Ne.decodeValidatorGenesis=Ne.decodeValidatorUpdate=Ne.decodeEvent=void 0;const _=N,Jc=Z,Jr=ae,E=Ee,Cb=on,p=R,Ob=br;function jb(e){return{data:e.data,lastBlockHeight:(0,p.may)(E.apiToSmallInt,e.last_block_height),lastBlockAppHash:(0,p.may)(_.fromBase64,e.last_block_app_hash)}}function Bb(e){return{ops:e.ops.map(t=>({type:t.type,key:(0,_.fromBase64)(t.key),data:(0,_.fromBase64)(t.data)}))}}function Ib(e){return{key:(0,_.fromBase64)((0,p.assertString)(e.key??"")),value:(0,_.fromBase64)((0,p.assertString)(e.value??"")),proof:(0,p.may)(Bb,e.proofOps),height:(0,p.may)(E.apiToSmallInt,e.height),code:(0,p.may)(E.apiToSmallInt,e.code),codespace:(0,p.assertString)(e.codespace??""),index:(0,p.may)(E.apiToSmallInt,e.index),log:e.log,info:(0,p.assertString)(e.info??"")}}function Rb(e){return{key:(0,p.assertNotEmpty)(e.key),value:e.value??""}}function Nb(e){return(0,p.assertArray)(e).map(Rb)}function Gc(e){return{type:e.type,attributes:e.attributes?Nb(e.attributes):[]}}Ne.decodeEvent=Gc;function Bs(e){return(0,p.assertArray)(e).map(Gc)}function vr(e){return{code:(0,E.apiToSmallInt)((0,p.assertNumber)(e.code??0)),codespace:e.codespace,log:e.log,data:(0,p.may)(_.fromBase64,e.data),events:e.events?Bs(e.events):[],gasWanted:(0,E.apiToBigInt)(e.gas_wanted??"0"),gasUsed:(0,E.apiToBigInt)(e.gas_used??"0")}}function ca(e){if("Sum"in e){const[[t,r]]=Object.entries(e.Sum.value);return(0,Jc.assert)(t==="ed25519"||t==="secp256k1",`unknown pubkey type: ${t}`),{algorithm:t,data:(0,_.fromBase64)((0,p.assertNotEmpty)(r))}}else switch(e.type){case"tendermint/PubKeyEd25519":return{algorithm:"ed25519",data:(0,_.fromBase64)((0,p.assertNotEmpty)(e.value))};case"tendermint/PubKeySecp256k1":return{algorithm:"secp256k1",data:(0,_.fromBase64)((0,p.assertNotEmpty)(e.value))};default:throw new Error(`unknown pubkey type: ${e.type}`)}}function Db(e){return{maxBytes:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.max_bytes)),maxGas:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.max_gas))}}function Ub(e){return{maxAgeNumBlocks:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.max_age_num_blocks)),maxAgeDuration:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.max_age_duration))}}function zc(e){return{block:Db((0,p.assertObject)(e.block)),evidence:Ub((0,p.assertObject)(e.evidence))}}function Lc(e){return{pubkey:ca((0,p.assertObject)(e.pub_key)),votingPower:(0,E.apiToBigInt)(e.power??"0")}}Ne.decodeValidatorUpdate=Lc;function Hb(e){return{height:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.height)),results:(e.txs_results||[]).map(vr),validatorUpdates:(e.validator_updates||[]).map(Lc),consensusUpdates:(0,p.may)(zc,e.consensus_param_updates),beginBlockEvents:Bs(e.begin_block_events||[]),endBlockEvents:Bs(e.end_block_events||[])}}function Jo(e){return{hash:(0,_.fromHex)((0,p.assertNotEmpty)(e.hash)),parts:{total:(0,p.assertNotEmpty)(e.parts.total),hash:(0,_.fromHex)((0,p.assertNotEmpty)(e.parts.hash))}}}function Vb(e){return{block:(0,E.apiToSmallInt)(e.block),app:(0,E.apiToSmallInt)(e.app??0)}}function Go(e){return{version:Vb(e.version),chainId:(0,p.assertNotEmpty)(e.chain_id),height:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.height)),time:(0,Jr.fromRfc3339WithNanoseconds)((0,p.assertNotEmpty)(e.time)),lastBlockId:e.last_block_id.hash?Jo(e.last_block_id):null,lastCommitHash:(0,_.fromHex)((0,p.assertSet)(e.last_commit_hash)),dataHash:(0,_.fromHex)((0,p.assertSet)(e.data_hash)),validatorsHash:(0,_.fromHex)((0,p.assertSet)(e.validators_hash)),nextValidatorsHash:(0,_.fromHex)((0,p.assertSet)(e.next_validators_hash)),consensusHash:(0,_.fromHex)((0,p.assertSet)(e.consensus_hash)),appHash:(0,_.fromHex)((0,p.assertSet)(e.app_hash)),lastResultsHash:(0,_.fromHex)((0,p.assertSet)(e.last_results_hash)),evidenceHash:(0,_.fromHex)((0,p.assertSet)(e.evidence_hash)),proposerAddress:(0,_.fromHex)((0,p.assertNotEmpty)(e.proposer_address))}}function qb(e){return{blockId:Jo(e.block_id),blockSize:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.block_size)),header:Go(e.header),numTxs:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.num_txs))}}function Fb(e){return{lastHeight:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.last_height)),blockMetas:(0,p.assertArray)(e.block_metas).map(qb)}}function $b(e){return{...vr(e),hash:(0,_.fromHex)((0,p.assertNotEmpty)(e.hash))}}function Wb(e){return{height:(0,E.apiToSmallInt)(e.height),hash:(0,_.fromHex)((0,p.assertNotEmpty)(e.hash)),checkTx:vr((0,p.assertObject)(e.check_tx)),deliverTx:(0,p.may)(vr,e.deliver_tx)}}function Jb(e){return(0,Jc.assert)(e in Cb.BlockIdFlag),e}function Gb(e){return{blockIdFlag:Jb(e.block_id_flag),validatorAddress:e.validator_address?(0,_.fromHex)(e.validator_address):void 0,timestamp:e.timestamp?(0,Jr.fromRfc3339WithNanoseconds)(e.timestamp):void 0,signature:e.signature?(0,_.fromBase64)(e.signature):void 0}}function Qc(e){return{blockId:Jo((0,p.assertObject)(e.block_id)),height:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.height)),round:(0,E.apiToSmallInt)(e.round),signatures:(0,p.assertArray)(e.signatures).map(Gb)}}function zb(e){return{canonical:(0,p.assertBoolean)(e.canonical),header:Go(e.signed_header.header),commit:Qc(e.signed_header.commit)}}function Kc(e){return{address:(0,_.fromHex)((0,p.assertNotEmpty)(e.address)),pubkey:ca((0,p.assertObject)(e.pub_key)),votingPower:(0,E.apiToBigInt)((0,p.assertNotEmpty)(e.power))}}Ne.decodeValidatorGenesis=Kc;function Lb(e){return{genesisTime:(0,Jr.fromRfc3339WithNanoseconds)((0,p.assertNotEmpty)(e.genesis_time)),chainId:(0,p.assertNotEmpty)(e.chain_id),consensusParams:zc(e.consensus_params),validators:e.validators?(0,p.assertArray)(e.validators).map(Kc):[],appHash:(0,_.fromHex)((0,p.assertSet)(e.app_hash)),appState:e.app_state}}function ua(e){return{pubkey:ca((0,p.assertObject)(e.pub_key)),votingPower:(0,E.apiToBigInt)((0,p.assertNotEmpty)(e.voting_power)),address:(0,_.fromHex)((0,p.assertNotEmpty)(e.address)),proposerPriority:e.proposer_priority?(0,E.apiToSmallInt)(e.proposer_priority):void 0}}Ne.decodeValidatorInfo=ua;function Qb(e){return{id:(0,_.fromHex)((0,p.assertNotEmpty)(e.id)),listenAddr:(0,p.assertNotEmpty)(e.listen_addr),network:(0,p.assertNotEmpty)(e.network),version:(0,p.assertString)(e.version),channels:(0,p.assertString)(e.channels),moniker:(0,p.assertNotEmpty)(e.moniker),other:(0,p.dictionaryToStringMap)(e.other),protocolVersion:{app:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.protocol_version.app)),block:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.protocol_version.block)),p2p:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.protocol_version.p2p))}}}function Kb(e){const t=e.earliest_block_height?(0,E.apiToSmallInt)(e.earliest_block_height):void 0,r=e.earliest_block_time?(0,Jr.fromRfc3339WithNanoseconds)(e.earliest_block_time):void 0;return{earliestAppHash:e.earliest_app_hash?(0,_.fromHex)(e.earliest_app_hash):void 0,earliestBlockHash:e.earliest_block_hash?(0,_.fromHex)(e.earliest_block_hash):void 0,earliestBlockHeight:t||void 0,earliestBlockTime:r!=null&&r.getTime()?r:void 0,latestBlockHash:(0,_.fromHex)((0,p.assertNotEmpty)(e.latest_block_hash)),latestAppHash:(0,_.fromHex)((0,p.assertNotEmpty)(e.latest_app_hash)),latestBlockTime:(0,Jr.fromRfc3339WithNanoseconds)((0,p.assertNotEmpty)(e.latest_block_time)),latestBlockHeight:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.latest_block_height)),catchingUp:(0,p.assertBoolean)(e.catching_up)}}function Zb(e){return{nodeInfo:Qb(e.node_info),syncInfo:Kb(e.sync_info),validatorInfo:ua(e.validator_info)}}function Xb(e){return{data:(0,_.fromBase64)((0,p.assertNotEmpty)(e.data)),rootHash:(0,_.fromHex)((0,p.assertNotEmpty)(e.root_hash)),proof:{total:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.proof.total)),index:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.proof.index)),leafHash:(0,_.fromBase64)((0,p.assertNotEmpty)(e.proof.leaf_hash)),aunts:(0,p.assertArray)(e.proof.aunts).map(_.fromBase64)}}}function Zc(e){return{tx:(0,_.fromBase64)((0,p.assertNotEmpty)(e.tx)),result:vr((0,p.assertObject)(e.tx_result)),height:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.height)),index:(0,E.apiToSmallInt)((0,p.assertNumber)(e.index)),hash:(0,_.fromHex)((0,p.assertNotEmpty)(e.hash)),proof:(0,p.may)(Xb,e.proof)}}function Yb(e){return{totalCount:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.total_count)),txs:(0,p.assertArray)(e.txs).map(Zc)}}function e0(e){const t=(0,_.fromBase64)((0,p.assertNotEmpty)(e.tx));return{tx:t,hash:(0,Ob.hashTx)(t),result:vr(e.result),height:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.height))}}function t0(e){return{blockHeight:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.block_height)),validators:(0,p.assertArray)(e.validators).map(ua),count:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.count)),total:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.total))}}function Xc(e){var t;return{header:Go((0,p.assertObject)(e.header)),lastCommit:e.last_commit.block_id.hash?Qc((0,p.assertObject)(e.last_commit)):null,txs:e.data.txs?(0,p.assertArray)(e.data.txs).map(_.fromBase64):[],evidence:((t=e.evidence)==null?void 0:t.evidence)??[]}}function Yc(e){return{blockId:Jo(e.block_id),block:Xc(e.block)}}function r0(e){return{totalCount:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.total_count)),blocks:(0,p.assertArray)(e.blocks).map(Yc)}}function n0(e){return{total:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.total)),totalBytes:(0,E.apiToSmallInt)((0,p.assertNotEmpty)(e.total_bytes))}}class da{static decodeAbciInfo(t){return jb((0,p.assertObject)(t.result.response))}static decodeAbciQuery(t){return Ib((0,p.assertObject)(t.result.response))}static decodeBlock(t){return Yc(t.result)}static decodeBlockResults(t){return Hb(t.result)}static decodeBlockSearch(t){return r0(t.result)}static decodeBlockchain(t){return Fb(t.result)}static decodeBroadcastTxSync(t){return $b(t.result)}static decodeBroadcastTxAsync(t){return da.decodeBroadcastTxSync(t)}static decodeBroadcastTxCommit(t){return Wb(t.result)}static decodeCommit(t){return zb(t.result)}static decodeGenesis(t){return Lb((0,p.assertObject)(t.result.genesis))}static decodeHealth(){return null}static decodeNumUnconfirmedTxs(t){return n0(t.result)}static decodeStatus(t){return Zb(t.result)}static decodeNewBlockEvent(t){return Xc(t.data.value.block)}static decodeNewBlockHeaderEvent(t){return Go(t.data.value.header)}static decodeTxEvent(t){return e0(t.data.value.TxResult)}static decodeTx(t){return Zc(t.result)}static decodeTxSearch(t){return Yb(t.result)}static decodeValidators(t){return t0(t.result)}}Ne.Responses=da;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Responses=e.Params=void 0;var t=Wo;Object.defineProperty(e,"Params",{enumerable:!0,get:function(){return t.Params}});var r=Ne;Object.defineProperty(e,"Responses",{enumerable:!0,get:function(){return r.Responses}})})(Wc);var o0=h&&h.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),s0=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a0=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&o0(t,e,r);return s0(t,e),t};Object.defineProperty($o,"__esModule",{value:!0});$o.Tendermint37Client=void 0;const i0=at,Pn=en,j=Wc,G=a0(Fo);class Dn{static async connect(t){let r;return typeof t=="object"?r=new Pn.HttpClient(t):r=t.startsWith("http://")||t.startsWith("https://")?new Pn.HttpClient(t):new Pn.WebsocketClient(t),await this.detectVersion(r),Dn.create(r)}static async create(t){return new Dn(t)}static async detectVersion(t){const r=(0,i0.createJsonRpcRequest)(G.Method.Status),n=(await t.execute(r)).result;if(!n||!n.node_info)throw new Error("Unrecognized format for status response");const o=n.node_info.version;if(typeof o!="string")throw new Error("Unrecognized version format: must be string");return o}constructor(t){this.client=t}disconnect(){this.client.disconnect()}async abciInfo(){const t={method:G.Method.AbciInfo};return this.doCall(t,j.Params.encodeAbciInfo,j.Responses.decodeAbciInfo)}async abciQuery(t){const r={params:t,method:G.Method.AbciQuery};return this.doCall(r,j.Params.encodeAbciQuery,j.Responses.decodeAbciQuery)}async block(t){const r={method:G.Method.Block,params:{height:t}};return this.doCall(r,j.Params.encodeBlock,j.Responses.decodeBlock)}async blockResults(t){const r={method:G.Method.BlockResults,params:{height:t}};return this.doCall(r,j.Params.encodeBlockResults,j.Responses.decodeBlockResults)}async blockSearch(t){const r={params:t,method:G.Method.BlockSearch},n=await this.doCall(r,j.Params.encodeBlockSearch,j.Responses.decodeBlockSearch);return{...n,blocks:[...n.blocks].sort((o,s)=>o.block.header.height-s.block.header.height)}}async blockSearchAll(t){let r=t.page||1;const n=[];let o=!1;for(;!o;){const s=await this.blockSearch({...t,page:r});n.push(...s.blocks),n.length<s.totalCount?r++:o=!0}return n.sort((s,a)=>s.block.header.height-a.block.header.height),{totalCount:n.length,blocks:n}}async blockchain(t,r){const n={method:G.Method.Blockchain,params:{minHeight:t,maxHeight:r}};return this.doCall(n,j.Params.encodeBlockchain,j.Responses.decodeBlockchain)}async broadcastTxSync(t){const r={params:t,method:G.Method.BroadcastTxSync};return this.doCall(r,j.Params.encodeBroadcastTx,j.Responses.decodeBroadcastTxSync)}async broadcastTxAsync(t){const r={params:t,method:G.Method.BroadcastTxAsync};return this.doCall(r,j.Params.encodeBroadcastTx,j.Responses.decodeBroadcastTxAsync)}async broadcastTxCommit(t){const r={params:t,method:G.Method.BroadcastTxCommit};return this.doCall(r,j.Params.encodeBroadcastTx,j.Responses.decodeBroadcastTxCommit)}async commit(t){const r={method:G.Method.Commit,params:{height:t}};return this.doCall(r,j.Params.encodeCommit,j.Responses.decodeCommit)}async genesis(){const t={method:G.Method.Genesis};return this.doCall(t,j.Params.encodeGenesis,j.Responses.decodeGenesis)}async health(){const t={method:G.Method.Health};return this.doCall(t,j.Params.encodeHealth,j.Responses.decodeHealth)}async numUnconfirmedTxs(){const t={method:G.Method.NumUnconfirmedTxs};return this.doCall(t,j.Params.encodeNumUnconfirmedTxs,j.Responses.decodeNumUnconfirmedTxs)}async status(){const t={method:G.Method.Status};return this.doCall(t,j.Params.encodeStatus,j.Responses.decodeStatus)}subscribeNewBlock(){const t={method:G.Method.Subscribe,query:{type:G.SubscriptionEventType.NewBlock}};return this.subscribe(t,j.Responses.decodeNewBlockEvent)}subscribeNewBlockHeader(){const t={method:G.Method.Subscribe,query:{type:G.SubscriptionEventType.NewBlockHeader}};return this.subscribe(t,j.Responses.decodeNewBlockHeaderEvent)}subscribeTx(t){const r={method:G.Method.Subscribe,query:{type:G.SubscriptionEventType.Tx,raw:t}};return this.subscribe(r,j.Responses.decodeTxEvent)}async tx(t){const r={params:t,method:G.Method.Tx};return this.doCall(r,j.Params.encodeTx,j.Responses.decodeTx)}async txSearch(t){const r={params:t,method:G.Method.TxSearch};return this.doCall(r,j.Params.encodeTxSearch,j.Responses.decodeTxSearch)}async txSearchAll(t){let r=t.page||1;const n=[];let o=!1;for(;!o;){const s=await this.txSearch({...t,page:r});n.push(...s.txs),n.length<s.totalCount?r++:o=!0}return{totalCount:n.length,txs:n}}async validators(t){const r={method:G.Method.Validators,params:t};return this.doCall(r,j.Params.encodeValidators,j.Responses.decodeValidators)}async validatorsAll(t){const r=[];let n=1,o=!1,s=t;for(;!o;){const a=await this.validators({per_page:50,height:s,page:n});r.push(...a.validators),s=s||a.blockHeight,r.length<a.total?n++:o=!0}return{blockHeight:s??0,count:r.length,total:r.length,validators:r}}async doCall(t,r,n){const o=r(t),s=await this.client.execute(o);return n(s)}subscribe(t,r){if(!(0,Pn.instanceOfRpcStreamingClient)(this.client))throw new Error("This RPC client type cannot subscribe to events");const n=j.Params.encodeSubscribe(t);return this.client.listen(n).map(o=>r(o))}}$o.Tendermint37Client=Dn;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Tendermint37Client=e.VoteType=e.broadcastTxSyncSuccess=e.broadcastTxCommitSuccess=e.SubscriptionEventType=e.Method=void 0;var t=Fo;Object.defineProperty(e,"Method",{enumerable:!0,get:function(){return t.Method}}),Object.defineProperty(e,"SubscriptionEventType",{enumerable:!0,get:function(){return t.SubscriptionEventType}});var r=$c;Object.defineProperty(e,"broadcastTxCommitSuccess",{enumerable:!0,get:function(){return r.broadcastTxCommitSuccess}}),Object.defineProperty(e,"broadcastTxSyncSuccess",{enumerable:!0,get:function(){return r.broadcastTxSyncSuccess}}),Object.defineProperty(e,"VoteType",{enumerable:!0,get:function(){return r.VoteType}});var n=$o;Object.defineProperty(e,"Tendermint37Client",{enumerable:!0,get:function(){return n.Tendermint37Client}})})(Nn);var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.connectComet=Ze.isComet38Client=Ze.isTendermint37Client=Ze.isTendermint34Client=void 0;const eu=jn,tu=Hr,ru=Nn;function c0(e){return e instanceof tu.Tendermint34Client}Ze.isTendermint34Client=c0;function u0(e){return e instanceof ru.Tendermint37Client}Ze.isTendermint37Client=u0;function d0(e){return e instanceof eu.Comet38Client}Ze.isComet38Client=d0;async function l0(e){let t;const r=await ru.Tendermint37Client.connect(e),n=(await r.status()).nodeInfo.version;return n.startsWith("0.37.")?t=r:n.startsWith("0.38.")?(r.disconnect(),t=await eu.Comet38Client.connect(e)):(r.disconnect(),t=await tu.Tendermint34Client.connect(e)),t}Ze.connectComet=l0;(function(e){var t=h&&h.__createBinding||(Object.create?function(M,F,y,f){f===void 0&&(f=y);var v=Object.getOwnPropertyDescriptor(F,y);(!v||("get"in v?!F.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return F[y]}}),Object.defineProperty(M,f,v)}:function(M,F,y,f){f===void 0&&(f=y),M[f]=F[y]}),r=h&&h.__setModuleDefault||(Object.create?function(M,F){Object.defineProperty(M,"default",{enumerable:!0,value:F})}:function(M,F){M.default=F}),n=h&&h.__importStar||function(M){if(M&&M.__esModule)return M;var F={};if(M!=null)for(var y in M)y!=="default"&&Object.prototype.hasOwnProperty.call(M,y)&&t(F,M,y);return r(F,M),F};Object.defineProperty(e,"__esModule",{value:!0}),e.BlockIdFlag=e.isTendermint37Client=e.isTendermint34Client=e.isComet38Client=e.connectComet=e.Tendermint37Client=e.tendermint37=e.Tendermint34Client=e.tendermint34=e.VoteType=e.SubscriptionEventType=e.Method=e.broadcastTxSyncSuccess=e.broadcastTxCommitSuccess=e.WebsocketClient=e.HttpClient=e.HttpBatchClient=e.Comet38Client=e.comet38=e.toSeconds=e.toRfc3339WithNanoseconds=e.fromSeconds=e.fromRfc3339WithNanoseconds=e.DateTime=e.rawSecp256k1PubkeyToRawAddress=e.rawEd25519PubkeyToRawAddress=e.pubkeyToRawAddress=e.pubkeyToAddress=void 0;var o=Ke;Object.defineProperty(e,"pubkeyToAddress",{enumerable:!0,get:function(){return o.pubkeyToAddress}}),Object.defineProperty(e,"pubkeyToRawAddress",{enumerable:!0,get:function(){return o.pubkeyToRawAddress}}),Object.defineProperty(e,"rawEd25519PubkeyToRawAddress",{enumerable:!0,get:function(){return o.rawEd25519PubkeyToRawAddress}}),Object.defineProperty(e,"rawSecp256k1PubkeyToRawAddress",{enumerable:!0,get:function(){return o.rawSecp256k1PubkeyToRawAddress}});var s=ae;Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return s.DateTime}}),Object.defineProperty(e,"fromRfc3339WithNanoseconds",{enumerable:!0,get:function(){return s.fromRfc3339WithNanoseconds}}),Object.defineProperty(e,"fromSeconds",{enumerable:!0,get:function(){return s.fromSeconds}}),Object.defineProperty(e,"toRfc3339WithNanoseconds",{enumerable:!0,get:function(){return s.toRfc3339WithNanoseconds}}),Object.defineProperty(e,"toSeconds",{enumerable:!0,get:function(){return s.toSeconds}}),e.comet38=n(jn);var a=jn;Object.defineProperty(e,"Comet38Client",{enumerable:!0,get:function(){return a.Comet38Client}});var c=en;Object.defineProperty(e,"HttpBatchClient",{enumerable:!0,get:function(){return c.HttpBatchClient}}),Object.defineProperty(e,"HttpClient",{enumerable:!0,get:function(){return c.HttpClient}}),Object.defineProperty(e,"WebsocketClient",{enumerable:!0,get:function(){return c.WebsocketClient}});var i=Hr;Object.defineProperty(e,"broadcastTxCommitSuccess",{enumerable:!0,get:function(){return i.broadcastTxCommitSuccess}}),Object.defineProperty(e,"broadcastTxSyncSuccess",{enumerable:!0,get:function(){return i.broadcastTxSyncSuccess}}),Object.defineProperty(e,"Method",{enumerable:!0,get:function(){return i.Method}}),Object.defineProperty(e,"SubscriptionEventType",{enumerable:!0,get:function(){return i.SubscriptionEventType}}),Object.defineProperty(e,"VoteType",{enumerable:!0,get:function(){return i.VoteType}}),e.tendermint34=n(Hr);var u=Hr;Object.defineProperty(e,"Tendermint34Client",{enumerable:!0,get:function(){return u.Tendermint34Client}}),e.tendermint37=n(Nn);var d=Nn;Object.defineProperty(e,"Tendermint37Client",{enumerable:!0,get:function(){return d.Tendermint37Client}});var g=Ze;Object.defineProperty(e,"connectComet",{enumerable:!0,get:function(){return g.connectComet}}),Object.defineProperty(e,"isComet38Client",{enumerable:!0,get:function(){return g.isComet38Client}}),Object.defineProperty(e,"isTendermint34Client",{enumerable:!0,get:function(){return g.isTendermint34Client}}),Object.defineProperty(e,"isTendermint37Client",{enumerable:!0,get:function(){return g.isTendermint37Client}});var T=on;Object.defineProperty(e,"BlockIdFlag",{enumerable:!0,get:function(){return T.BlockIdFlag}})})(Ls);var Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.StargateClient=Y.BroadcastTxError=Y.assertIsDeliverTxFailure=Y.assertIsDeliverTxSuccess=Y.isDeliverTxSuccess=Y.isDeliverTxFailure=Y.TimeoutError=void 0;const p0=st,ps=N,ni=ee,oi=Ls,si=Z,m0=od,h0=Gr,f0=Zr,An=Fr,g0=ie,y0=Yr;class nu extends Error{constructor(t,r){super(t),this.txId=r}}Y.TimeoutError=nu;function la(e){return!!e.code}Y.isDeliverTxFailure=la;function ou(e){return!la(e)}Y.isDeliverTxSuccess=ou;function b0(e){if(la(e))throw new Error(`Error when broadcasting tx ${e.transactionHash} at height ${e.height}. Code: ${e.code}; Raw log: ${e.rawLog}`)}Y.assertIsDeliverTxSuccess=b0;function v0(e){if(ou(e))throw new Error(`Transaction ${e.transactionHash} did not fail at height ${e.height}. Code: ${e.code}; Raw log: ${e.rawLog}`)}Y.assertIsDeliverTxFailure=v0;class su extends Error{constructor(t,r,n){super(`Broadcasting transaction failed with code ${t} (codespace: ${r}). Log: ${n}`),this.code=t,this.codespace=r,this.log=n}}Y.BroadcastTxError=su;class Un{static async connect(t,r={}){const n=await(0,oi.connectComet)(t);return Un.create(n,r)}static async create(t,r={}){return new Un(t,r)}constructor(t,r){t&&(this.cometClient=t,this.queryClient=g0.QueryClient.withExtensions(t,An.setupAuthExtension,An.setupBankExtension,An.setupStakingExtension,An.setupTxExtension));const{accountParser:n=h0.accountFromAny}=r;this.accountParser=n}getCometClient(){return this.cometClient}forceGetCometClient(){if(!this.cometClient)throw new Error("Comet client not available. You cannot use online functionality in offline mode.");return this.cometClient}getQueryClient(){return this.queryClient}forceGetQueryClient(){if(!this.queryClient)throw new Error("Query client not available. You cannot use online functionality in offline mode.");return this.queryClient}async getChainId(){if(!this.chainId){const t=(await this.forceGetCometClient().status()).nodeInfo.network;if(!t)throw new Error("Chain ID must not be empty");this.chainId=t}return this.chainId}async getHeight(){return(await this.forceGetCometClient().status()).syncInfo.latestBlockHeight}async getAccount(t){try{const r=await this.forceGetQueryClient().auth.account(t);return r?this.accountParser(r):null}catch(r){if(/rpc error: code = NotFound/i.test(r.toString()))return null;throw r}}async getSequence(t){const r=await this.getAccount(t);if(!r)throw new Error(`Account '${t}' does not exist on chain. Send some tokens there before trying to query sequence.`);return{accountNumber:r.accountNumber,sequence:r.sequence}}async getBlock(t){const r=await this.forceGetCometClient().block(t);return{id:(0,ps.toHex)(r.blockId.hash).toUpperCase(),header:{version:{block:new ni.Uint53(r.block.header.version.block).toString(),app:new ni.Uint53(r.block.header.version.app).toString()},height:r.block.header.height,chainId:r.block.header.chainId,time:(0,oi.toRfc3339WithNanoseconds)(r.block.header.time)},txs:r.block.txs}}async getBalance(t,r){return this.forceGetQueryClient().bank.balance(t,r)}async getAllBalances(t){return this.forceGetQueryClient().bank.allBalances(t)}async getBalanceStaked(t){const r=[];let n;do{const{delegationResponses:o,pagination:s}=await this.forceGetQueryClient().staking.delegatorDelegations(t,n),a=o||[];r.push(...a),n=s?.nextKey}while(n!==void 0&&n.length!==0);return r.reduce((o,s)=>((0,si.assert)(s.balance),o!==null?(0,p0.addCoins)(o,s.balance):s.balance),null)}async getDelegation(t,r){var n;let o;try{o=(n=(await this.forceGetQueryClient().staking.delegation(t,r)).delegationResponse)==null?void 0:n.balance}catch(s){if(!s.toString().includes("key not found"))throw s}return o||null}async getTx(t){return(await this.txsQuery(`tx.hash='${t}'`))[0]??null}async searchTx(t){let r;if(typeof t=="string")r=t;else if((0,y0.isSearchTxQueryArray)(t))r=t.map(n=>typeof n.value=="string"?`${n.key}='${n.value}'`:`${n.key}=${n.value}`).join(" AND ");else throw new Error("Got unsupported query type. See CosmJS 0.31 CHANGELOG for API breaking changes here.");return this.txsQuery(r)}disconnect(){this.cometClient&&this.cometClient.disconnect()}async broadcastTx(t,r=6e4,n=3e3){let o=!1;const s=setTimeout(()=>{o=!0},r),a=async i=>{if(o)throw new nu(`Transaction with ID ${i} was submitted but was not yet found on the chain. You might want to check later. There was a wait of ${r/1e3} seconds.`,i);await(0,si.sleep)(n);const u=await this.getTx(i);return u?{code:u.code,height:u.height,txIndex:u.txIndex,events:u.events,rawLog:u.rawLog,transactionHash:i,msgResponses:u.msgResponses,gasUsed:u.gasUsed,gasWanted:u.gasWanted}:a(i)},c=await this.broadcastTxSync(t);return new Promise((i,u)=>a(c).then(d=>{clearTimeout(s),i(d)},d=>{clearTimeout(s),u(d)}))}async broadcastTxSync(t){const r=await this.forceGetCometClient().broadcastTxSync({tx:t});return r.code?Promise.reject(new su(r.code,r.codespace??"",r.log)):(0,ps.toHex)(r.hash).toUpperCase()}async txsQuery(t){return(await this.forceGetCometClient().txSearchAll({query:t})).txs.map(r=>{const n=m0.TxMsgData.decode(r.result.data??new Uint8Array);return{height:r.height,txIndex:r.index,hash:(0,ps.toHex)(r.hash).toUpperCase(),code:r.result.code,events:r.result.events.map(f0.fromTendermintEvent),rawLog:r.result.log||"",tx:r.tx,msgResponses:n.msgResponses,gasUsed:r.result.gasUsed,gasWanted:r.result.gasWanted}})}}Y.StargateClient=Un;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SigningStargateClient=e.createDefaultAminoConverters=e.defaultRegistryTypes=void 0;const t=st,r=N,n=ee,o=bt,s=Ls,a=Z,c=li,i=ui,u=di,d=qn,g=Ot,T=Vn,M=Kr,F=Ct,y=Fr,f=Fr,v=Y;e.defaultRegistryTypes=[["/cosmos.base.v1beta1.Coin",c.Coin],...y.authzTypes,...y.bankTypes,...y.distributionTypes,...y.feegrantTypes,...y.govTypes,...y.groupTypes,...y.stakingTypes,...y.ibcTypes,...y.vestingTypes];function H(){return{...(0,f.createAuthzAminoConverters)(),...(0,f.createBankAminoConverters)(),...(0,f.createDistributionAminoConverters)(),...(0,f.createGovAminoConverters)(),...(0,f.createStakingAminoConverters)(),...(0,f.createIbcAminoConverters)(),...(0,f.createFeegrantAminoConverters)(),...(0,f.createVestingAminoConverters)()}}e.createDefaultAminoConverters=H;class D extends v.StargateClient{static async connectWithSigner(b,k,w={}){const U=await(0,s.connectComet)(b);return D.createWithSigner(U,k,w)}static async createWithSigner(b,k,w={}){return new D(b,k,w)}static async offline(b,k={}){return new D(void 0,b,k)}constructor(b,k,w){super(b,w),this.defaultGasMultiplier=1.4;const{registry:U=new o.Registry(e.defaultRegistryTypes),aminoTypes:V=new M.AminoTypes(H())}=w;this.registry=U,this.aminoTypes=V,this.signer=k,this.broadcastTimeoutMs=w.broadcastTimeoutMs,this.broadcastPollIntervalMs=w.broadcastPollIntervalMs,this.gasPrice=w.gasPrice}async simulate(b,k,w){const U=k.map(K=>this.registry.encodeAsAny(K)),V=(await this.signer.getAccounts()).find(K=>K.address===b);if(!V)throw new Error("Failed to retrieve account from signer");const q=(0,t.encodeSecp256k1Pubkey)(V.pubkey),{sequence:$}=await this.getSequence(b),{gasInfo:z}=await this.forceGetQueryClient().tx.simulate(U,w,q,$);return(0,a.assertDefined)(z),n.Uint53.fromString(z.gasUsed.toString()).toNumber()}async sendTokens(b,k,w,U,V=""){const q={typeUrl:"/cosmos.bank.v1beta1.MsgSend",value:{fromAddress:b,toAddress:k,amount:[...w]}};return this.signAndBroadcast(b,[q],U,V)}async delegateTokens(b,k,w,U,V=""){const q={typeUrl:"/cosmos.staking.v1beta1.MsgDelegate",value:u.MsgDelegate.fromPartial({delegatorAddress:b,validatorAddress:k,amount:w})};return this.signAndBroadcast(b,[q],U,V)}async undelegateTokens(b,k,w,U,V=""){const q={typeUrl:"/cosmos.staking.v1beta1.MsgUndelegate",value:u.MsgUndelegate.fromPartial({delegatorAddress:b,validatorAddress:k,amount:w})};return this.signAndBroadcast(b,[q],U,V)}async withdrawRewards(b,k,w,U=""){const V={typeUrl:"/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",value:i.MsgWithdrawDelegatorReward.fromPartial({delegatorAddress:b,validatorAddress:k})};return this.signAndBroadcast(b,[V],w,U)}async sendIbcTokens(b,k,w,U,V,q,$,z,K=""){const Se=$?BigInt($)*BigInt(1e9):void 0,it={typeUrl:"/ibc.applications.transfer.v1.MsgTransfer",value:T.MsgTransfer.fromPartial({sourcePort:U,sourceChannel:V,sender:b,receiver:k,token:w,timeoutHeight:q,timeoutTimestamp:Se})};return this.signAndBroadcast(b,[it],z,K)}async signAndBroadcast(b,k,w,U="",V){let q;if(w=="auto"||typeof w=="number"){(0,a.assertDefined)(this.gasPrice,"Gas price must be set in the client options when auto gas is used.");const K=await this.simulate(b,k,U),Se=typeof w=="number"?w:this.defaultGasMultiplier;q=(0,F.calculateFee)(Math.round(K*Se),this.gasPrice)}else q=w;const $=await this.sign(b,k,q,U,void 0,V),z=g.TxRaw.encode($).finish();return this.broadcastTx(z,this.broadcastTimeoutMs,this.broadcastPollIntervalMs)}async signAndBroadcastSync(b,k,w,U="",V){let q;if(w=="auto"||typeof w=="number"){(0,a.assertDefined)(this.gasPrice,"Gas price must be set in the client options when auto gas is used.");const K=await this.simulate(b,k,U),Se=typeof w=="number"?w:this.defaultGasMultiplier;q=(0,F.calculateFee)(Math.round(K*Se),this.gasPrice)}else q=w;const $=await this.sign(b,k,q,U,void 0,V),z=g.TxRaw.encode($).finish();return this.broadcastTxSync(z)}async sign(b,k,w,U,V,q){let $;if(V)$=V;else{const{accountNumber:z,sequence:K}=await this.getSequence(b),Se=await this.getChainId();$={accountNumber:z,sequence:K,chainId:Se}}return(0,o.isOfflineDirectSigner)(this.signer)?this.signDirect(b,k,w,U,$,q):this.signAmino(b,k,w,U,$,q)}async signAmino(b,k,w,U,{accountNumber:V,sequence:q,chainId:$},z){(0,a.assert)(!(0,o.isOfflineDirectSigner)(this.signer));const K=(await this.signer.getAccounts()).find(Sr=>Sr.address===b);if(!K)throw new Error("Failed to retrieve account from signer");const Se=(0,o.encodePubkey)((0,t.encodeSecp256k1Pubkey)(K.pubkey)),it=d.SignMode.SIGN_MODE_LEGACY_AMINO_JSON,kr=k.map(Sr=>this.aminoTypes.toAmino(Sr)),zo=(0,t.makeSignDoc)(kr,w,$,U,V,q,z),{signature:Lo,signed:Ye}=await this.signer.signAmino(b,zo),Qo={typeUrl:"/cosmos.tx.v1beta1.TxBody",value:{messages:Ye.msgs.map(Sr=>this.aminoTypes.fromAmino(Sr)),memo:Ye.memo,timeoutHeight:z}},sn=this.registry.encode(Qo),Ko=n.Int53.fromString(Ye.fee.gas).toNumber(),au=n.Int53.fromString(Ye.sequence).toNumber(),iu=(0,o.makeAuthInfoBytes)([{pubkey:Se,sequence:au}],Ye.fee.amount,Ko,Ye.fee.granter,Ye.fee.payer,it);return g.TxRaw.fromPartial({bodyBytes:sn,authInfoBytes:iu,signatures:[(0,r.fromBase64)(Lo.signature)]})}async signDirect(b,k,w,U,{accountNumber:V,sequence:q,chainId:$},z){(0,a.assert)((0,o.isOfflineDirectSigner)(this.signer));const K=(await this.signer.getAccounts()).find(Ko=>Ko.address===b);if(!K)throw new Error("Failed to retrieve account from signer");const Se=(0,o.encodePubkey)((0,t.encodeSecp256k1Pubkey)(K.pubkey)),it={typeUrl:"/cosmos.tx.v1beta1.TxBody",value:{messages:k,memo:U,timeoutHeight:z}},kr=this.registry.encode(it),zo=n.Int53.fromString(w.gas).toNumber(),Lo=(0,o.makeAuthInfoBytes)([{pubkey:Se,sequence:q}],w.amount,zo,w.granter,w.payer),Ye=(0,o.makeSignDoc)(kr,Lo,$,V),{signature:Qo,signed:sn}=await this.signer.signDirect(b,Ye);return g.TxRaw.fromPartial({bodyBytes:sn.bodyBytes,authInfoBytes:sn.authInfoBytes,signatures:[(0,r.fromBase64)(Qo.signature)]})}}e.SigningStargateClient=D})(sc);(function(e){var t=h&&h.__createBinding||(Object.create?function(y,f,v,H){H===void 0&&(H=v);var D=Object.getOwnPropertyDescriptor(f,v);(!D||("get"in D?!f.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return f[v]}}),Object.defineProperty(y,H,D)}:function(y,f,v,H){H===void 0&&(H=v),y[H]=f[v]}),r=h&&h.__setModuleDefault||(Object.create?function(y,f){Object.defineProperty(y,"default",{enumerable:!0,value:f})}:function(y,f){y.default=f}),n=h&&h.__importStar||function(y){if(y&&y.__esModule)return y;var f={};if(y!=null)for(var v in y)v!=="default"&&Object.prototype.hasOwnProperty.call(y,v)&&t(f,y,v);return r(f,y),f};Object.defineProperty(e,"__esModule",{value:!0}),e.isMsgVoteWeightedEncodeObject=e.isMsgVoteEncodeObject=e.isMsgUndelegateEncodeObject=e.isMsgTransferEncodeObject=e.isMsgSubmitProposalEncodeObject=e.isMsgSendEncodeObject=e.isMsgEditValidatorEncodeObject=e.isMsgDepositEncodeObject=e.isMsgDelegateEncodeObject=e.isMsgCreateValidatorEncodeObject=e.isMsgCancelUnbondingDelegationEncodeObject=e.isMsgBeginRedelegateEncodeObject=e.isAminoMsgWithdrawValidatorCommission=e.isAminoMsgWithdrawDelegatorReward=e.isAminoMsgVoteWeighted=e.isAminoMsgVote=e.isAminoMsgVerifyInvariant=e.isAminoMsgUnjail=e.isAminoMsgUndelegate=e.isAminoMsgTransfer=e.isAminoMsgSubmitProposal=e.isAminoMsgSubmitEvidence=e.isAminoMsgSetWithdrawAddress=e.isAminoMsgSend=e.isAminoMsgMultiSend=e.isAminoMsgFundCommunityPool=e.isAminoMsgEditValidator=e.isAminoMsgDeposit=e.isAminoMsgDelegate=e.isAminoMsgCreateVestingAccount=e.isAminoMsgCreateValidator=e.isAminoMsgBeginRedelegate=e.createVestingAminoConverters=e.createStakingAminoConverters=e.createSlashingAminoConverters=e.createIbcAminoConverters=e.createGroupAminoConverters=e.createGovAminoConverters=e.createFeegrantAminoConverters=e.createEvidenceAminoConverters=e.createDistributionAminoConverters=e.createCrysisAminoConverters=e.createBankAminoConverters=e.createAuthzAminoConverters=e.logs=e.GasPrice=e.calculateFee=e.fromTendermintEvent=e.AminoTypes=e.accountFromAny=void 0,e.parseCoins=e.makeCosmoshubPath=e.coins=e.coin=e.TimeoutError=e.StargateClient=e.isDeliverTxSuccess=e.isDeliverTxFailure=e.BroadcastTxError=e.assertIsDeliverTxSuccess=e.assertIsDeliverTxFailure=e.SigningStargateClient=e.defaultRegistryTypes=e.createDefaultAminoConverters=e.isSearchTxQueryArray=e.QueryClient=e.decodeCosmosSdkDecFromProto=e.createProtobufRpcClient=e.createPagination=e.makeMultisignedTxBytes=e.makeMultisignedTx=e.setupTxExtension=e.setupStakingExtension=e.setupSlashingExtension=e.setupMintExtension=e.setupIbcExtension=e.setupGovExtension=e.setupFeegrantExtension=e.setupDistributionExtension=e.setupBankExtension=e.setupAuthzExtension=e.setupAuthExtension=e.isMsgWithdrawDelegatorRewardEncodeObject=void 0;var o=Gr;Object.defineProperty(e,"accountFromAny",{enumerable:!0,get:function(){return o.accountFromAny}});var s=Kr;Object.defineProperty(e,"AminoTypes",{enumerable:!0,get:function(){return s.AminoTypes}});var a=Zr;Object.defineProperty(e,"fromTendermintEvent",{enumerable:!0,get:function(){return a.fromTendermintEvent}});var c=Ct;Object.defineProperty(e,"calculateFee",{enumerable:!0,get:function(){return c.calculateFee}}),Object.defineProperty(e,"GasPrice",{enumerable:!0,get:function(){return c.GasPrice}}),e.logs=n(ge);var i=Fr;Object.defineProperty(e,"createAuthzAminoConverters",{enumerable:!0,get:function(){return i.createAuthzAminoConverters}}),Object.defineProperty(e,"createBankAminoConverters",{enumerable:!0,get:function(){return i.createBankAminoConverters}}),Object.defineProperty(e,"createCrysisAminoConverters",{enumerable:!0,get:function(){return i.createCrysisAminoConverters}}),Object.defineProperty(e,"createDistributionAminoConverters",{enumerable:!0,get:function(){return i.createDistributionAminoConverters}}),Object.defineProperty(e,"createEvidenceAminoConverters",{enumerable:!0,get:function(){return i.createEvidenceAminoConverters}}),Object.defineProperty(e,"createFeegrantAminoConverters",{enumerable:!0,get:function(){return i.createFeegrantAminoConverters}}),Object.defineProperty(e,"createGovAminoConverters",{enumerable:!0,get:function(){return i.createGovAminoConverters}}),Object.defineProperty(e,"createGroupAminoConverters",{enumerable:!0,get:function(){return i.createGroupAminoConverters}}),Object.defineProperty(e,"createIbcAminoConverters",{enumerable:!0,get:function(){return i.createIbcAminoConverters}}),Object.defineProperty(e,"createSlashingAminoConverters",{enumerable:!0,get:function(){return i.createSlashingAminoConverters}}),Object.defineProperty(e,"createStakingAminoConverters",{enumerable:!0,get:function(){return i.createStakingAminoConverters}}),Object.defineProperty(e,"createVestingAminoConverters",{enumerable:!0,get:function(){return i.createVestingAminoConverters}}),Object.defineProperty(e,"isAminoMsgBeginRedelegate",{enumerable:!0,get:function(){return i.isAminoMsgBeginRedelegate}}),Object.defineProperty(e,"isAminoMsgCreateValidator",{enumerable:!0,get:function(){return i.isAminoMsgCreateValidator}}),Object.defineProperty(e,"isAminoMsgCreateVestingAccount",{enumerable:!0,get:function(){return i.isAminoMsgCreateVestingAccount}}),Object.defineProperty(e,"isAminoMsgDelegate",{enumerable:!0,get:function(){return i.isAminoMsgDelegate}}),Object.defineProperty(e,"isAminoMsgDeposit",{enumerable:!0,get:function(){return i.isAminoMsgDeposit}}),Object.defineProperty(e,"isAminoMsgEditValidator",{enumerable:!0,get:function(){return i.isAminoMsgEditValidator}}),Object.defineProperty(e,"isAminoMsgFundCommunityPool",{enumerable:!0,get:function(){return i.isAminoMsgFundCommunityPool}}),Object.defineProperty(e,"isAminoMsgMultiSend",{enumerable:!0,get:function(){return i.isAminoMsgMultiSend}}),Object.defineProperty(e,"isAminoMsgSend",{enumerable:!0,get:function(){return i.isAminoMsgSend}}),Object.defineProperty(e,"isAminoMsgSetWithdrawAddress",{enumerable:!0,get:function(){return i.isAminoMsgSetWithdrawAddress}}),Object.defineProperty(e,"isAminoMsgSubmitEvidence",{enumerable:!0,get:function(){return i.isAminoMsgSubmitEvidence}}),Object.defineProperty(e,"isAminoMsgSubmitProposal",{enumerable:!0,get:function(){return i.isAminoMsgSubmitProposal}}),Object.defineProperty(e,"isAminoMsgTransfer",{enumerable:!0,get:function(){return i.isAminoMsgTransfer}}),Object.defineProperty(e,"isAminoMsgUndelegate",{enumerable:!0,get:function(){return i.isAminoMsgUndelegate}}),Object.defineProperty(e,"isAminoMsgUnjail",{enumerable:!0,get:function(){return i.isAminoMsgUnjail}}),Object.defineProperty(e,"isAminoMsgVerifyInvariant",{enumerable:!0,get:function(){return i.isAminoMsgVerifyInvariant}}),Object.defineProperty(e,"isAminoMsgVote",{enumerable:!0,get:function(){return i.isAminoMsgVote}}),Object.defineProperty(e,"isAminoMsgVoteWeighted",{enumerable:!0,get:function(){return i.isAminoMsgVoteWeighted}}),Object.defineProperty(e,"isAminoMsgWithdrawDelegatorReward",{enumerable:!0,get:function(){return i.isAminoMsgWithdrawDelegatorReward}}),Object.defineProperty(e,"isAminoMsgWithdrawValidatorCommission",{enumerable:!0,get:function(){return i.isAminoMsgWithdrawValidatorCommission}}),Object.defineProperty(e,"isMsgBeginRedelegateEncodeObject",{enumerable:!0,get:function(){return i.isMsgBeginRedelegateEncodeObject}}),Object.defineProperty(e,"isMsgCancelUnbondingDelegationEncodeObject",{enumerable:!0,get:function(){return i.isMsgCancelUnbondingDelegationEncodeObject}}),Object.defineProperty(e,"isMsgCreateValidatorEncodeObject",{enumerable:!0,get:function(){return i.isMsgCreateValidatorEncodeObject}}),Object.defineProperty(e,"isMsgDelegateEncodeObject",{enumerable:!0,get:function(){return i.isMsgDelegateEncodeObject}}),Object.defineProperty(e,"isMsgDepositEncodeObject",{enumerable:!0,get:function(){return i.isMsgDepositEncodeObject}}),Object.defineProperty(e,"isMsgEditValidatorEncodeObject",{enumerable:!0,get:function(){return i.isMsgEditValidatorEncodeObject}}),Object.defineProperty(e,"isMsgSendEncodeObject",{enumerable:!0,get:function(){return i.isMsgSendEncodeObject}}),Object.defineProperty(e,"isMsgSubmitProposalEncodeObject",{enumerable:!0,get:function(){return i.isMsgSubmitProposalEncodeObject}}),Object.defineProperty(e,"isMsgTransferEncodeObject",{enumerable:!0,get:function(){return i.isMsgTransferEncodeObject}}),Object.defineProperty(e,"isMsgUndelegateEncodeObject",{enumerable:!0,get:function(){return i.isMsgUndelegateEncodeObject}}),Object.defineProperty(e,"isMsgVoteEncodeObject",{enumerable:!0,get:function(){return i.isMsgVoteEncodeObject}}),Object.defineProperty(e,"isMsgVoteWeightedEncodeObject",{enumerable:!0,get:function(){return i.isMsgVoteWeightedEncodeObject}}),Object.defineProperty(e,"isMsgWithdrawDelegatorRewardEncodeObject",{enumerable:!0,get:function(){return i.isMsgWithdrawDelegatorRewardEncodeObject}}),Object.defineProperty(e,"setupAuthExtension",{enumerable:!0,get:function(){return i.setupAuthExtension}}),Object.defineProperty(e,"setupAuthzExtension",{enumerable:!0,get:function(){return i.setupAuthzExtension}}),Object.defineProperty(e,"setupBankExtension",{enumerable:!0,get:function(){return i.setupBankExtension}}),Object.defineProperty(e,"setupDistributionExtension",{enumerable:!0,get:function(){return i.setupDistributionExtension}}),Object.defineProperty(e,"setupFeegrantExtension",{enumerable:!0,get:function(){return i.setupFeegrantExtension}}),Object.defineProperty(e,"setupGovExtension",{enumerable:!0,get:function(){return i.setupGovExtension}}),Object.defineProperty(e,"setupIbcExtension",{enumerable:!0,get:function(){return i.setupIbcExtension}}),Object.defineProperty(e,"setupMintExtension",{enumerable:!0,get:function(){return i.setupMintExtension}}),Object.defineProperty(e,"setupSlashingExtension",{enumerable:!0,get:function(){return i.setupSlashingExtension}}),Object.defineProperty(e,"setupStakingExtension",{enumerable:!0,get:function(){return i.setupStakingExtension}}),Object.defineProperty(e,"setupTxExtension",{enumerable:!0,get:function(){return i.setupTxExtension}});var u=ht;Object.defineProperty(e,"makeMultisignedTx",{enumerable:!0,get:function(){return u.makeMultisignedTx}}),Object.defineProperty(e,"makeMultisignedTxBytes",{enumerable:!0,get:function(){return u.makeMultisignedTxBytes}});var d=ie;Object.defineProperty(e,"createPagination",{enumerable:!0,get:function(){return d.createPagination}}),Object.defineProperty(e,"createProtobufRpcClient",{enumerable:!0,get:function(){return d.createProtobufRpcClient}}),Object.defineProperty(e,"decodeCosmosSdkDecFromProto",{enumerable:!0,get:function(){return d.decodeCosmosSdkDecFromProto}}),Object.defineProperty(e,"QueryClient",{enumerable:!0,get:function(){return d.QueryClient}});var g=Yr;Object.defineProperty(e,"isSearchTxQueryArray",{enumerable:!0,get:function(){return g.isSearchTxQueryArray}});var T=sc;Object.defineProperty(e,"createDefaultAminoConverters",{enumerable:!0,get:function(){return T.createDefaultAminoConverters}}),Object.defineProperty(e,"defaultRegistryTypes",{enumerable:!0,get:function(){return T.defaultRegistryTypes}}),Object.defineProperty(e,"SigningStargateClient",{enumerable:!0,get:function(){return T.SigningStargateClient}});var M=Y;Object.defineProperty(e,"assertIsDeliverTxFailure",{enumerable:!0,get:function(){return M.assertIsDeliverTxFailure}}),Object.defineProperty(e,"assertIsDeliverTxSuccess",{enumerable:!0,get:function(){return M.assertIsDeliverTxSuccess}}),Object.defineProperty(e,"BroadcastTxError",{enumerable:!0,get:function(){return M.BroadcastTxError}}),Object.defineProperty(e,"isDeliverTxFailure",{enumerable:!0,get:function(){return M.isDeliverTxFailure}}),Object.defineProperty(e,"isDeliverTxSuccess",{enumerable:!0,get:function(){return M.isDeliverTxSuccess}}),Object.defineProperty(e,"StargateClient",{enumerable:!0,get:function(){return M.StargateClient}}),Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return M.TimeoutError}});var F=bt;Object.defineProperty(e,"coin",{enumerable:!0,get:function(){return F.coin}}),Object.defineProperty(e,"coins",{enumerable:!0,get:function(){return F.coins}}),Object.defineProperty(e,"makeCosmoshubPath",{enumerable:!0,get:function(){return F.makeCosmoshubPath}}),Object.defineProperty(e,"parseCoins",{enumerable:!0,get:function(){return F.parseCoins}})})(mi);const w0=e=>e*1e6;class pa{constructor(t,r,n,o){if(vt(this,"network"),vt(this,"chain"),vt(this,"rpc"),vt(this,"contracts"),vt(this,"gatewayAddress"),vt(this,"channelToChain",new Map),vt(this,"chainToChannel",new Map),this.network=t,this.chain=r,this.rpc=n,this.contracts=o,!ma.has(t,r))throw new Error("Unsupported IBC Chain, no channels available: "+r);this.gatewayAddress=Nt.gatewayAddress(t);const s=ma.get(t,r)??{};for(const[a,c]of Object.entries(s))this.channelToChain.set(c,a),this.chainToChannel.set(a,c)}static async fromRpc(t,r){const[n,o]=await Xo.chainFromRpc(t),s=r[o];if(s.network!==n)throw new Error("Network mismatch: "+s.network+" != "+n);return new pa(n,o,t,s.contracts)}getTransferChannel(t){return this.chainToChannel.get(t)??null}async*transfer(t,r,n,o){const s=new ha(t).toString(),a=Math.round(Math.random()*1e4),c={gateway_ibc_token_bridge_payload:{gateway_transfer:{recipient:fa.encode(uu(r.chain)==="Cosmwasm"?r.address.toString():r.address.toUniversalAddress().toUint8Array()),chain:ga(r.chain),nonce:a,fee:"0"}}},i=BigInt(w0(Date.now()+gu)),u=JSON.stringify(c),d=du(n)?Xo.getNativeDenom(this.network,this.chain):Nt.deriveIbcDenom(this.network,this.chain,new ha(n).toString()),g=mi.coin(o.toString(),d.toString()),T={typeUrl:lu,value:Vn.MsgTransfer.fromPartial({sourcePort:ya,sourceChannel:this.chainToChannel.get(Nt.chain),sender:s,receiver:this.gatewayAddress,token:g,timeoutTimestamp:i,memo:u})};yield this.createUnsignedTx({msgs:[T],fee:id(this.network,this.chain),memo:"Wormhole.TransferToGateway"},"IBC.transfer")}async lookupTransferFromTx(t){const r=await this.rpc.getTx(t);if(!r)throw new Error(`No IBC transfer found on ${this.chain} with txid: ${t}`);if(r.code!==0)throw new Error(`Transaction failed: ${r.rawLog}`);const n=await this.fetchTransferInfo(r);if(n.length===0)throw new Error(`No IBC transfers found on ${this.chain} with txid: ${t}`);return n}async lookupMessageFromIbcMsgId(t){const r=await this.lookupTxFromIbcMsgId(t);return r?ad.parseWormholeMessageId(Nt.chain,Nt.coreAddress(this.network),r):null}async lookupTxFromIbcMsgId(t){const r=this.chain===t.chain?Zo:ba,{srcChannel:n,dstChannel:o,sequence:s,srcPort:a,dstPort:c}=t,i=await this.rpc.searchTx([{key:`${r}.${va}`,value:o},{key:`${r}.${wa}`,value:n},{key:`${r}.${ka}`,value:a},{key:`${r}.${Sa}`,value:c},{key:`${r}.${Pa}`,value:s.toString()}]);if(i.length===0)return null;i.length>1&&console.error(`Expected 1 transaction, got ${i.length} found for IbcMsgid: ${t}`);const[u]=i;return u}async lookupTransferFromIbcMsgId(t){const r=await this.lookupTxFromIbcMsgId(t);if(!r)throw new Error(`No transfers found on ${this.chain} for msg: ${JSON.stringify(t)}`);const n=await this.fetchTransferInfo(r);if(n.length===0)throw new Error(`No transfers found on ${this.chain} for msg: ${JSON.stringify(t)}`);return n}async lookupTransferFromMsg(t){const r=fa.encode(JSON.stringify(t)),n=await this.rpc.searchTx([{key:"wasm.transfer_payload",value:r}]);if(n.length===0)throw new Error("Found no transactions for payload: "+JSON.stringify(r));n.length!==1&&console.error("Expected 1 tx, got: ",n.length);const[o]=n,s=await this.fetchTransferInfo(o);if(s.length===0)throw new Error("Found no transactions for payload: "+JSON.stringify(r));return s}async fetchTransferInfo(t){const r=this.parseIbcTransferInfo(t),n=[];for(const o of r){const s=Xo.getQueryClient(this.rpc);try{await s.ibc.channel.packetCommitment(ya,o.id.srcChannel,o.id.sequence),o.pending=!0}catch(a){if(!a.message.includes("packet commitment hash not found: key not found"))throw a}n.push(o)}return n}parseIbcTransferInfo(t){const r=t.events.filter(o=>o.type===Zo||o.type===ba);if(r.length===0)throw new Error(`No IBC Transfers on ${this.chain} found in: ${t.hash}`);const n=new Set;for(const o of r){const s={pending:!1},a={};for(const c of o.attributes)c.key===wa&&(a.srcChannel=c.value),c.key===va&&(a.dstChannel=c.value),c.key===Pa&&(a.sequence=Number(c.value)),c.key===ka&&(a.srcPort=c.value),c.key===Sa&&(a.dstPort=c.value),c.key===pu&&(s.data=JSON.parse(c.value));if(a.chain=o.type===Zo?this.chain:this.channelToChain.get(a.dstChannel),mu(a))s.id=a;else throw new Error("Invalid IbcMessageId: "+JSON.stringify(a));if(ld(s))n.add(s);else throw new Error("Invalid IbcTransferInfo: "+JSON.stringify(s))}return Array.from(n)}async fetchTransferChannel(t){if(this.chain!==Nt.chain)throw new Error("Cannot query the transfer channels from a non-gateway chain");const{channel:r}=await this.rpc.queryContractSmart(this.gatewayAddress,{ibc_channel:{chain_id:ga(t)}});return r}createUnsignedTx(t,r,n=!1){return new cd(t,this.network,this.chain,r,n)}}hu(fu,"IbcBridge",pa);export{pa as CosmwasmIbcBridge};
