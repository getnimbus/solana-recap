import{go as ma,fa as xa,c$ as mt,dy as kn,d0 as Vr,cm as ln,cH as ei,cG as st,dz as Sa}from"./index.js";import{c as hn}from"./browser-ponyfill.js";var Oa={},dr={},ee={},ti={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(c,l){var s=c>>>16&65535,f=c&65535,g=l>>>16&65535,v=l&65535;return f*v+(s*v+f*g<<16>>>0)|0}e.mul=Math.imul||t;function r(c,l){return c+l|0}e.add=r;function a(c,l){return c-l|0}e.sub=a;function o(c,l){return c<<l|c>>>32-l}e.rotl=o;function u(c,l){return c<<32-l|c>>>l}e.rotr=u;function x(c){return typeof c=="number"&&isFinite(c)&&Math.floor(c)===c}e.isInteger=Number.isInteger||x,e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(c){return e.isInteger(c)&&c>=-e.MAX_SAFE_INTEGER&&c<=e.MAX_SAFE_INTEGER}})(ti);Object.defineProperty(ee,"__esModule",{value:!0});var ri=ti;function Aa(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16}ee.readInt16BE=Aa;function Ca(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])>>>0}ee.readUint16BE=Ca;function Ta(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])<<16>>16}ee.readInt16LE=Ta;function Ia(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])>>>0}ee.readUint16LE=Ia;function ni(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}ee.writeUint16BE=ni;ee.writeInt16BE=ni;function ii(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}ee.writeUint16LE=ii;ee.writeInt16LE=ii;function Nr(e,t){return t===void 0&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}ee.readInt32BE=Nr;function Mr(e,t){return t===void 0&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}ee.readUint32BE=Mr;function Pr(e,t){return t===void 0&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}ee.readInt32LE=Pr;function Rr(e,t){return t===void 0&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}ee.readUint32LE=Rr;function sr(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}ee.writeUint32BE=sr;ee.writeInt32BE=sr;function or(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}ee.writeUint32LE=or;ee.writeInt32LE=or;function La(e,t){t===void 0&&(t=0);var r=Nr(e,t),a=Nr(e,t+4);return r*4294967296+a-(a>>31)*4294967296}ee.readInt64BE=La;function Ua(e,t){t===void 0&&(t=0);var r=Mr(e,t),a=Mr(e,t+4);return r*4294967296+a}ee.readUint64BE=Ua;function Na(e,t){t===void 0&&(t=0);var r=Pr(e,t),a=Pr(e,t+4);return a*4294967296+r-(r>>31)*4294967296}ee.readInt64LE=Na;function Ma(e,t){t===void 0&&(t=0);var r=Rr(e,t),a=Rr(e,t+4);return a*4294967296+r}ee.readUint64LE=Ma;function ai(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),sr(e/4294967296>>>0,t,r),sr(e>>>0,t,r+4),t}ee.writeUint64BE=ai;ee.writeInt64BE=ai;function si(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),or(e>>>0,t,r),or(e/4294967296>>>0,t,r+4),t}ee.writeUint64LE=si;ee.writeInt64LE=si;function Pa(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var a=0,o=1,u=e/8+r-1;u>=r;u--)a+=t[u]*o,o*=256;return a}ee.readUintBE=Pa;function Ra(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var a=0,o=1,u=r;u<r+e/8;u++)a+=t[u]*o,o*=256;return a}ee.readUintLE=Ra;function ja(e,t,r,a){if(r===void 0&&(r=new Uint8Array(e/8)),a===void 0&&(a=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!ri.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var o=1,u=e/8+a-1;u>=a;u--)r[u]=t/o&255,o*=256;return r}ee.writeUintBE=ja;function Fa(e,t,r,a){if(r===void 0&&(r=new Uint8Array(e/8)),a===void 0&&(a=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!ri.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var o=1,u=a;u<a+e/8;u++)r[u]=t/o&255,o*=256;return r}ee.writeUintLE=Fa;function Ba(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t)}ee.readFloat32BE=Ba;function Ha(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t,!0)}ee.readFloat32LE=Ha;function $a(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t)}ee.readFloat64BE=$a;function za(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t,!0)}ee.readFloat64LE=za;function Ka(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var a=new DataView(t.buffer,t.byteOffset,t.byteLength);return a.setFloat32(r,e),t}ee.writeFloat32BE=Ka;function Ga(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var a=new DataView(t.buffer,t.byteOffset,t.byteLength);return a.setFloat32(r,e,!0),t}ee.writeFloat32LE=Ga;function Wa(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var a=new DataView(t.buffer,t.byteOffset,t.byteLength);return a.setFloat64(r,e),t}ee.writeFloat64BE=Wa;function Ya(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var a=new DataView(t.buffer,t.byteOffset,t.byteLength);return a.setFloat64(r,e,!0),t}ee.writeFloat64LE=Ya;var ke={};Object.defineProperty(ke,"__esModule",{value:!0});function Va(e){for(var t=0;t<e.length;t++)e[t]=0;return e}ke.wipe=Va;Object.defineProperty(dr,"__esModule",{value:!0});var Xe=ee,jr=ke,qa=20;function Xa(e,t,r){for(var a=1634760805,o=857760878,u=2036477234,x=1797285236,c=r[3]<<24|r[2]<<16|r[1]<<8|r[0],l=r[7]<<24|r[6]<<16|r[5]<<8|r[4],s=r[11]<<24|r[10]<<16|r[9]<<8|r[8],f=r[15]<<24|r[14]<<16|r[13]<<8|r[12],g=r[19]<<24|r[18]<<16|r[17]<<8|r[16],v=r[23]<<24|r[22]<<16|r[21]<<8|r[20],y=r[27]<<24|r[26]<<16|r[25]<<8|r[24],E=r[31]<<24|r[30]<<16|r[29]<<8|r[28],M=t[3]<<24|t[2]<<16|t[1]<<8|t[0],L=t[7]<<24|t[6]<<16|t[5]<<8|t[4],K=t[11]<<24|t[10]<<16|t[9]<<8|t[8],p=t[15]<<24|t[14]<<16|t[13]<<8|t[12],C=a,b=o,D=u,w=x,n=c,d=l,j=s,B=f,q=g,X=v,J=y,I=E,T=M,Y=L,F=K,N=p,P=0;P<qa;P+=2)C=C+n|0,T^=C,T=T>>>16|T<<16,q=q+T|0,n^=q,n=n>>>20|n<<12,b=b+d|0,Y^=b,Y=Y>>>16|Y<<16,X=X+Y|0,d^=X,d=d>>>20|d<<12,D=D+j|0,F^=D,F=F>>>16|F<<16,J=J+F|0,j^=J,j=j>>>20|j<<12,w=w+B|0,N^=w,N=N>>>16|N<<16,I=I+N|0,B^=I,B=B>>>20|B<<12,D=D+j|0,F^=D,F=F>>>24|F<<8,J=J+F|0,j^=J,j=j>>>25|j<<7,w=w+B|0,N^=w,N=N>>>24|N<<8,I=I+N|0,B^=I,B=B>>>25|B<<7,b=b+d|0,Y^=b,Y=Y>>>24|Y<<8,X=X+Y|0,d^=X,d=d>>>25|d<<7,C=C+n|0,T^=C,T=T>>>24|T<<8,q=q+T|0,n^=q,n=n>>>25|n<<7,C=C+d|0,N^=C,N=N>>>16|N<<16,J=J+N|0,d^=J,d=d>>>20|d<<12,b=b+j|0,T^=b,T=T>>>16|T<<16,I=I+T|0,j^=I,j=j>>>20|j<<12,D=D+B|0,Y^=D,Y=Y>>>16|Y<<16,q=q+Y|0,B^=q,B=B>>>20|B<<12,w=w+n|0,F^=w,F=F>>>16|F<<16,X=X+F|0,n^=X,n=n>>>20|n<<12,D=D+B|0,Y^=D,Y=Y>>>24|Y<<8,q=q+Y|0,B^=q,B=B>>>25|B<<7,w=w+n|0,F^=w,F=F>>>24|F<<8,X=X+F|0,n^=X,n=n>>>25|n<<7,b=b+j|0,T^=b,T=T>>>24|T<<8,I=I+T|0,j^=I,j=j>>>25|j<<7,C=C+d|0,N^=C,N=N>>>24|N<<8,J=J+N|0,d^=J,d=d>>>25|d<<7;Xe.writeUint32LE(C+a|0,e,0),Xe.writeUint32LE(b+o|0,e,4),Xe.writeUint32LE(D+u|0,e,8),Xe.writeUint32LE(w+x|0,e,12),Xe.writeUint32LE(n+c|0,e,16),Xe.writeUint32LE(d+l|0,e,20),Xe.writeUint32LE(j+s|0,e,24),Xe.writeUint32LE(B+f|0,e,28),Xe.writeUint32LE(q+g|0,e,32),Xe.writeUint32LE(X+v|0,e,36),Xe.writeUint32LE(J+y|0,e,40),Xe.writeUint32LE(I+E|0,e,44),Xe.writeUint32LE(T+M|0,e,48),Xe.writeUint32LE(Y+L|0,e,52),Xe.writeUint32LE(F+K|0,e,56),Xe.writeUint32LE(N+p|0,e,60)}function oi(e,t,r,a,o){if(o===void 0&&(o=0),e.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(a.length<r.length)throw new Error("ChaCha: destination is shorter than source");var u,x;if(o===0){if(t.length!==8&&t.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");u=new Uint8Array(16),x=u.length-t.length,u.set(t,x)}else{if(t.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");u=t,x=o}for(var c=new Uint8Array(64),l=0;l<r.length;l+=64){Xa(c,u,e);for(var s=l;s<l+64&&s<r.length;s++)a[s]=r[s]^c[s-l];Za(u,0,x)}return jr.wipe(c),o===0&&jr.wipe(u),a}dr.streamXOR=oi;function Ja(e,t,r,a){return a===void 0&&(a=0),jr.wipe(r),oi(e,t,r,r,a)}dr.stream=Ja;function Za(e,t,r){for(var a=1;r--;)a=a+(e[t]&255)|0,e[t]=a&255,a>>>=8,t++;if(a>0)throw new Error("ChaCha: counter overflow")}var fi={},gt={};Object.defineProperty(gt,"__esModule",{value:!0});function Qa(e,t,r){return~(e-1)&t|e-1&r}gt.select=Qa;function ka(e,t){return(e|0)-(t|0)-1>>>31&1}gt.lessOrEqual=ka;function ui(e,t){if(e.length!==t.length)return 0;for(var r=0,a=0;a<e.length;a++)r|=e[a]^t[a];return 1&r-1>>>8}gt.compare=ui;function es(e,t){return e.length===0||t.length===0?!1:ui(e,t)!==0}gt.equal=es;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=gt,r=ke;e.DIGEST_LENGTH=16;var a=function(){function x(c){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var l=c[0]|c[1]<<8;this._r[0]=l&8191;var s=c[2]|c[3]<<8;this._r[1]=(l>>>13|s<<3)&8191;var f=c[4]|c[5]<<8;this._r[2]=(s>>>10|f<<6)&7939;var g=c[6]|c[7]<<8;this._r[3]=(f>>>7|g<<9)&8191;var v=c[8]|c[9]<<8;this._r[4]=(g>>>4|v<<12)&255,this._r[5]=v>>>1&8190;var y=c[10]|c[11]<<8;this._r[6]=(v>>>14|y<<2)&8191;var E=c[12]|c[13]<<8;this._r[7]=(y>>>11|E<<5)&8065;var M=c[14]|c[15]<<8;this._r[8]=(E>>>8|M<<8)&8191,this._r[9]=M>>>5&127,this._pad[0]=c[16]|c[17]<<8,this._pad[1]=c[18]|c[19]<<8,this._pad[2]=c[20]|c[21]<<8,this._pad[3]=c[22]|c[23]<<8,this._pad[4]=c[24]|c[25]<<8,this._pad[5]=c[26]|c[27]<<8,this._pad[6]=c[28]|c[29]<<8,this._pad[7]=c[30]|c[31]<<8}return x.prototype._blocks=function(c,l,s){for(var f=this._fin?0:2048,g=this._h[0],v=this._h[1],y=this._h[2],E=this._h[3],M=this._h[4],L=this._h[5],K=this._h[6],p=this._h[7],C=this._h[8],b=this._h[9],D=this._r[0],w=this._r[1],n=this._r[2],d=this._r[3],j=this._r[4],B=this._r[5],q=this._r[6],X=this._r[7],J=this._r[8],I=this._r[9];s>=16;){var T=c[l+0]|c[l+1]<<8;g+=T&8191;var Y=c[l+2]|c[l+3]<<8;v+=(T>>>13|Y<<3)&8191;var F=c[l+4]|c[l+5]<<8;y+=(Y>>>10|F<<6)&8191;var N=c[l+6]|c[l+7]<<8;E+=(F>>>7|N<<9)&8191;var P=c[l+8]|c[l+9]<<8;M+=(N>>>4|P<<12)&8191,L+=P>>>1&8191;var R=c[l+10]|c[l+11]<<8;K+=(P>>>14|R<<2)&8191;var H=c[l+12]|c[l+13]<<8;p+=(R>>>11|H<<5)&8191;var te=c[l+14]|c[l+15]<<8;C+=(H>>>8|te<<8)&8191,b+=te>>>5|f;var $=0,Z=$;Z+=g*D,Z+=v*(5*I),Z+=y*(5*J),Z+=E*(5*X),Z+=M*(5*q),$=Z>>>13,Z&=8191,Z+=L*(5*B),Z+=K*(5*j),Z+=p*(5*d),Z+=C*(5*n),Z+=b*(5*w),$+=Z>>>13,Z&=8191;var V=$;V+=g*w,V+=v*D,V+=y*(5*I),V+=E*(5*J),V+=M*(5*X),$=V>>>13,V&=8191,V+=L*(5*q),V+=K*(5*B),V+=p*(5*j),V+=C*(5*d),V+=b*(5*n),$+=V>>>13,V&=8191;var ae=$;ae+=g*n,ae+=v*w,ae+=y*D,ae+=E*(5*I),ae+=M*(5*J),$=ae>>>13,ae&=8191,ae+=L*(5*X),ae+=K*(5*q),ae+=p*(5*B),ae+=C*(5*j),ae+=b*(5*d),$+=ae>>>13,ae&=8191;var A=$;A+=g*d,A+=v*n,A+=y*w,A+=E*D,A+=M*(5*I),$=A>>>13,A&=8191,A+=L*(5*J),A+=K*(5*X),A+=p*(5*q),A+=C*(5*B),A+=b*(5*j),$+=A>>>13,A&=8191;var O=$;O+=g*j,O+=v*d,O+=y*n,O+=E*w,O+=M*D,$=O>>>13,O&=8191,O+=L*(5*I),O+=K*(5*J),O+=p*(5*X),O+=C*(5*q),O+=b*(5*B),$+=O>>>13,O&=8191;var m=$;m+=g*B,m+=v*j,m+=y*d,m+=E*n,m+=M*w,$=m>>>13,m&=8191,m+=L*D,m+=K*(5*I),m+=p*(5*J),m+=C*(5*X),m+=b*(5*q),$+=m>>>13,m&=8191;var i=$;i+=g*q,i+=v*B,i+=y*j,i+=E*d,i+=M*n,$=i>>>13,i&=8191,i+=L*w,i+=K*D,i+=p*(5*I),i+=C*(5*J),i+=b*(5*X),$+=i>>>13,i&=8191;var _=$;_+=g*X,_+=v*q,_+=y*B,_+=E*j,_+=M*d,$=_>>>13,_&=8191,_+=L*n,_+=K*w,_+=p*D,_+=C*(5*I),_+=b*(5*J),$+=_>>>13,_&=8191;var z=$;z+=g*J,z+=v*X,z+=y*q,z+=E*B,z+=M*j,$=z>>>13,z&=8191,z+=L*d,z+=K*n,z+=p*w,z+=C*D,z+=b*(5*I),$+=z>>>13,z&=8191;var G=$;G+=g*I,G+=v*J,G+=y*X,G+=E*q,G+=M*B,$=G>>>13,G&=8191,G+=L*j,G+=K*d,G+=p*n,G+=C*w,G+=b*D,$+=G>>>13,G&=8191,$=($<<2)+$|0,$=$+Z|0,Z=$&8191,$=$>>>13,V+=$,g=Z,v=V,y=ae,E=A,M=O,L=m,K=i,p=_,C=z,b=G,l+=16,s-=16}this._h[0]=g,this._h[1]=v,this._h[2]=y,this._h[3]=E,this._h[4]=M,this._h[5]=L,this._h[6]=K,this._h[7]=p,this._h[8]=C,this._h[9]=b},x.prototype.finish=function(c,l){l===void 0&&(l=0);var s=new Uint16Array(10),f,g,v,y;if(this._leftover){for(y=this._leftover,this._buffer[y++]=1;y<16;y++)this._buffer[y]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(f=this._h[1]>>>13,this._h[1]&=8191,y=2;y<10;y++)this._h[y]+=f,f=this._h[y]>>>13,this._h[y]&=8191;for(this._h[0]+=f*5,f=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=f,f=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=f,s[0]=this._h[0]+5,f=s[0]>>>13,s[0]&=8191,y=1;y<10;y++)s[y]=this._h[y]+f,f=s[y]>>>13,s[y]&=8191;for(s[9]-=8192,g=(f^1)-1,y=0;y<10;y++)s[y]&=g;for(g=~g,y=0;y<10;y++)this._h[y]=this._h[y]&g|s[y];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,v=this._h[0]+this._pad[0],this._h[0]=v&65535,y=1;y<8;y++)v=(this._h[y]+this._pad[y]|0)+(v>>>16)|0,this._h[y]=v&65535;return c[l+0]=this._h[0]>>>0,c[l+1]=this._h[0]>>>8,c[l+2]=this._h[1]>>>0,c[l+3]=this._h[1]>>>8,c[l+4]=this._h[2]>>>0,c[l+5]=this._h[2]>>>8,c[l+6]=this._h[3]>>>0,c[l+7]=this._h[3]>>>8,c[l+8]=this._h[4]>>>0,c[l+9]=this._h[4]>>>8,c[l+10]=this._h[5]>>>0,c[l+11]=this._h[5]>>>8,c[l+12]=this._h[6]>>>0,c[l+13]=this._h[6]>>>8,c[l+14]=this._h[7]>>>0,c[l+15]=this._h[7]>>>8,this._finished=!0,this},x.prototype.update=function(c){var l=0,s=c.length,f;if(this._leftover){f=16-this._leftover,f>s&&(f=s);for(var g=0;g<f;g++)this._buffer[this._leftover+g]=c[l+g];if(s-=f,l+=f,this._leftover+=f,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(s>=16&&(f=s-s%16,this._blocks(c,l,f),l+=f,s-=f),s){for(var g=0;g<s;g++)this._buffer[this._leftover+g]=c[l+g];this._leftover+=s}return this},x.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var c=new Uint8Array(16);return this.finish(c),c},x.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},x}();e.Poly1305=a;function o(x,c){var l=new a(x);l.update(c);var s=l.digest();return l.clean(),s}e.oneTimeAuth=o;function u(x,c){return x.length!==e.DIGEST_LENGTH||c.length!==e.DIGEST_LENGTH?!1:t.equal(x,c)}e.equal=u})(fi);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=dr,r=fi,a=ke,o=ee,u=gt;e.KEY_LENGTH=32,e.NONCE_LENGTH=12,e.TAG_LENGTH=16;var x=new Uint8Array(16),c=function(){function l(s){if(this.nonceLength=e.NONCE_LENGTH,this.tagLength=e.TAG_LENGTH,s.length!==e.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(s)}return l.prototype.seal=function(s,f,g,v){if(s.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var y=new Uint8Array(16);y.set(s,y.length-s.length);var E=new Uint8Array(32);t.stream(this._key,y,E,4);var M=f.length+this.tagLength,L;if(v){if(v.length!==M)throw new Error("ChaCha20Poly1305: incorrect destination length");L=v}else L=new Uint8Array(M);return t.streamXOR(this._key,y,f,L,4),this._authenticate(L.subarray(L.length-this.tagLength,L.length),E,L.subarray(0,L.length-this.tagLength),g),a.wipe(y),L},l.prototype.open=function(s,f,g,v){if(s.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(f.length<this.tagLength)return null;var y=new Uint8Array(16);y.set(s,y.length-s.length);var E=new Uint8Array(32);t.stream(this._key,y,E,4);var M=new Uint8Array(this.tagLength);if(this._authenticate(M,E,f.subarray(0,f.length-this.tagLength),g),!u.equal(M,f.subarray(f.length-this.tagLength,f.length)))return null;var L=f.length-this.tagLength,K;if(v){if(v.length!==L)throw new Error("ChaCha20Poly1305: incorrect destination length");K=v}else K=new Uint8Array(L);return t.streamXOR(this._key,y,f.subarray(0,f.length-this.tagLength),K,4),a.wipe(y),K},l.prototype.clean=function(){return a.wipe(this._key),this},l.prototype._authenticate=function(s,f,g,v){var y=new r.Poly1305(f);v&&(y.update(v),v.length%16>0&&y.update(x.subarray(v.length%16))),y.update(g),g.length%16>0&&y.update(x.subarray(g.length%16));var E=new Uint8Array(8);v&&o.writeUint64LE(v.length,E),y.update(E),o.writeUint64LE(g.length,E),y.update(E);for(var M=y.digest(),L=0;L<M.length;L++)s[L]=M[L];y.clean(),a.wipe(M),a.wipe(E)},l}();e.ChaCha20Poly1305=c})(Oa);var ci={},Gt={},qr={};Object.defineProperty(qr,"__esModule",{value:!0});function ts(e){return typeof e.saveState<"u"&&typeof e.restoreState<"u"&&typeof e.cleanSavedState<"u"}qr.isSerializableHash=ts;Object.defineProperty(Gt,"__esModule",{value:!0});var at=qr,rs=gt,ns=ke,li=function(){function e(t,r){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var a=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(a).clean():a.set(r);for(var o=0;o<a.length;o++)a[o]^=54;this._inner.update(a);for(var o=0;o<a.length;o++)a[o]^=106;this._outer.update(a),at.isSerializableHash(this._inner)&&at.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),ns.wipe(a)}return e.prototype.reset=function(){if(!at.isSerializableHash(this._inner)||!at.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){at.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),at.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(t){return this._inner.update(t),this},e.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype.saveState=function(){if(!at.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(t){if(!at.isSerializableHash(this._inner)||!at.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(t){if(!at.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},e}();Gt.HMAC=li;function is(e,t,r){var a=new li(e,t);a.update(r);var o=a.digest();return a.clean(),o}Gt.hmac=is;Gt.equal=rs.equal;Object.defineProperty(ci,"__esModule",{value:!0});var dn=Gt,_n=ke,as=function(){function e(t,r,a,o){a===void 0&&(a=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=o;var u=dn.hmac(this._hash,a,r);this._hmac=new dn.HMAC(t,u),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(t===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(t){for(var r=new Uint8Array(t),a=0;a<r.length;a++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[a]=this._buffer[this._bufpos++];return r},e.prototype.clean=function(){this._hmac.clean(),_n.wipe(this._buffer),_n.wipe(this._counter),this._bufpos=0},e}(),jc=ci.HKDF=as,_r={},br={},gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.BrowserRandomSource=void 0;const bn=65536;class ss{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t=typeof self<"u"?self.crypto||self.msCrypto:null;t&&t.getRandomValues!==void 0&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(t);for(let a=0;a<r.length;a+=bn)this._crypto.getRandomValues(r.subarray(a,a+Math.min(r.length-a,bn)));return r}}gr.BrowserRandomSource=ss;var yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.NodeRandomSource=void 0;const os=ke;class fs{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof ma<"u"){const t=xa();t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(t);if(r.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const a=new Uint8Array(t);for(let o=0;o<a.length;o++)a[o]=r[o];return(0,os.wipe)(r),a}}yr.NodeRandomSource=fs;Object.defineProperty(br,"__esModule",{value:!0});br.SystemRandomSource=void 0;const us=gr,cs=yr;class ls{constructor(){if(this.isAvailable=!1,this.name="",this._source=new us.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new cs.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}br.SystemRandomSource=ls;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const t=br,r=ee,a=ke;e.defaultRandomSource=new t.SystemRandomSource;function o(s,f=e.defaultRandomSource){return f.randomBytes(s)}e.randomBytes=o;function u(s=e.defaultRandomSource){const f=o(4,s),g=(0,r.readUint32LE)(f);return(0,a.wipe)(f),g}e.randomUint32=u;const x="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(s,f=x,g=e.defaultRandomSource){if(f.length<2)throw new Error("randomString charset is too short");if(f.length>256)throw new Error("randomString charset is too long");let v="";const y=f.length,E=256-256%y;for(;s>0;){const M=o(Math.ceil(s*256/E),g);for(let L=0;L<M.length&&s>0;L++){const K=M[L];K<E&&(v+=f.charAt(K%y),s--)}(0,a.wipe)(M)}return v}e.randomString=c;function l(s,f=x,g=e.defaultRandomSource){const v=Math.ceil(s/(Math.log(f.length)/Math.LN2));return c(v,f,g)}e.randomStringForEntropy=l})(_r);var hs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ee,r=ke;e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var a=function(){function c(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return c.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},c.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},c.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},c.prototype.update=function(l,s){if(s===void 0&&(s=l.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var f=0;if(this._bytesHashed+=s,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&s>0;)this._buffer[this._bufferLength++]=l[f++],s--;this._bufferLength===this.blockSize&&(u(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(s>=this.blockSize&&(f=u(this._temp,this._state,l,f,s),s%=this.blockSize);s>0;)this._buffer[this._bufferLength++]=l[f++],s--;return this},c.prototype.finish=function(l){if(!this._finished){var s=this._bytesHashed,f=this._bufferLength,g=s/536870912|0,v=s<<3,y=s%64<56?64:128;this._buffer[f]=128;for(var E=f+1;E<y-8;E++)this._buffer[E]=0;t.writeUint32BE(g,this._buffer,y-8),t.writeUint32BE(v,this._buffer,y-4),u(this._temp,this._state,this._buffer,0,y),this._finished=!0}for(var E=0;E<this.digestLength/4;E++)t.writeUint32BE(this._state[E],l,E*4);return this},c.prototype.digest=function(){var l=new Uint8Array(this.digestLength);return this.finish(l),l},c.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},c.prototype.restoreState=function(l){return this._state.set(l.state),this._bufferLength=l.bufferLength,l.buffer&&this._buffer.set(l.buffer),this._bytesHashed=l.bytesHashed,this._finished=!1,this},c.prototype.cleanSavedState=function(l){r.wipe(l.state),l.buffer&&r.wipe(l.buffer),l.bufferLength=0,l.bytesHashed=0},c}();e.SHA256=a;var o=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function u(c,l,s,f,g){for(;g>=64;){for(var v=l[0],y=l[1],E=l[2],M=l[3],L=l[4],K=l[5],p=l[6],C=l[7],b=0;b<16;b++){var D=f+b*4;c[b]=t.readUint32BE(s,D)}for(var b=16;b<64;b++){var w=c[b-2],n=(w>>>17|w<<15)^(w>>>19|w<<13)^w>>>10;w=c[b-15];var d=(w>>>7|w<<25)^(w>>>18|w<<14)^w>>>3;c[b]=(n+c[b-7]|0)+(d+c[b-16]|0)}for(var b=0;b<64;b++){var n=(((L>>>6|L<<26)^(L>>>11|L<<21)^(L>>>25|L<<7))+(L&K^~L&p)|0)+(C+(o[b]+c[b]|0)|0)|0,d=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&y^v&E^y&E)|0;C=p,p=K,K=L,L=M+n|0,M=E,E=y,y=v,v=n+d|0}l[0]+=v,l[1]+=y,l[2]+=E,l[3]+=M,l[4]+=L,l[5]+=K,l[6]+=p,l[7]+=C,f+=64,g-=64}return f}function x(c){var l=new a;l.update(c);var s=l.digest();return l.clean(),s}e.hash=x})(hs);var ds={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sharedKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.scalarMultBase=e.scalarMult=e.SHARED_KEY_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=void 0;const t=_r,r=ke;e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=32,e.SHARED_KEY_LENGTH=32;function a(b){const D=new Float64Array(16);if(b)for(let w=0;w<b.length;w++)D[w]=b[w];return D}const o=new Uint8Array(32);o[0]=9;const u=a([56129,1]);function x(b){let D=1;for(let w=0;w<16;w++){let n=b[w]+D+65535;D=Math.floor(n/65536),b[w]=n-D*65536}b[0]+=D-1+37*(D-1)}function c(b,D,w){const n=~(w-1);for(let d=0;d<16;d++){const j=n&(b[d]^D[d]);b[d]^=j,D[d]^=j}}function l(b,D){const w=a(),n=a();for(let d=0;d<16;d++)n[d]=D[d];x(n),x(n),x(n);for(let d=0;d<2;d++){w[0]=n[0]-65517;for(let B=1;B<15;B++)w[B]=n[B]-65535-(w[B-1]>>16&1),w[B-1]&=65535;w[15]=n[15]-32767-(w[14]>>16&1);const j=w[15]>>16&1;w[14]&=65535,c(n,w,1-j)}for(let d=0;d<16;d++)b[2*d]=n[d]&255,b[2*d+1]=n[d]>>8}function s(b,D){for(let w=0;w<16;w++)b[w]=D[2*w]+(D[2*w+1]<<8);b[15]&=32767}function f(b,D,w){for(let n=0;n<16;n++)b[n]=D[n]+w[n]}function g(b,D,w){for(let n=0;n<16;n++)b[n]=D[n]-w[n]}function v(b,D,w){let n,d,j=0,B=0,q=0,X=0,J=0,I=0,T=0,Y=0,F=0,N=0,P=0,R=0,H=0,te=0,$=0,Z=0,V=0,ae=0,A=0,O=0,m=0,i=0,_=0,z=0,G=0,ue=0,be=0,le=0,we=0,Ie=0,Oe=0,_e=w[0],he=w[1],ce=w[2],oe=w[3],se=w[4],ie=w[5],ne=w[6],Q=w[7],fe=w[8],de=w[9],k=w[10],ge=w[11],ye=w[12],De=w[13],Ee=w[14],ve=w[15];n=D[0],j+=n*_e,B+=n*he,q+=n*ce,X+=n*oe,J+=n*se,I+=n*ie,T+=n*ne,Y+=n*Q,F+=n*fe,N+=n*de,P+=n*k,R+=n*ge,H+=n*ye,te+=n*De,$+=n*Ee,Z+=n*ve,n=D[1],B+=n*_e,q+=n*he,X+=n*ce,J+=n*oe,I+=n*se,T+=n*ie,Y+=n*ne,F+=n*Q,N+=n*fe,P+=n*de,R+=n*k,H+=n*ge,te+=n*ye,$+=n*De,Z+=n*Ee,V+=n*ve,n=D[2],q+=n*_e,X+=n*he,J+=n*ce,I+=n*oe,T+=n*se,Y+=n*ie,F+=n*ne,N+=n*Q,P+=n*fe,R+=n*de,H+=n*k,te+=n*ge,$+=n*ye,Z+=n*De,V+=n*Ee,ae+=n*ve,n=D[3],X+=n*_e,J+=n*he,I+=n*ce,T+=n*oe,Y+=n*se,F+=n*ie,N+=n*ne,P+=n*Q,R+=n*fe,H+=n*de,te+=n*k,$+=n*ge,Z+=n*ye,V+=n*De,ae+=n*Ee,A+=n*ve,n=D[4],J+=n*_e,I+=n*he,T+=n*ce,Y+=n*oe,F+=n*se,N+=n*ie,P+=n*ne,R+=n*Q,H+=n*fe,te+=n*de,$+=n*k,Z+=n*ge,V+=n*ye,ae+=n*De,A+=n*Ee,O+=n*ve,n=D[5],I+=n*_e,T+=n*he,Y+=n*ce,F+=n*oe,N+=n*se,P+=n*ie,R+=n*ne,H+=n*Q,te+=n*fe,$+=n*de,Z+=n*k,V+=n*ge,ae+=n*ye,A+=n*De,O+=n*Ee,m+=n*ve,n=D[6],T+=n*_e,Y+=n*he,F+=n*ce,N+=n*oe,P+=n*se,R+=n*ie,H+=n*ne,te+=n*Q,$+=n*fe,Z+=n*de,V+=n*k,ae+=n*ge,A+=n*ye,O+=n*De,m+=n*Ee,i+=n*ve,n=D[7],Y+=n*_e,F+=n*he,N+=n*ce,P+=n*oe,R+=n*se,H+=n*ie,te+=n*ne,$+=n*Q,Z+=n*fe,V+=n*de,ae+=n*k,A+=n*ge,O+=n*ye,m+=n*De,i+=n*Ee,_+=n*ve,n=D[8],F+=n*_e,N+=n*he,P+=n*ce,R+=n*oe,H+=n*se,te+=n*ie,$+=n*ne,Z+=n*Q,V+=n*fe,ae+=n*de,A+=n*k,O+=n*ge,m+=n*ye,i+=n*De,_+=n*Ee,z+=n*ve,n=D[9],N+=n*_e,P+=n*he,R+=n*ce,H+=n*oe,te+=n*se,$+=n*ie,Z+=n*ne,V+=n*Q,ae+=n*fe,A+=n*de,O+=n*k,m+=n*ge,i+=n*ye,_+=n*De,z+=n*Ee,G+=n*ve,n=D[10],P+=n*_e,R+=n*he,H+=n*ce,te+=n*oe,$+=n*se,Z+=n*ie,V+=n*ne,ae+=n*Q,A+=n*fe,O+=n*de,m+=n*k,i+=n*ge,_+=n*ye,z+=n*De,G+=n*Ee,ue+=n*ve,n=D[11],R+=n*_e,H+=n*he,te+=n*ce,$+=n*oe,Z+=n*se,V+=n*ie,ae+=n*ne,A+=n*Q,O+=n*fe,m+=n*de,i+=n*k,_+=n*ge,z+=n*ye,G+=n*De,ue+=n*Ee,be+=n*ve,n=D[12],H+=n*_e,te+=n*he,$+=n*ce,Z+=n*oe,V+=n*se,ae+=n*ie,A+=n*ne,O+=n*Q,m+=n*fe,i+=n*de,_+=n*k,z+=n*ge,G+=n*ye,ue+=n*De,be+=n*Ee,le+=n*ve,n=D[13],te+=n*_e,$+=n*he,Z+=n*ce,V+=n*oe,ae+=n*se,A+=n*ie,O+=n*ne,m+=n*Q,i+=n*fe,_+=n*de,z+=n*k,G+=n*ge,ue+=n*ye,be+=n*De,le+=n*Ee,we+=n*ve,n=D[14],$+=n*_e,Z+=n*he,V+=n*ce,ae+=n*oe,A+=n*se,O+=n*ie,m+=n*ne,i+=n*Q,_+=n*fe,z+=n*de,G+=n*k,ue+=n*ge,be+=n*ye,le+=n*De,we+=n*Ee,Ie+=n*ve,n=D[15],Z+=n*_e,V+=n*he,ae+=n*ce,A+=n*oe,O+=n*se,m+=n*ie,i+=n*ne,_+=n*Q,z+=n*fe,G+=n*de,ue+=n*k,be+=n*ge,le+=n*ye,we+=n*De,Ie+=n*Ee,Oe+=n*ve,j+=38*V,B+=38*ae,q+=38*A,X+=38*O,J+=38*m,I+=38*i,T+=38*_,Y+=38*z,F+=38*G,N+=38*ue,P+=38*be,R+=38*le,H+=38*we,te+=38*Ie,$+=38*Oe,d=1,n=j+d+65535,d=Math.floor(n/65536),j=n-d*65536,n=B+d+65535,d=Math.floor(n/65536),B=n-d*65536,n=q+d+65535,d=Math.floor(n/65536),q=n-d*65536,n=X+d+65535,d=Math.floor(n/65536),X=n-d*65536,n=J+d+65535,d=Math.floor(n/65536),J=n-d*65536,n=I+d+65535,d=Math.floor(n/65536),I=n-d*65536,n=T+d+65535,d=Math.floor(n/65536),T=n-d*65536,n=Y+d+65535,d=Math.floor(n/65536),Y=n-d*65536,n=F+d+65535,d=Math.floor(n/65536),F=n-d*65536,n=N+d+65535,d=Math.floor(n/65536),N=n-d*65536,n=P+d+65535,d=Math.floor(n/65536),P=n-d*65536,n=R+d+65535,d=Math.floor(n/65536),R=n-d*65536,n=H+d+65535,d=Math.floor(n/65536),H=n-d*65536,n=te+d+65535,d=Math.floor(n/65536),te=n-d*65536,n=$+d+65535,d=Math.floor(n/65536),$=n-d*65536,n=Z+d+65535,d=Math.floor(n/65536),Z=n-d*65536,j+=d-1+37*(d-1),d=1,n=j+d+65535,d=Math.floor(n/65536),j=n-d*65536,n=B+d+65535,d=Math.floor(n/65536),B=n-d*65536,n=q+d+65535,d=Math.floor(n/65536),q=n-d*65536,n=X+d+65535,d=Math.floor(n/65536),X=n-d*65536,n=J+d+65535,d=Math.floor(n/65536),J=n-d*65536,n=I+d+65535,d=Math.floor(n/65536),I=n-d*65536,n=T+d+65535,d=Math.floor(n/65536),T=n-d*65536,n=Y+d+65535,d=Math.floor(n/65536),Y=n-d*65536,n=F+d+65535,d=Math.floor(n/65536),F=n-d*65536,n=N+d+65535,d=Math.floor(n/65536),N=n-d*65536,n=P+d+65535,d=Math.floor(n/65536),P=n-d*65536,n=R+d+65535,d=Math.floor(n/65536),R=n-d*65536,n=H+d+65535,d=Math.floor(n/65536),H=n-d*65536,n=te+d+65535,d=Math.floor(n/65536),te=n-d*65536,n=$+d+65535,d=Math.floor(n/65536),$=n-d*65536,n=Z+d+65535,d=Math.floor(n/65536),Z=n-d*65536,j+=d-1+37*(d-1),b[0]=j,b[1]=B,b[2]=q,b[3]=X,b[4]=J,b[5]=I,b[6]=T,b[7]=Y,b[8]=F,b[9]=N,b[10]=P,b[11]=R,b[12]=H,b[13]=te,b[14]=$,b[15]=Z}function y(b,D){v(b,D,D)}function E(b,D){const w=a();for(let n=0;n<16;n++)w[n]=D[n];for(let n=253;n>=0;n--)y(w,w),n!==2&&n!==4&&v(w,w,D);for(let n=0;n<16;n++)b[n]=w[n]}function M(b,D){const w=new Uint8Array(32),n=new Float64Array(80),d=a(),j=a(),B=a(),q=a(),X=a(),J=a();for(let F=0;F<31;F++)w[F]=b[F];w[31]=b[31]&127|64,w[0]&=248,s(n,D);for(let F=0;F<16;F++)j[F]=n[F];d[0]=q[0]=1;for(let F=254;F>=0;--F){const N=w[F>>>3]>>>(F&7)&1;c(d,j,N),c(B,q,N),f(X,d,B),g(d,d,B),f(B,j,q),g(j,j,q),y(q,X),y(J,d),v(d,B,d),v(B,j,X),f(X,d,B),g(d,d,B),y(j,d),g(B,q,J),v(d,B,u),f(d,d,q),v(B,B,d),v(d,q,J),v(q,j,n),y(j,X),c(d,j,N),c(B,q,N)}for(let F=0;F<16;F++)n[F+16]=d[F],n[F+32]=B[F],n[F+48]=j[F],n[F+64]=q[F];const I=n.subarray(32),T=n.subarray(16);E(I,I),v(T,T,I);const Y=new Uint8Array(32);return l(Y,T),Y}e.scalarMult=M;function L(b){return M(b,o)}e.scalarMultBase=L;function K(b){if(b.length!==e.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${e.SECRET_KEY_LENGTH} bytes`);const D=new Uint8Array(b);return{publicKey:L(D),secretKey:D}}e.generateKeyPairFromSeed=K;function p(b){const D=(0,t.randomBytes)(32,b),w=K(D);return(0,r.wipe)(D),w}e.generateKeyPair=p;function C(b,D,w=!1){if(b.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(D.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const n=M(b,D);if(w){let d=0;for(let j=0;j<n.length;j++)d|=n[j];if(d===0)throw new Error("X25519: invalid shared key")}return n}e.sharedKey=C})(ds);function Xr(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function hi(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Xr(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function _s(e,t){t||(t=e.reduce((o,u)=>o+u.length,0));const r=hi(t);let a=0;for(const o of e)r.set(o,a),a+=o.length;return Xr(r)}function bs(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),a=0;a<r.length;a++)r[a]=255;for(var o=0;o<e.length;o++){var u=e.charAt(o),x=u.charCodeAt(0);if(r[x]!==255)throw new TypeError(u+" is ambiguous");r[x]=o}var c=e.length,l=e.charAt(0),s=Math.log(c)/Math.log(256),f=Math.log(256)/Math.log(c);function g(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var M=0,L=0,K=0,p=E.length;K!==p&&E[K]===0;)K++,M++;for(var C=(p-K)*f+1>>>0,b=new Uint8Array(C);K!==p;){for(var D=E[K],w=0,n=C-1;(D!==0||w<L)&&n!==-1;n--,w++)D+=256*b[n]>>>0,b[n]=D%c>>>0,D=D/c>>>0;if(D!==0)throw new Error("Non-zero carry");L=w,K++}for(var d=C-L;d!==C&&b[d]===0;)d++;for(var j=l.repeat(M);d<C;++d)j+=e.charAt(b[d]);return j}function v(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var M=0;if(E[M]!==" "){for(var L=0,K=0;E[M]===l;)L++,M++;for(var p=(E.length-M)*s+1>>>0,C=new Uint8Array(p);E[M];){var b=r[E.charCodeAt(M)];if(b===255)return;for(var D=0,w=p-1;(b!==0||D<K)&&w!==-1;w--,D++)b+=c*C[w]>>>0,C[w]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");K=D,M++}if(E[M]!==" "){for(var n=p-K;n!==p&&C[n]===0;)n++;for(var d=new Uint8Array(L+(p-n)),j=L;n!==p;)d[j++]=C[n++];return d}}}function y(E){var M=v(E);if(M)return M;throw new Error(`Non-${t} character`)}return{encode:g,decodeUnsafe:v,decode:y}}var gs=bs,ys=gs;const ws=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},vs=e=>new TextEncoder().encode(e),Ds=e=>new TextDecoder().decode(e);class Es{constructor(t,r,a){this.name=t,this.prefix=r,this.baseEncode=a}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class ps{constructor(t,r,a){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=a}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return di(this,t)}}class ms{constructor(t){this.decoders=t}or(t){return di(this,t)}decode(t){const r=t[0],a=this.decoders[r];if(a)return a.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const di=(e,t)=>new ms({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class xs{constructor(t,r,a,o){this.name=t,this.prefix=r,this.baseEncode=a,this.baseDecode=o,this.encoder=new Es(t,r,a),this.decoder=new ps(t,r,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const wr=({name:e,prefix:t,encode:r,decode:a})=>new xs(e,t,r,a),Wt=({prefix:e,name:t,alphabet:r})=>{const{encode:a,decode:o}=ys(r,t);return wr({prefix:e,name:t,encode:a,decode:u=>ws(o(u))})},Ss=(e,t,r,a)=>{const o={};for(let f=0;f<t.length;++f)o[t[f]]=f;let u=e.length;for(;e[u-1]==="=";)--u;const x=new Uint8Array(u*r/8|0);let c=0,l=0,s=0;for(let f=0;f<u;++f){const g=o[e[f]];if(g===void 0)throw new SyntaxError(`Non-${a} character`);l=l<<r|g,c+=r,c>=8&&(c-=8,x[s++]=255&l>>c)}if(c>=r||255&l<<8-c)throw new SyntaxError("Unexpected end of data");return x},Os=(e,t,r)=>{const a=t[t.length-1]==="=",o=(1<<r)-1;let u="",x=0,c=0;for(let l=0;l<e.length;++l)for(c=c<<8|e[l],x+=8;x>r;)x-=r,u+=t[o&c>>x];if(x&&(u+=t[o&c<<r-x]),a)for(;u.length*r&7;)u+="=";return u},Ve=({name:e,prefix:t,bitsPerChar:r,alphabet:a})=>wr({prefix:t,name:e,encode(o){return Os(o,a,r)},decode(o){return Ss(o,a,r,e)}}),As=wr({prefix:"\0",name:"identity",encode:e=>Ds(e),decode:e=>vs(e)}),Cs=Object.freeze(Object.defineProperty({__proto__:null,identity:As},Symbol.toStringTag,{value:"Module"})),Ts=Ve({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Is=Object.freeze(Object.defineProperty({__proto__:null,base2:Ts},Symbol.toStringTag,{value:"Module"})),Ls=Ve({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Us=Object.freeze(Object.defineProperty({__proto__:null,base8:Ls},Symbol.toStringTag,{value:"Module"})),Ns=Wt({prefix:"9",name:"base10",alphabet:"0123456789"}),Ms=Object.freeze(Object.defineProperty({__proto__:null,base10:Ns},Symbol.toStringTag,{value:"Module"})),Ps=Ve({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Rs=Ve({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),js=Object.freeze(Object.defineProperty({__proto__:null,base16:Ps,base16upper:Rs},Symbol.toStringTag,{value:"Module"})),Fs=Ve({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Bs=Ve({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Hs=Ve({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),$s=Ve({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),zs=Ve({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ks=Ve({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Gs=Ve({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ws=Ve({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ys=Ve({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Vs=Object.freeze(Object.defineProperty({__proto__:null,base32:Fs,base32hex:zs,base32hexpad:Gs,base32hexpadupper:Ws,base32hexupper:Ks,base32pad:Hs,base32padupper:$s,base32upper:Bs,base32z:Ys},Symbol.toStringTag,{value:"Module"})),qs=Wt({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Xs=Wt({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Js=Object.freeze(Object.defineProperty({__proto__:null,base36:qs,base36upper:Xs},Symbol.toStringTag,{value:"Module"})),Zs=Wt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Qs=Wt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ks=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Zs,base58flickr:Qs},Symbol.toStringTag,{value:"Module"})),eo=Ve({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),to=Ve({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ro=Ve({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),no=Ve({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),io=Object.freeze(Object.defineProperty({__proto__:null,base64:eo,base64pad:to,base64url:ro,base64urlpad:no},Symbol.toStringTag,{value:"Module"})),_i=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),ao=_i.reduce((e,t,r)=>(e[r]=t,e),[]),so=_i.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function oo(e){return e.reduce((t,r)=>(t+=ao[r],t),"")}function fo(e){const t=[];for(const r of e){const a=so[r.codePointAt(0)];if(a===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(a)}return new Uint8Array(t)}const uo=wr({prefix:"🚀",name:"base256emoji",encode:oo,decode:fo}),co=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:uo},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const gn={...Cs,...Is,...Us,...Ms,...js,...Vs,...Js,...ks,...io,...co};function bi(e,t,r,a){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:a}}}const yn=bi("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Sr=bi("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=hi(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),gi={utf8:yn,"utf-8":yn,hex:gn.base16,latin1:Sr,ascii:Sr,binary:Sr,...gn};function Ut(e,t="utf8"){const r=gi[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Xr(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function vr(e,t="utf8"){const r=gi[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var wn=function(e,t,r){if(r||arguments.length===2)for(var a=0,o=t.length,u;a<o;a++)(u||!(a in t))&&(u||(u=Array.prototype.slice.call(t,0,a)),u[a]=t[a]);return e.concat(u||Array.prototype.slice.call(t))},lo=function(){function e(t,r,a){this.name=t,this.version=r,this.os=a,this.type="browser"}return e}(),ho=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=mt.platform}return e}(),_o=function(){function e(t,r,a,o){this.name=t,this.version=r,this.os=a,this.bot=o,this.type="bot-device"}return e}(),bo=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),go=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),yo=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,wo=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,vn=3,vo=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",yo]],Dn=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Fc(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new go:typeof navigator<"u"?Eo(navigator.userAgent):mo()}function Do(e){return e!==""&&vo.reduce(function(t,r){var a=r[0],o=r[1];if(t)return t;var u=o.exec(e);return!!u&&[a,u]},!1)}function Eo(e){var t=Do(e);if(!t)return null;var r=t[0],a=t[1];if(r==="searchbot")return new bo;var o=a[1]&&a[1].split(".").join("_").split("_").slice(0,3);o?o.length<vn&&(o=wn(wn([],o,!0),xo(vn-o.length),!0)):o=[];var u=o.join("."),x=po(e),c=wo.exec(e);return c&&c[1]?new _o(r,u,x,c[1]):new lo(r,u,x)}function po(e){for(var t=0,r=Dn.length;t<r;t++){var a=Dn[t],o=a[0],u=a[1],x=u.exec(e);if(x)return o}return null}function mo(){var e=typeof mt<"u"&&mt.version;return e?new ho(mt.version.slice(1)):null}function xo(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}var yi={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fr=function(e,t){return Fr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)a.hasOwnProperty(o)&&(r[o]=a[o])},Fr(e,t)};function So(e,t){Fr(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Br=function(){return Br=Object.assign||function(t){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(t[u]=r[u])}return t},Br.apply(this,arguments)};function Oo(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r}function Ao(e,t,r,a){var o=arguments.length,u=o<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(e,t,r,a);else for(var c=e.length-1;c>=0;c--)(x=e[c])&&(u=(o<3?x(u):o>3?x(t,r,u):x(t,r))||u);return o>3&&u&&Object.defineProperty(t,r,u),u}function Co(e,t){return function(r,a){t(r,a,e)}}function To(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Io(e,t,r,a){function o(u){return u instanceof r?u:new r(function(x){x(u)})}return new(r||(r=Promise))(function(u,x){function c(f){try{s(a.next(f))}catch(g){x(g)}}function l(f){try{s(a.throw(f))}catch(g){x(g)}}function s(f){f.done?u(f.value):o(f.value).then(c,l)}s((a=a.apply(e,t||[])).next())})}function Lo(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,o,u,x;return x={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function c(s){return function(f){return l([s,f])}}function l(s){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,o&&(u=s[0]&2?o.return:s[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,s[1])).done)return u;switch(o=0,u&&(s=[s[0]&2,u.value]),s[0]){case 0:case 1:u=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!u||s[1]>u[0]&&s[1]<u[3])){r.label=s[1];break}if(s[0]===6&&r.label<u[1]){r.label=u[1],u=s;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(s);break}u[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(f){s=[6,f],o=0}finally{a=u=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function Uo(e,t,r,a){a===void 0&&(a=r),e[a]=t[r]}function No(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Hr(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],a=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wi(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),o,u=[],x;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)u.push(o.value)}catch(c){x={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(x)throw x.error}}return u}function Mo(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(wi(arguments[t]));return e}function Po(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var a=Array(e),o=0,t=0;t<r;t++)for(var u=arguments[t],x=0,c=u.length;x<c;x++,o++)a[o]=u[x];return a}function Ht(e){return this instanceof Ht?(this.v=e,this):new Ht(e)}function Ro(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(e,t||[]),o,u=[];return o={},x("next"),x("throw"),x("return"),o[Symbol.asyncIterator]=function(){return this},o;function x(v){a[v]&&(o[v]=function(y){return new Promise(function(E,M){u.push([v,y,E,M])>1||c(v,y)})})}function c(v,y){try{l(a[v](y))}catch(E){g(u[0][3],E)}}function l(v){v.value instanceof Ht?Promise.resolve(v.value.v).then(s,f):g(u[0][2],v)}function s(v){c("next",v)}function f(v){c("throw",v)}function g(v,y){v(y),u.shift(),u.length&&c(u[0][0],u[0][1])}}function jo(e){var t,r;return t={},a("next"),a("throw",function(o){throw o}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(o,u){t[o]=e[o]?function(x){return(r=!r)?{value:Ht(e[o](x)),done:o==="return"}:u?u(x):x}:u}}function Fo(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Hr=="function"?Hr(e):e[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(u){r[u]=e[u]&&function(x){return new Promise(function(c,l){x=e[u](x),o(c,l,x.done,x.value)})}}function o(u,x,c,l){Promise.resolve(l).then(function(s){u({value:s,done:c})},x)}}function Bo(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Ho(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function $o(e){return e&&e.__esModule?e:{default:e}}function zo(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Ko(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Go=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Br},__asyncDelegator:jo,__asyncGenerator:Ro,__asyncValues:Fo,__await:Ht,__awaiter:Io,__classPrivateFieldGet:zo,__classPrivateFieldSet:Ko,__createBinding:Uo,__decorate:Ao,__exportStar:No,__extends:So,__generator:Lo,__importDefault:$o,__importStar:Ho,__makeTemplateObject:Bo,__metadata:To,__param:Co,__read:wi,__rest:Oo,__spread:Mo,__spreadArrays:Po,__values:Hr},Symbol.toStringTag,{value:"Module"})),Dr=kn(Go);var Or={},jt={},En;function Wo(){if(En)return jt;En=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.delay=void 0;function e(t){return new Promise(r=>{setTimeout(()=>{r(!0)},t)})}return jt.delay=e,jt}var Et={},Ar={},pt={},pn;function Yo(){return pn||(pn=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.ONE_THOUSAND=pt.ONE_HUNDRED=void 0,pt.ONE_HUNDRED=100,pt.ONE_THOUSAND=1e3),pt}var Cr={},mn;function Vo(){return mn||(mn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(Cr)),Cr}var xn;function vi(){return xn||(xn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Dr;t.__exportStar(Yo(),e),t.__exportStar(Vo(),e)}(Ar)),Ar}var Sn;function qo(){if(Sn)return Et;Sn=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.fromMiliseconds=Et.toMiliseconds=void 0;const e=vi();function t(a){return a*e.ONE_THOUSAND}Et.toMiliseconds=t;function r(a){return Math.floor(a/e.ONE_THOUSAND)}return Et.fromMiliseconds=r,Et}var On;function Xo(){return On||(On=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Dr;t.__exportStar(Wo(),e),t.__exportStar(qo(),e)}(Or)),Or}var Ct={},An;function Jo(){if(An)return Ct;An=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const a=this.get(r);if(typeof a.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const o=Date.now()-a.started;this.timestamps.set(r,{started:a.started,elapsed:o})}get(r){const a=this.timestamps.get(r);if(typeof a>"u")throw new Error(`No timestamp found for label: ${r}`);return a}elapsed(r){const a=this.get(r);return a.elapsed||Date.now()-a.started}}return Ct.Watch=e,Ct.default=e,Ct}var Tr={},Ft={},Cn;function Zo(){if(Cn)return Ft;Cn=1,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.IWatch=void 0;class e{}return Ft.IWatch=e,Ft}var Tn;function Qo(){return Tn||(Tn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Dr.__exportStar(Zo(),e)}(Tr)),Tr}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Dr;t.__exportStar(Xo(),e),t.__exportStar(Jo(),e),t.__exportStar(Qo(),e),t.__exportStar(vi(),e)})(yi);var pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.getLocalStorage=pe.getLocalStorageOrThrow=pe.getCrypto=pe.getCryptoOrThrow=ff=pe.getLocation=pe.getLocationOrThrow=af=pe.getNavigator=pe.getNavigatorOrThrow=tf=pe.getDocument=pe.getDocumentOrThrow=pe.getFromWindowOrThrow=pe.getFromWindow=void 0;function St(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}pe.getFromWindow=St;function Nt(e){const t=St(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}pe.getFromWindowOrThrow=Nt;function ko(){return Nt("document")}pe.getDocumentOrThrow=ko;function ef(){return St("document")}var tf=pe.getDocument=ef;function rf(){return Nt("navigator")}pe.getNavigatorOrThrow=rf;function nf(){return St("navigator")}var af=pe.getNavigator=nf;function sf(){return Nt("location")}pe.getLocationOrThrow=sf;function of(){return St("location")}var ff=pe.getLocation=of;function uf(){return Nt("crypto")}pe.getCryptoOrThrow=uf;function cf(){return St("crypto")}pe.getCrypto=cf;function lf(){return Nt("localStorage")}pe.getLocalStorageOrThrow=lf;function hf(){return St("localStorage")}pe.getLocalStorage=hf;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});var df=Jr.getWindowMetadata=void 0;const In=pe;function _f(){let e,t;try{e=In.getDocumentOrThrow(),t=In.getLocationOrThrow()}catch{return null}function r(){const g=e.getElementsByTagName("link"),v=[];for(let y=0;y<g.length;y++){const E=g[y],M=E.getAttribute("rel");if(M&&M.toLowerCase().indexOf("icon")>-1){const L=E.getAttribute("href");if(L)if(L.toLowerCase().indexOf("https:")===-1&&L.toLowerCase().indexOf("http:")===-1&&L.indexOf("//")!==0){let K=t.protocol+"//"+t.host;if(L.indexOf("/")===0)K+=L;else{const p=t.pathname.split("/");p.pop();const C=p.join("/");K+=C+"/"+L}v.push(K)}else if(L.indexOf("//")===0){const K=t.protocol+L;v.push(K)}else v.push(L)}}return v}function a(...g){const v=e.getElementsByTagName("meta");for(let y=0;y<v.length;y++){const E=v[y],M=["itemprop","property","name"].map(L=>E.getAttribute(L)).filter(L=>L?g.includes(L):!1);if(M.length&&M){const L=E.getAttribute("content");if(L)return L}}return""}function o(){let g=a("name","og:site_name","og:title","twitter:title");return g||(g=e.title),g}function u(){return a("description","og:description","twitter:description","keywords")}const x=o(),c=u(),l=t.origin,s=r();return{description:c,url:l,icons:s,name:x}}df=Jr.getWindowMetadata=_f;var bf={},gf=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Di="%[a-f0-9]{2}",Ln=new RegExp("("+Di+")|([^%]+?)","gi"),Un=new RegExp("("+Di+")+","gi");function $r(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),a=e.slice(t);return Array.prototype.concat.call([],$r(r),$r(a))}function yf(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(Ln)||[],r=1;r<t.length;r++)e=$r(t,r).join(""),t=e.match(Ln)||[];return e}}function wf(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=Un.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var a=yf(r[0]);a!==r[0]&&(t[r[0]]=a)}r=Un.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),u=0;u<o.length;u++){var x=o[u];e=e.replace(new RegExp(x,"g"),t[x])}return e}var vf=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return wf(e)}},Df=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]},Ef=function(e,t){for(var r={},a=Object.keys(e),o=Array.isArray(t),u=0;u<a.length;u++){var x=a[u],c=e[x];(o?t.indexOf(x)!==-1:t(x,c,e))&&(r[x]=c)}return r};(function(e){const t=gf,r=vf,a=Df,o=Ef,u=p=>p==null,x=Symbol("encodeFragmentIdentifier");function c(p){switch(p.arrayFormat){case"index":return C=>(b,D)=>{const w=b.length;return D===void 0||p.skipNull&&D===null||p.skipEmptyString&&D===""?b:D===null?[...b,[f(C,p),"[",w,"]"].join("")]:[...b,[f(C,p),"[",f(w,p),"]=",f(D,p)].join("")]};case"bracket":return C=>(b,D)=>D===void 0||p.skipNull&&D===null||p.skipEmptyString&&D===""?b:D===null?[...b,[f(C,p),"[]"].join("")]:[...b,[f(C,p),"[]=",f(D,p)].join("")];case"colon-list-separator":return C=>(b,D)=>D===void 0||p.skipNull&&D===null||p.skipEmptyString&&D===""?b:D===null?[...b,[f(C,p),":list="].join("")]:[...b,[f(C,p),":list=",f(D,p)].join("")];case"comma":case"separator":case"bracket-separator":{const C=p.arrayFormat==="bracket-separator"?"[]=":"=";return b=>(D,w)=>w===void 0||p.skipNull&&w===null||p.skipEmptyString&&w===""?D:(w=w===null?"":w,D.length===0?[[f(b,p),C,f(w,p)].join("")]:[[D,f(w,p)].join(p.arrayFormatSeparator)])}default:return C=>(b,D)=>D===void 0||p.skipNull&&D===null||p.skipEmptyString&&D===""?b:D===null?[...b,f(C,p)]:[...b,[f(C,p),"=",f(D,p)].join("")]}}function l(p){let C;switch(p.arrayFormat){case"index":return(b,D,w)=>{if(C=/\[(\d*)\]$/.exec(b),b=b.replace(/\[\d*\]$/,""),!C){w[b]=D;return}w[b]===void 0&&(w[b]={}),w[b][C[1]]=D};case"bracket":return(b,D,w)=>{if(C=/(\[\])$/.exec(b),b=b.replace(/\[\]$/,""),!C){w[b]=D;return}if(w[b]===void 0){w[b]=[D];return}w[b]=[].concat(w[b],D)};case"colon-list-separator":return(b,D,w)=>{if(C=/(:list)$/.exec(b),b=b.replace(/:list$/,""),!C){w[b]=D;return}if(w[b]===void 0){w[b]=[D];return}w[b]=[].concat(w[b],D)};case"comma":case"separator":return(b,D,w)=>{const n=typeof D=="string"&&D.includes(p.arrayFormatSeparator),d=typeof D=="string"&&!n&&g(D,p).includes(p.arrayFormatSeparator);D=d?g(D,p):D;const j=n||d?D.split(p.arrayFormatSeparator).map(B=>g(B,p)):D===null?D:g(D,p);w[b]=j};case"bracket-separator":return(b,D,w)=>{const n=/(\[\])$/.test(b);if(b=b.replace(/\[\]$/,""),!n){w[b]=D&&g(D,p);return}const d=D===null?[]:D.split(p.arrayFormatSeparator).map(j=>g(j,p));if(w[b]===void 0){w[b]=d;return}w[b]=[].concat(w[b],d)};default:return(b,D,w)=>{if(w[b]===void 0){w[b]=D;return}w[b]=[].concat(w[b],D)}}}function s(p){if(typeof p!="string"||p.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function f(p,C){return C.encode?C.strict?t(p):encodeURIComponent(p):p}function g(p,C){return C.decode?r(p):p}function v(p){return Array.isArray(p)?p.sort():typeof p=="object"?v(Object.keys(p)).sort((C,b)=>Number(C)-Number(b)).map(C=>p[C]):p}function y(p){const C=p.indexOf("#");return C!==-1&&(p=p.slice(0,C)),p}function E(p){let C="";const b=p.indexOf("#");return b!==-1&&(C=p.slice(b)),C}function M(p){p=y(p);const C=p.indexOf("?");return C===-1?"":p.slice(C+1)}function L(p,C){return C.parseNumbers&&!Number.isNaN(Number(p))&&typeof p=="string"&&p.trim()!==""?p=Number(p):C.parseBooleans&&p!==null&&(p.toLowerCase()==="true"||p.toLowerCase()==="false")&&(p=p.toLowerCase()==="true"),p}function K(p,C){C=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},C),s(C.arrayFormatSeparator);const b=l(C),D=Object.create(null);if(typeof p!="string"||(p=p.trim().replace(/^[?#&]/,""),!p))return D;for(const w of p.split("&")){if(w==="")continue;let[n,d]=a(C.decode?w.replace(/\+/g," "):w,"=");d=d===void 0?null:["comma","separator","bracket-separator"].includes(C.arrayFormat)?d:g(d,C),b(g(n,C),d,D)}for(const w of Object.keys(D)){const n=D[w];if(typeof n=="object"&&n!==null)for(const d of Object.keys(n))n[d]=L(n[d],C);else D[w]=L(n,C)}return C.sort===!1?D:(C.sort===!0?Object.keys(D).sort():Object.keys(D).sort(C.sort)).reduce((w,n)=>{const d=D[n];return d&&typeof d=="object"&&!Array.isArray(d)?w[n]=v(d):w[n]=d,w},Object.create(null))}e.extract=M,e.parse=K,e.stringify=(p,C)=>{if(!p)return"";C=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},C),s(C.arrayFormatSeparator);const b=d=>C.skipNull&&u(p[d])||C.skipEmptyString&&p[d]==="",D=c(C),w={};for(const d of Object.keys(p))b(d)||(w[d]=p[d]);const n=Object.keys(w);return C.sort!==!1&&n.sort(C.sort),n.map(d=>{const j=p[d];return j===void 0?"":j===null?f(d,C):Array.isArray(j)?j.length===0&&C.arrayFormat==="bracket-separator"?f(d,C)+"[]":j.reduce(D(d),[]).join("&"):f(d,C)+"="+f(j,C)}).filter(d=>d.length>0).join("&")},e.parseUrl=(p,C)=>{C=Object.assign({decode:!0},C);const[b,D]=a(p,"#");return Object.assign({url:b.split("?")[0]||"",query:K(M(p),C)},C&&C.parseFragmentIdentifier&&D?{fragmentIdentifier:g(D,C)}:{})},e.stringifyUrl=(p,C)=>{C=Object.assign({encode:!0,strict:!0,[x]:!0},C);const b=y(p.url).split("?")[0]||"",D=e.extract(p.url),w=e.parse(D,{sort:!1}),n=Object.assign(w,p.query);let d=e.stringify(n,C);d&&(d=`?${d}`);let j=E(p.url);return p.fragmentIdentifier&&(j=`#${C[x]?f(p.fragmentIdentifier,C):p.fragmentIdentifier}`),`${b}${d}${j}`},e.pick=(p,C,b)=>{b=Object.assign({parseFragmentIdentifier:!0,[x]:!1},b);const{url:D,query:w,fragmentIdentifier:n}=e.parseUrl(p,b);return e.stringifyUrl({url:D,query:o(w,C),fragmentIdentifier:n},b)},e.exclude=(p,C,b)=>{const D=Array.isArray(C)?w=>!C.includes(w):(w,n)=>!C(w,n);return e.pick(p,D,b)}})(bf);const Bc={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},pf=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,mf=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,xf=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Sf(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){Of(e);return}return t}function Of(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function tr(e,t={}){if(typeof e!="string")return e;const r=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const a=r.toLowerCase();if(a==="true")return!0;if(a==="false")return!1;if(a==="undefined")return;if(a==="null")return null;if(a==="nan")return Number.NaN;if(a==="infinity")return Number.POSITIVE_INFINITY;if(a==="-infinity")return Number.NEGATIVE_INFINITY}if(!xf.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(pf.test(e)||mf.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Sf)}return JSON.parse(e)}catch(a){if(t.strict)throw a;return e}}function Af(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function We(e,...t){try{return Af(e(...t))}catch(r){return Promise.reject(r)}}function Cf(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function Tf(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function ir(e){if(Cf(e))return String(e);if(Tf(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return ir(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function Ei(){if(typeof Vr>"u")throw new TypeError("[unstorage] Buffer is not supported!")}const zr="base64:";function If(e){if(typeof e=="string")return e;Ei();const t=Vr.from(e).toString("base64");return zr+t}function Lf(e){return typeof e!="string"||!e.startsWith(zr)?e:(Ei(),Vr.from(e.slice(zr.length),"base64"))}function Je(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function Uf(...e){return Je(e.join(":"))}function rr(e){return e=Je(e),e?e+":":""}const Nf="memory",Mf=()=>{const e=new Map;return{name:Nf,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function Pf(e={}){const t={mounts:{"":e.driver||Mf()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=s=>{for(const f of t.mountpoints)if(s.startsWith(f))return{base:f,relativeKey:s.slice(f.length),driver:t.mounts[f]};return{base:"",relativeKey:s,driver:t.mounts[""]}},a=(s,f)=>t.mountpoints.filter(g=>g.startsWith(s)||f&&s.startsWith(g)).map(g=>({relativeBase:s.length>g.length?s.slice(g.length):void 0,mountpoint:g,driver:t.mounts[g]})),o=(s,f)=>{if(t.watching){f=Je(f);for(const g of t.watchListeners)g(s,f)}},u=async()=>{if(!t.watching){t.watching=!0;for(const s in t.mounts)t.unwatch[s]=await Nn(t.mounts[s],o,s)}},x=async()=>{if(t.watching){for(const s in t.unwatch)await t.unwatch[s]();t.unwatch={},t.watching=!1}},c=(s,f,g)=>{const v=new Map,y=E=>{let M=v.get(E.base);return M||(M={driver:E.driver,base:E.base,items:[]},v.set(E.base,M)),M};for(const E of s){const M=typeof E=="string",L=Je(M?E:E.key),K=M?void 0:E.value,p=M||!E.options?f:{...f,...E.options},C=r(L);y(C).items.push({key:L,value:K,relativeKey:C.relativeKey,options:p})}return Promise.all([...v.values()].map(E=>g(E))).then(E=>E.flat())},l={hasItem(s,f={}){s=Je(s);const{relativeKey:g,driver:v}=r(s);return We(v.hasItem,g,f)},getItem(s,f={}){s=Je(s);const{relativeKey:g,driver:v}=r(s);return We(v.getItem,g,f).then(y=>tr(y))},getItems(s,f){return c(s,f,g=>g.driver.getItems?We(g.driver.getItems,g.items.map(v=>({key:v.relativeKey,options:v.options})),f).then(v=>v.map(y=>({key:Uf(g.base,y.key),value:tr(y.value)}))):Promise.all(g.items.map(v=>We(g.driver.getItem,v.relativeKey,v.options).then(y=>({key:v.key,value:tr(y)})))))},getItemRaw(s,f={}){s=Je(s);const{relativeKey:g,driver:v}=r(s);return v.getItemRaw?We(v.getItemRaw,g,f):We(v.getItem,g,f).then(y=>Lf(y))},async setItem(s,f,g={}){if(f===void 0)return l.removeItem(s);s=Je(s);const{relativeKey:v,driver:y}=r(s);y.setItem&&(await We(y.setItem,v,ir(f),g),y.watch||o("update",s))},async setItems(s,f){await c(s,f,async g=>{if(g.driver.setItems)return We(g.driver.setItems,g.items.map(v=>({key:v.relativeKey,value:ir(v.value),options:v.options})),f);g.driver.setItem&&await Promise.all(g.items.map(v=>We(g.driver.setItem,v.relativeKey,ir(v.value),v.options)))})},async setItemRaw(s,f,g={}){if(f===void 0)return l.removeItem(s,g);s=Je(s);const{relativeKey:v,driver:y}=r(s);if(y.setItemRaw)await We(y.setItemRaw,v,f,g);else if(y.setItem)await We(y.setItem,v,If(f),g);else return;y.watch||o("update",s)},async removeItem(s,f={}){typeof f=="boolean"&&(f={removeMeta:f}),s=Je(s);const{relativeKey:g,driver:v}=r(s);v.removeItem&&(await We(v.removeItem,g,f),(f.removeMeta||f.removeMata)&&await We(v.removeItem,g+"$",f),v.watch||o("remove",s))},async getMeta(s,f={}){typeof f=="boolean"&&(f={nativeOnly:f}),s=Je(s);const{relativeKey:g,driver:v}=r(s),y=Object.create(null);if(v.getMeta&&Object.assign(y,await We(v.getMeta,g,f)),!f.nativeOnly){const E=await We(v.getItem,g+"$",f).then(M=>tr(M));E&&typeof E=="object"&&(typeof E.atime=="string"&&(E.atime=new Date(E.atime)),typeof E.mtime=="string"&&(E.mtime=new Date(E.mtime)),Object.assign(y,E))}return y},setMeta(s,f,g={}){return this.setItem(s+"$",f,g)},removeMeta(s,f={}){return this.removeItem(s+"$",f)},async getKeys(s,f={}){s=rr(s);const g=a(s,!0);let v=[];const y=[];for(const E of g){const M=await We(E.driver.getKeys,E.relativeBase,f);for(const L of M){const K=E.mountpoint+Je(L);v.some(p=>K.startsWith(p))||y.push(K)}v=[E.mountpoint,...v.filter(L=>!L.startsWith(E.mountpoint))]}return s?y.filter(E=>E.startsWith(s)&&E[E.length-1]!=="$"):y.filter(E=>E[E.length-1]!=="$")},async clear(s,f={}){s=rr(s),await Promise.all(a(s,!1).map(async g=>{if(g.driver.clear)return We(g.driver.clear,g.relativeBase,f);if(g.driver.removeItem){const v=await g.driver.getKeys(g.relativeBase||"",f);return Promise.all(v.map(y=>g.driver.removeItem(y,f)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(s=>Mn(s)))},async watch(s){return await u(),t.watchListeners.push(s),async()=>{t.watchListeners=t.watchListeners.filter(f=>f!==s),t.watchListeners.length===0&&await x()}},async unwatch(){t.watchListeners=[],await x()},mount(s,f){if(s=rr(s),s&&t.mounts[s])throw new Error(`already mounted at ${s}`);return s&&(t.mountpoints.push(s),t.mountpoints.sort((g,v)=>v.length-g.length)),t.mounts[s]=f,t.watching&&Promise.resolve(Nn(f,o,s)).then(g=>{t.unwatch[s]=g}).catch(console.error),l},async unmount(s,f=!0){s=rr(s),!(!s||!t.mounts[s])&&(t.watching&&s in t.unwatch&&(t.unwatch[s](),delete t.unwatch[s]),f&&await Mn(t.mounts[s]),t.mountpoints=t.mountpoints.filter(g=>g!==s),delete t.mounts[s])},getMount(s=""){s=Je(s)+":";const f=r(s);return{driver:f.driver,base:f.base}},getMounts(s="",f={}){return s=Je(s),a(s,f.parents).map(v=>({driver:v.driver,base:v.mountpoint}))},keys:(s,f={})=>l.getKeys(s,f),get:(s,f={})=>l.getItem(s,f),set:(s,f,g={})=>l.setItem(s,f,g),has:(s,f={})=>l.hasItem(s,f),del:(s,f={})=>l.removeItem(s,f),remove:(s,f={})=>l.removeItem(s,f)};return l}function Nn(e,t,r){return e.watch?e.watch((a,o)=>t(a,r+o)):()=>{}}async function Mn(e){typeof e.dispose=="function"&&await We(e.dispose)}function Ot(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function pi(e,t){const r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);const a=Ot(r);return(o,u)=>a.then(x=>u(x.transaction(t,o).objectStore(t)))}let Ir;function Yt(){return Ir||(Ir=pi("keyval-store","keyval")),Ir}function Pn(e,t=Yt()){return t("readonly",r=>Ot(r.get(e)))}function Rf(e,t,r=Yt()){return r("readwrite",a=>(a.put(t,e),Ot(a.transaction)))}function jf(e,t=Yt()){return t("readwrite",r=>(r.delete(e),Ot(r.transaction)))}function Ff(e=Yt()){return e("readwrite",t=>(t.clear(),Ot(t.transaction)))}function Bf(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Ot(e.transaction)}function Hf(e=Yt()){return e("readonly",t=>{if(t.getAllKeys)return Ot(t.getAllKeys());const r=[];return Bf(t,a=>r.push(a.key)).then(()=>r)})}const $f=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r),zf=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(a,o)=>typeof o=="string"&&o.match(/^\d+n$/)?BigInt(o.substring(0,o.length-1)):o)};function Er(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return zf(e)}catch{return e}}function xt(e){return typeof e=="string"?e:$f(e)||""}const Kf="idb-keyval";var Gf=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",r=o=>t+o;let a;return e.dbName&&e.storeName&&(a=pi(e.dbName,e.storeName)),{name:Kf,options:e,async hasItem(o){return!(typeof await Pn(r(o),a)>"u")},async getItem(o){return await Pn(r(o),a)??null},setItem(o,u){return Rf(r(o),u,a)},removeItem(o){return jf(r(o),a)},getKeys(){return Hf(a)},clear(){return Ff(a)}}};const Wf="WALLET_CONNECT_V2_INDEXED_DB",Yf="keyvaluestorage";let Vf=class{constructor(){this.indexedDb=Pf({driver:Gf({dbName:Wf,storeName:Yf})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const r=await this.indexedDb.getItem(t);if(r!==null)return r}async setItem(t,r){await this.indexedDb.setItem(t,xt(r))}async removeItem(t){await this.indexedDb.removeItem(t)}};var Lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof ln<"u"?ln:typeof self<"u"?self:{},ar={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,a){this[r]=String(a)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(a){r[a]=void 0,delete r[a]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Lr<"u"&&Lr.localStorage?ar.exports=Lr.localStorage:typeof window<"u"&&window.localStorage?ar.exports=window.localStorage:ar.exports=new t})();function qf(e){var t;return[e[0],Er((t=e[1])!=null?t:"")]}class Xf{constructor(){this.localStorage=ar.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(qf)}async getItem(t){const r=this.localStorage.getItem(t);if(r!==null)return Er(r)}async setItem(t,r){this.localStorage.setItem(t,xt(r))}async removeItem(t){this.localStorage.removeItem(t)}}const Jf="wc_storage_version",Rn=1,Zf=async(e,t,r)=>{const a=Jf,o=await t.getItem(a);if(o&&o>=Rn){r(t);return}const u=await e.getKeys();if(!u.length){r(t);return}const x=[];for(;u.length;){const c=u.shift();if(!c)continue;const l=c.toLowerCase();if(l.includes("wc@")||l.includes("walletconnect")||l.includes("wc_")||l.includes("wallet_connect")){const s=await e.getItem(c);await t.setItem(c,s),x.push(c)}}await t.setItem(a,Rn),r(t),Qf(e,x)},Qf=async(e,t)=>{t.length&&t.forEach(async r=>{await e.removeItem(r)})};class $c{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const t=new Xf;this.storage=t;try{const r=new Vf;Zf(t,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,r){return await this.initialize(),this.storage.setItem(t,r)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),t())},20)})}}class zc{}function kf(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}var eu=tu;function tu(e,t,r){var a=r&&r.stringify||kf,o=1;if(typeof e=="object"&&e!==null){var u=t.length+o;if(u===1)return e;var x=new Array(u);x[0]=a(e);for(var c=1;c<u;c++)x[c]=a(t[c]);return x.join(" ")}if(typeof e!="string")return e;var l=t.length;if(l===0)return e;for(var s="",f=1-o,g=-1,v=e&&e.length||0,y=0;y<v;){if(e.charCodeAt(y)===37&&y+1<v){switch(g=g>-1?g:0,e.charCodeAt(y+1)){case 100:case 102:if(f>=l||t[f]==null)break;g<y&&(s+=e.slice(g,y)),s+=Number(t[f]),g=y+2,y++;break;case 105:if(f>=l||t[f]==null)break;g<y&&(s+=e.slice(g,y)),s+=Math.floor(Number(t[f])),g=y+2,y++;break;case 79:case 111:case 106:if(f>=l||t[f]===void 0)break;g<y&&(s+=e.slice(g,y));var E=typeof t[f];if(E==="string"){s+="'"+t[f]+"'",g=y+2,y++;break}if(E==="function"){s+=t[f].name||"<anonymous>",g=y+2,y++;break}s+=a(t[f]),g=y+2,y++;break;case 115:if(f>=l)break;g<y&&(s+=e.slice(g,y)),s+=String(t[f]),g=y+2,y++;break;case 37:g<y&&(s+=e.slice(g,y)),s+="%",g=y+2,y++,f--;break}++f}++y}return g===-1?e:(g<v&&(s+=e.slice(g)),s)}const jn=eu;var Lt=ot;const $t=lu().console||{},ru={mapHttpRequest:nr,mapHttpResponse:nr,wrapRequestSerializer:Ur,wrapResponseSerializer:Ur,wrapErrorSerializer:Ur,req:nr,res:nr,err:ou};function nu(e,t){return Array.isArray(e)?e.filter(function(a){return a!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function ot(e){e=e||{},e.browser=e.browser||{};const t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const r=e.browser.write||$t;e.browser.write&&(e.browser.asObject=!0);const a=e.serializers||{},o=nu(e.browser.serialize,a);let u=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(u=!1);const x=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),e.enabled===!1&&(e.level="silent");const c=e.level||"info",l=Object.create(r);l.log||(l.log=zt),Object.defineProperty(l,"levelVal",{get:f}),Object.defineProperty(l,"level",{get:g,set:v});const s={transmit:t,serialize:o,asObject:e.browser.asObject,levels:x,timestamp:fu(e)};l.levels=ot.levels,l.level=c,l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=zt,l.serializers=a,l._serialize=o,l._stdErrSerialize=u,l.child=y,t&&(l._logEvent=Kr());function f(){return this.level==="silent"?1/0:this.levels.values[this.level]}function g(){return this._level}function v(E){if(E!=="silent"&&!this.levels.values[E])throw Error("unknown level "+E);this._level=E,Tt(s,l,"error","log"),Tt(s,l,"fatal","error"),Tt(s,l,"warn","error"),Tt(s,l,"info","log"),Tt(s,l,"debug","log"),Tt(s,l,"trace","log")}function y(E,M){if(!E)throw new Error("missing bindings for child Pino");M=M||{},o&&E.serializers&&(M.serializers=E.serializers);const L=M.serializers;if(o&&L){var K=Object.assign({},a,L),p=e.browser.serialize===!0?Object.keys(K):o;delete E.serializers,pr([E],p,K,this._stdErrSerialize)}function C(b){this._childLevel=(b._childLevel|0)+1,this.error=It(b,E,"error"),this.fatal=It(b,E,"fatal"),this.warn=It(b,E,"warn"),this.info=It(b,E,"info"),this.debug=It(b,E,"debug"),this.trace=It(b,E,"trace"),K&&(this.serializers=K,this._serialize=p),t&&(this._logEvent=Kr([].concat(b._logEvent.bindings,E)))}return C.prototype=this,new C(this)}return l}ot.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};ot.stdSerializers=ru;ot.stdTimeFunctions=Object.assign({},{nullTime:mi,epochTime:xi,unixTime:uu,isoTime:cu});function Tt(e,t,r,a){const o=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?zt:o[r]?o[r]:$t[r]||$t[a]||zt,iu(e,t,r)}function iu(e,t,r){!e.transmit&&t[r]===zt||(t[r]=function(a){return function(){const u=e.timestamp(),x=new Array(arguments.length),c=Object.getPrototypeOf&&Object.getPrototypeOf(this)===$t?$t:this;for(var l=0;l<x.length;l++)x[l]=arguments[l];if(e.serialize&&!e.asObject&&pr(x,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?a.call(c,au(this,r,x,u)):a.apply(c,x),e.transmit){const s=e.transmit.level||t.level,f=ot.levels.values[s],g=ot.levels.values[r];if(g<f)return;su(this,{ts:u,methodLevel:r,methodValue:g,transmitLevel:s,transmitValue:ot.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},x)}}}(t[r]))}function au(e,t,r,a){e._serialize&&pr(r,e._serialize,e.serializers,e._stdErrSerialize);const o=r.slice();let u=o[0];const x={};a&&(x.time=a),x.level=ot.levels.values[t];let c=(e._childLevel|0)+1;if(c<1&&(c=1),u!==null&&typeof u=="object"){for(;c--&&typeof o[0]=="object";)Object.assign(x,o.shift());u=o.length?jn(o.shift(),o):void 0}else typeof u=="string"&&(u=jn(o.shift(),o));return u!==void 0&&(x.msg=u),x}function pr(e,t,r,a){for(const o in e)if(a&&e[o]instanceof Error)e[o]=ot.stdSerializers.err(e[o]);else if(typeof e[o]=="object"&&!Array.isArray(e[o]))for(const u in e[o])t&&t.indexOf(u)>-1&&u in r&&(e[o][u]=r[u](e[o][u]))}function It(e,t,r){return function(){const a=new Array(1+arguments.length);a[0]=t;for(var o=1;o<a.length;o++)a[o]=arguments[o-1];return e[r].apply(this,a)}}function su(e,t,r){const a=t.send,o=t.ts,u=t.methodLevel,x=t.methodValue,c=t.val,l=e._logEvent.bindings;pr(r,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=o,e._logEvent.messages=r.filter(function(s){return l.indexOf(s)===-1}),e._logEvent.level.label=u,e._logEvent.level.value=x,a(u,e._logEvent,c),e._logEvent=Kr(l)}function Kr(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function ou(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const r in e)t[r]===void 0&&(t[r]=e[r]);return t}function fu(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?mi:xi}function nr(){return{}}function Ur(e){return e}function zt(){}function mi(){return!1}function xi(){return Date.now()}function uu(){return Math.round(Date.now()/1e3)}function cu(){return new Date(Date.now()).toISOString()}function lu(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}const Si=ei(Lt),hu={level:"info"},Vt="custom_context",Zr=1e3*1024;let du=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},Fn=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const r=new du(t);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let r=this.head;for(;r!==null;)t.push(r.value),r=r.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const r=t.value;return t=t.next,{done:!1,value:r}}}}},Oi=class{constructor(t,r=Zr){this.level=t??"error",this.levelValue=Lt.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new Fn(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,r){r===Lt.levels.values.error?console.error(t):r===Lt.levels.values.warn?console.warn(t):r===Lt.levels.values.debug?console.debug(t):r===Lt.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(xt({timestamp:new Date().toISOString(),log:t}));const r=typeof t=="string"?JSON.parse(t).level:t.level;r>=this.levelValue&&this.forwardToConsole(t,r)}getLogs(){return this.logs}clearLogs(){this.logs=new Fn(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const r=this.getLogArray();return r.push(xt({extraMetadata:t})),new Blob(r,{type:"application/json"})}};class _u{constructor(t,r=Zr){this.baseChunkLogger=new Oi(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const r=URL.createObjectURL(this.logsToBlob(t)),a=document.createElement("a");a.href=r,a.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)}}class bu{constructor(t,r=Zr){this.baseChunkLogger=new Oi(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}}var gu=Object.defineProperty,yu=Object.defineProperties,wu=Object.getOwnPropertyDescriptors,Bn=Object.getOwnPropertySymbols,vu=Object.prototype.hasOwnProperty,Du=Object.prototype.propertyIsEnumerable,Hn=(e,t,r)=>t in e?gu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fr=(e,t)=>{for(var r in t||(t={}))vu.call(t,r)&&Hn(e,r,t[r]);if(Bn)for(var r of Bn(t))Du.call(t,r)&&Hn(e,r,t[r]);return e},ur=(e,t)=>yu(e,wu(t));function Yc(e){return ur(fr({},e),{level:e?.level||hu.level})}function Eu(e,t=Vt){return e[t]||""}function pu(e,t,r=Vt){return e[r]=t,e}function mu(e,t=Vt){let r="";return typeof e.bindings>"u"?r=Eu(e,t):r=e.bindings().context||"",r}function xu(e,t,r=Vt){const a=mu(e,r);return a.trim()?`${a}/${t}`:t}function Vc(e,t,r=Vt){const a=xu(e,t,r),o=e.child({context:a});return pu(o,a,r)}function Su(e){var t,r;const a=new _u((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Si(ur(fr({},e.opts),{level:"trace",browser:ur(fr({},(r=e.opts)==null?void 0:r.browser),{write:o=>a.write(o)})})),chunkLoggerController:a}}function Ou(e){var t;const r=new bu((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Si(ur(fr({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}function qc(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Su(e):Ou(e)}var Qr={},Ai={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ee,r=ke;e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var a=function(){function c(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return c.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},c.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},c.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},c.prototype.update=function(l,s){if(s===void 0&&(s=l.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var f=0;if(this._bytesHashed+=s,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&s>0;)this._buffer[this._bufferLength++]=l[f++],s--;this._bufferLength===this.blockSize&&(u(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(s>=this.blockSize&&(f=u(this._tempHi,this._tempLo,this._stateHi,this._stateLo,l,f,s),s%=this.blockSize);s>0;)this._buffer[this._bufferLength++]=l[f++],s--;return this},c.prototype.finish=function(l){if(!this._finished){var s=this._bytesHashed,f=this._bufferLength,g=s/536870912|0,v=s<<3,y=s%128<112?128:256;this._buffer[f]=128;for(var E=f+1;E<y-8;E++)this._buffer[E]=0;t.writeUint32BE(g,this._buffer,y-8),t.writeUint32BE(v,this._buffer,y-4),u(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,y),this._finished=!0}for(var E=0;E<this.digestLength/8;E++)t.writeUint32BE(this._stateHi[E],l,E*8),t.writeUint32BE(this._stateLo[E],l,E*8+4);return this},c.prototype.digest=function(){var l=new Uint8Array(this.digestLength);return this.finish(l),l},c.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},c.prototype.restoreState=function(l){return this._stateHi.set(l.stateHi),this._stateLo.set(l.stateLo),this._bufferLength=l.bufferLength,l.buffer&&this._buffer.set(l.buffer),this._bytesHashed=l.bytesHashed,this._finished=!1,this},c.prototype.cleanSavedState=function(l){r.wipe(l.stateHi),r.wipe(l.stateLo),l.buffer&&r.wipe(l.buffer),l.bufferLength=0,l.bytesHashed=0},c}();e.SHA512=a;var o=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function u(c,l,s,f,g,v,y){for(var E=s[0],M=s[1],L=s[2],K=s[3],p=s[4],C=s[5],b=s[6],D=s[7],w=f[0],n=f[1],d=f[2],j=f[3],B=f[4],q=f[5],X=f[6],J=f[7],I,T,Y,F,N,P,R,H;y>=128;){for(var te=0;te<16;te++){var $=8*te+v;c[te]=t.readUint32BE(g,$),l[te]=t.readUint32BE(g,$+4)}for(var te=0;te<80;te++){var Z=E,V=M,ae=L,A=K,O=p,m=C,i=b,_=D,z=w,G=n,ue=d,be=j,le=B,we=q,Ie=X,Oe=J;if(I=D,T=J,N=T&65535,P=T>>>16,R=I&65535,H=I>>>16,I=(p>>>14|B<<18)^(p>>>18|B<<14)^(B>>>9|p<<23),T=(B>>>14|p<<18)^(B>>>18|p<<14)^(p>>>9|B<<23),N+=T&65535,P+=T>>>16,R+=I&65535,H+=I>>>16,I=p&C^~p&b,T=B&q^~B&X,N+=T&65535,P+=T>>>16,R+=I&65535,H+=I>>>16,I=o[te*2],T=o[te*2+1],N+=T&65535,P+=T>>>16,R+=I&65535,H+=I>>>16,I=c[te%16],T=l[te%16],N+=T&65535,P+=T>>>16,R+=I&65535,H+=I>>>16,P+=N>>>16,R+=P>>>16,H+=R>>>16,Y=R&65535|H<<16,F=N&65535|P<<16,I=Y,T=F,N=T&65535,P=T>>>16,R=I&65535,H=I>>>16,I=(E>>>28|w<<4)^(w>>>2|E<<30)^(w>>>7|E<<25),T=(w>>>28|E<<4)^(E>>>2|w<<30)^(E>>>7|w<<25),N+=T&65535,P+=T>>>16,R+=I&65535,H+=I>>>16,I=E&M^E&L^M&L,T=w&n^w&d^n&d,N+=T&65535,P+=T>>>16,R+=I&65535,H+=I>>>16,P+=N>>>16,R+=P>>>16,H+=R>>>16,_=R&65535|H<<16,Oe=N&65535|P<<16,I=A,T=be,N=T&65535,P=T>>>16,R=I&65535,H=I>>>16,I=Y,T=F,N+=T&65535,P+=T>>>16,R+=I&65535,H+=I>>>16,P+=N>>>16,R+=P>>>16,H+=R>>>16,A=R&65535|H<<16,be=N&65535|P<<16,M=Z,L=V,K=ae,p=A,C=O,b=m,D=i,E=_,n=z,d=G,j=ue,B=be,q=le,X=we,J=Ie,w=Oe,te%16===15)for(var $=0;$<16;$++)I=c[$],T=l[$],N=T&65535,P=T>>>16,R=I&65535,H=I>>>16,I=c[($+9)%16],T=l[($+9)%16],N+=T&65535,P+=T>>>16,R+=I&65535,H+=I>>>16,Y=c[($+1)%16],F=l[($+1)%16],I=(Y>>>1|F<<31)^(Y>>>8|F<<24)^Y>>>7,T=(F>>>1|Y<<31)^(F>>>8|Y<<24)^(F>>>7|Y<<25),N+=T&65535,P+=T>>>16,R+=I&65535,H+=I>>>16,Y=c[($+14)%16],F=l[($+14)%16],I=(Y>>>19|F<<13)^(F>>>29|Y<<3)^Y>>>6,T=(F>>>19|Y<<13)^(Y>>>29|F<<3)^(F>>>6|Y<<26),N+=T&65535,P+=T>>>16,R+=I&65535,H+=I>>>16,P+=N>>>16,R+=P>>>16,H+=R>>>16,c[$]=R&65535|H<<16,l[$]=N&65535|P<<16}I=E,T=w,N=T&65535,P=T>>>16,R=I&65535,H=I>>>16,I=s[0],T=f[0],N+=T&65535,P+=T>>>16,R+=I&65535,H+=I>>>16,P+=N>>>16,R+=P>>>16,H+=R>>>16,s[0]=E=R&65535|H<<16,f[0]=w=N&65535|P<<16,I=M,T=n,N=T&65535,P=T>>>16,R=I&65535,H=I>>>16,I=s[1],T=f[1],N+=T&65535,P+=T>>>16,R+=I&65535,H+=I>>>16,P+=N>>>16,R+=P>>>16,H+=R>>>16,s[1]=M=R&65535|H<<16,f[1]=n=N&65535|P<<16,I=L,T=d,N=T&65535,P=T>>>16,R=I&65535,H=I>>>16,I=s[2],T=f[2],N+=T&65535,P+=T>>>16,R+=I&65535,H+=I>>>16,P+=N>>>16,R+=P>>>16,H+=R>>>16,s[2]=L=R&65535|H<<16,f[2]=d=N&65535|P<<16,I=K,T=j,N=T&65535,P=T>>>16,R=I&65535,H=I>>>16,I=s[3],T=f[3],N+=T&65535,P+=T>>>16,R+=I&65535,H+=I>>>16,P+=N>>>16,R+=P>>>16,H+=R>>>16,s[3]=K=R&65535|H<<16,f[3]=j=N&65535|P<<16,I=p,T=B,N=T&65535,P=T>>>16,R=I&65535,H=I>>>16,I=s[4],T=f[4],N+=T&65535,P+=T>>>16,R+=I&65535,H+=I>>>16,P+=N>>>16,R+=P>>>16,H+=R>>>16,s[4]=p=R&65535|H<<16,f[4]=B=N&65535|P<<16,I=C,T=q,N=T&65535,P=T>>>16,R=I&65535,H=I>>>16,I=s[5],T=f[5],N+=T&65535,P+=T>>>16,R+=I&65535,H+=I>>>16,P+=N>>>16,R+=P>>>16,H+=R>>>16,s[5]=C=R&65535|H<<16,f[5]=q=N&65535|P<<16,I=b,T=X,N=T&65535,P=T>>>16,R=I&65535,H=I>>>16,I=s[6],T=f[6],N+=T&65535,P+=T>>>16,R+=I&65535,H+=I>>>16,P+=N>>>16,R+=P>>>16,H+=R>>>16,s[6]=b=R&65535|H<<16,f[6]=X=N&65535|P<<16,I=D,T=J,N=T&65535,P=T>>>16,R=I&65535,H=I>>>16,I=s[7],T=f[7],N+=T&65535,P+=T>>>16,R+=I&65535,H+=I>>>16,P+=N>>>16,R+=P>>>16,H+=R>>>16,s[7]=D=R&65535|H<<16,f[7]=J=N&65535|P<<16,v+=128,y-=128}return v}function x(c){var l=new a;l.update(c);var s=l.digest();return l.clean(),s}e.hash=x})(Ai);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertSecretKeyToX25519=e.convertPublicKeyToX25519=e.verify=e.sign=e.extractPublicKeyFromSecretKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.SEED_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=e.SIGNATURE_LENGTH=void 0;const t=_r,r=Ai,a=ke;e.SIGNATURE_LENGTH=64,e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=64,e.SEED_LENGTH=32;function o(A){const O=new Float64Array(16);if(A)for(let m=0;m<A.length;m++)O[m]=A[m];return O}const u=new Uint8Array(32);u[0]=9;const x=o(),c=o([1]),l=o([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),s=o([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=o([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),g=o([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),v=o([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y(A,O){for(let m=0;m<16;m++)A[m]=O[m]|0}function E(A){let O=1;for(let m=0;m<16;m++){let i=A[m]+O+65535;O=Math.floor(i/65536),A[m]=i-O*65536}A[0]+=O-1+37*(O-1)}function M(A,O,m){const i=~(m-1);for(let _=0;_<16;_++){const z=i&(A[_]^O[_]);A[_]^=z,O[_]^=z}}function L(A,O){const m=o(),i=o();for(let _=0;_<16;_++)i[_]=O[_];E(i),E(i),E(i);for(let _=0;_<2;_++){m[0]=i[0]-65517;for(let G=1;G<15;G++)m[G]=i[G]-65535-(m[G-1]>>16&1),m[G-1]&=65535;m[15]=i[15]-32767-(m[14]>>16&1);const z=m[15]>>16&1;m[14]&=65535,M(i,m,1-z)}for(let _=0;_<16;_++)A[2*_]=i[_]&255,A[2*_+1]=i[_]>>8}function K(A,O){let m=0;for(let i=0;i<32;i++)m|=A[i]^O[i];return(1&m-1>>>8)-1}function p(A,O){const m=new Uint8Array(32),i=new Uint8Array(32);return L(m,A),L(i,O),K(m,i)}function C(A){const O=new Uint8Array(32);return L(O,A),O[0]&1}function b(A,O){for(let m=0;m<16;m++)A[m]=O[2*m]+(O[2*m+1]<<8);A[15]&=32767}function D(A,O,m){for(let i=0;i<16;i++)A[i]=O[i]+m[i]}function w(A,O,m){for(let i=0;i<16;i++)A[i]=O[i]-m[i]}function n(A,O,m){let i,_,z=0,G=0,ue=0,be=0,le=0,we=0,Ie=0,Oe=0,_e=0,he=0,ce=0,oe=0,se=0,ie=0,ne=0,Q=0,fe=0,de=0,k=0,ge=0,ye=0,De=0,Ee=0,ve=0,rt=0,it=0,ht=0,Ze=0,yt=0,Mt=0,qt=0,Le=m[0],Ae=m[1],Ue=m[2],Ne=m[3],Me=m[4],Ce=m[5],je=m[6],Fe=m[7],Be=m[8],He=m[9],$e=m[10],Re=m[11],Pe=m[12],xe=m[13],ze=m[14],Ke=m[15];i=O[0],z+=i*Le,G+=i*Ae,ue+=i*Ue,be+=i*Ne,le+=i*Me,we+=i*Ce,Ie+=i*je,Oe+=i*Fe,_e+=i*Be,he+=i*He,ce+=i*$e,oe+=i*Re,se+=i*Pe,ie+=i*xe,ne+=i*ze,Q+=i*Ke,i=O[1],G+=i*Le,ue+=i*Ae,be+=i*Ue,le+=i*Ne,we+=i*Me,Ie+=i*Ce,Oe+=i*je,_e+=i*Fe,he+=i*Be,ce+=i*He,oe+=i*$e,se+=i*Re,ie+=i*Pe,ne+=i*xe,Q+=i*ze,fe+=i*Ke,i=O[2],ue+=i*Le,be+=i*Ae,le+=i*Ue,we+=i*Ne,Ie+=i*Me,Oe+=i*Ce,_e+=i*je,he+=i*Fe,ce+=i*Be,oe+=i*He,se+=i*$e,ie+=i*Re,ne+=i*Pe,Q+=i*xe,fe+=i*ze,de+=i*Ke,i=O[3],be+=i*Le,le+=i*Ae,we+=i*Ue,Ie+=i*Ne,Oe+=i*Me,_e+=i*Ce,he+=i*je,ce+=i*Fe,oe+=i*Be,se+=i*He,ie+=i*$e,ne+=i*Re,Q+=i*Pe,fe+=i*xe,de+=i*ze,k+=i*Ke,i=O[4],le+=i*Le,we+=i*Ae,Ie+=i*Ue,Oe+=i*Ne,_e+=i*Me,he+=i*Ce,ce+=i*je,oe+=i*Fe,se+=i*Be,ie+=i*He,ne+=i*$e,Q+=i*Re,fe+=i*Pe,de+=i*xe,k+=i*ze,ge+=i*Ke,i=O[5],we+=i*Le,Ie+=i*Ae,Oe+=i*Ue,_e+=i*Ne,he+=i*Me,ce+=i*Ce,oe+=i*je,se+=i*Fe,ie+=i*Be,ne+=i*He,Q+=i*$e,fe+=i*Re,de+=i*Pe,k+=i*xe,ge+=i*ze,ye+=i*Ke,i=O[6],Ie+=i*Le,Oe+=i*Ae,_e+=i*Ue,he+=i*Ne,ce+=i*Me,oe+=i*Ce,se+=i*je,ie+=i*Fe,ne+=i*Be,Q+=i*He,fe+=i*$e,de+=i*Re,k+=i*Pe,ge+=i*xe,ye+=i*ze,De+=i*Ke,i=O[7],Oe+=i*Le,_e+=i*Ae,he+=i*Ue,ce+=i*Ne,oe+=i*Me,se+=i*Ce,ie+=i*je,ne+=i*Fe,Q+=i*Be,fe+=i*He,de+=i*$e,k+=i*Re,ge+=i*Pe,ye+=i*xe,De+=i*ze,Ee+=i*Ke,i=O[8],_e+=i*Le,he+=i*Ae,ce+=i*Ue,oe+=i*Ne,se+=i*Me,ie+=i*Ce,ne+=i*je,Q+=i*Fe,fe+=i*Be,de+=i*He,k+=i*$e,ge+=i*Re,ye+=i*Pe,De+=i*xe,Ee+=i*ze,ve+=i*Ke,i=O[9],he+=i*Le,ce+=i*Ae,oe+=i*Ue,se+=i*Ne,ie+=i*Me,ne+=i*Ce,Q+=i*je,fe+=i*Fe,de+=i*Be,k+=i*He,ge+=i*$e,ye+=i*Re,De+=i*Pe,Ee+=i*xe,ve+=i*ze,rt+=i*Ke,i=O[10],ce+=i*Le,oe+=i*Ae,se+=i*Ue,ie+=i*Ne,ne+=i*Me,Q+=i*Ce,fe+=i*je,de+=i*Fe,k+=i*Be,ge+=i*He,ye+=i*$e,De+=i*Re,Ee+=i*Pe,ve+=i*xe,rt+=i*ze,it+=i*Ke,i=O[11],oe+=i*Le,se+=i*Ae,ie+=i*Ue,ne+=i*Ne,Q+=i*Me,fe+=i*Ce,de+=i*je,k+=i*Fe,ge+=i*Be,ye+=i*He,De+=i*$e,Ee+=i*Re,ve+=i*Pe,rt+=i*xe,it+=i*ze,ht+=i*Ke,i=O[12],se+=i*Le,ie+=i*Ae,ne+=i*Ue,Q+=i*Ne,fe+=i*Me,de+=i*Ce,k+=i*je,ge+=i*Fe,ye+=i*Be,De+=i*He,Ee+=i*$e,ve+=i*Re,rt+=i*Pe,it+=i*xe,ht+=i*ze,Ze+=i*Ke,i=O[13],ie+=i*Le,ne+=i*Ae,Q+=i*Ue,fe+=i*Ne,de+=i*Me,k+=i*Ce,ge+=i*je,ye+=i*Fe,De+=i*Be,Ee+=i*He,ve+=i*$e,rt+=i*Re,it+=i*Pe,ht+=i*xe,Ze+=i*ze,yt+=i*Ke,i=O[14],ne+=i*Le,Q+=i*Ae,fe+=i*Ue,de+=i*Ne,k+=i*Me,ge+=i*Ce,ye+=i*je,De+=i*Fe,Ee+=i*Be,ve+=i*He,rt+=i*$e,it+=i*Re,ht+=i*Pe,Ze+=i*xe,yt+=i*ze,Mt+=i*Ke,i=O[15],Q+=i*Le,fe+=i*Ae,de+=i*Ue,k+=i*Ne,ge+=i*Me,ye+=i*Ce,De+=i*je,Ee+=i*Fe,ve+=i*Be,rt+=i*He,it+=i*$e,ht+=i*Re,Ze+=i*Pe,yt+=i*xe,Mt+=i*ze,qt+=i*Ke,z+=38*fe,G+=38*de,ue+=38*k,be+=38*ge,le+=38*ye,we+=38*De,Ie+=38*Ee,Oe+=38*ve,_e+=38*rt,he+=38*it,ce+=38*ht,oe+=38*Ze,se+=38*yt,ie+=38*Mt,ne+=38*qt,_=1,i=z+_+65535,_=Math.floor(i/65536),z=i-_*65536,i=G+_+65535,_=Math.floor(i/65536),G=i-_*65536,i=ue+_+65535,_=Math.floor(i/65536),ue=i-_*65536,i=be+_+65535,_=Math.floor(i/65536),be=i-_*65536,i=le+_+65535,_=Math.floor(i/65536),le=i-_*65536,i=we+_+65535,_=Math.floor(i/65536),we=i-_*65536,i=Ie+_+65535,_=Math.floor(i/65536),Ie=i-_*65536,i=Oe+_+65535,_=Math.floor(i/65536),Oe=i-_*65536,i=_e+_+65535,_=Math.floor(i/65536),_e=i-_*65536,i=he+_+65535,_=Math.floor(i/65536),he=i-_*65536,i=ce+_+65535,_=Math.floor(i/65536),ce=i-_*65536,i=oe+_+65535,_=Math.floor(i/65536),oe=i-_*65536,i=se+_+65535,_=Math.floor(i/65536),se=i-_*65536,i=ie+_+65535,_=Math.floor(i/65536),ie=i-_*65536,i=ne+_+65535,_=Math.floor(i/65536),ne=i-_*65536,i=Q+_+65535,_=Math.floor(i/65536),Q=i-_*65536,z+=_-1+37*(_-1),_=1,i=z+_+65535,_=Math.floor(i/65536),z=i-_*65536,i=G+_+65535,_=Math.floor(i/65536),G=i-_*65536,i=ue+_+65535,_=Math.floor(i/65536),ue=i-_*65536,i=be+_+65535,_=Math.floor(i/65536),be=i-_*65536,i=le+_+65535,_=Math.floor(i/65536),le=i-_*65536,i=we+_+65535,_=Math.floor(i/65536),we=i-_*65536,i=Ie+_+65535,_=Math.floor(i/65536),Ie=i-_*65536,i=Oe+_+65535,_=Math.floor(i/65536),Oe=i-_*65536,i=_e+_+65535,_=Math.floor(i/65536),_e=i-_*65536,i=he+_+65535,_=Math.floor(i/65536),he=i-_*65536,i=ce+_+65535,_=Math.floor(i/65536),ce=i-_*65536,i=oe+_+65535,_=Math.floor(i/65536),oe=i-_*65536,i=se+_+65535,_=Math.floor(i/65536),se=i-_*65536,i=ie+_+65535,_=Math.floor(i/65536),ie=i-_*65536,i=ne+_+65535,_=Math.floor(i/65536),ne=i-_*65536,i=Q+_+65535,_=Math.floor(i/65536),Q=i-_*65536,z+=_-1+37*(_-1),A[0]=z,A[1]=G,A[2]=ue,A[3]=be,A[4]=le,A[5]=we,A[6]=Ie,A[7]=Oe,A[8]=_e,A[9]=he,A[10]=ce,A[11]=oe,A[12]=se,A[13]=ie,A[14]=ne,A[15]=Q}function d(A,O){n(A,O,O)}function j(A,O){const m=o();let i;for(i=0;i<16;i++)m[i]=O[i];for(i=253;i>=0;i--)d(m,m),i!==2&&i!==4&&n(m,m,O);for(i=0;i<16;i++)A[i]=m[i]}function B(A,O){const m=o();let i;for(i=0;i<16;i++)m[i]=O[i];for(i=250;i>=0;i--)d(m,m),i!==1&&n(m,m,O);for(i=0;i<16;i++)A[i]=m[i]}function q(A,O){const m=o(),i=o(),_=o(),z=o(),G=o(),ue=o(),be=o(),le=o(),we=o();w(m,A[1],A[0]),w(we,O[1],O[0]),n(m,m,we),D(i,A[0],A[1]),D(we,O[0],O[1]),n(i,i,we),n(_,A[3],O[3]),n(_,_,s),n(z,A[2],O[2]),D(z,z,z),w(G,i,m),w(ue,z,_),D(be,z,_),D(le,i,m),n(A[0],G,ue),n(A[1],le,be),n(A[2],be,ue),n(A[3],G,le)}function X(A,O,m){for(let i=0;i<4;i++)M(A[i],O[i],m)}function J(A,O){const m=o(),i=o(),_=o();j(_,O[2]),n(m,O[0],_),n(i,O[1],_),L(A,i),A[31]^=C(m)<<7}function I(A,O,m){y(A[0],x),y(A[1],c),y(A[2],c),y(A[3],x);for(let i=255;i>=0;--i){const _=m[i/8|0]>>(i&7)&1;X(A,O,_),q(O,A),q(A,A),X(A,O,_)}}function T(A,O){const m=[o(),o(),o(),o()];y(m[0],f),y(m[1],g),y(m[2],c),n(m[3],f,g),I(A,m,O)}function Y(A){if(A.length!==e.SEED_LENGTH)throw new Error(`ed25519: seed must be ${e.SEED_LENGTH} bytes`);const O=(0,r.hash)(A);O[0]&=248,O[31]&=127,O[31]|=64;const m=new Uint8Array(32),i=[o(),o(),o(),o()];T(i,O),J(m,i);const _=new Uint8Array(64);return _.set(A),_.set(m,32),{publicKey:m,secretKey:_}}e.generateKeyPairFromSeed=Y;function F(A){const O=(0,t.randomBytes)(32,A),m=Y(O);return(0,a.wipe)(O),m}e.generateKeyPair=F;function N(A){if(A.length!==e.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${e.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(A.subarray(32))}e.extractPublicKeyFromSecretKey=N;const P=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function R(A,O){let m,i,_,z;for(i=63;i>=32;--i){for(m=0,_=i-32,z=i-12;_<z;++_)O[_]+=m-16*O[i]*P[_-(i-32)],m=Math.floor((O[_]+128)/256),O[_]-=m*256;O[_]+=m,O[i]=0}for(m=0,_=0;_<32;_++)O[_]+=m-(O[31]>>4)*P[_],m=O[_]>>8,O[_]&=255;for(_=0;_<32;_++)O[_]-=m*P[_];for(i=0;i<32;i++)O[i+1]+=O[i]>>8,A[i]=O[i]&255}function H(A){const O=new Float64Array(64);for(let m=0;m<64;m++)O[m]=A[m];for(let m=0;m<64;m++)A[m]=0;R(A,O)}function te(A,O){const m=new Float64Array(64),i=[o(),o(),o(),o()],_=(0,r.hash)(A.subarray(0,32));_[0]&=248,_[31]&=127,_[31]|=64;const z=new Uint8Array(64);z.set(_.subarray(32),32);const G=new r.SHA512;G.update(z.subarray(32)),G.update(O);const ue=G.digest();G.clean(),H(ue),T(i,ue),J(z,i),G.reset(),G.update(z.subarray(0,32)),G.update(A.subarray(32)),G.update(O);const be=G.digest();H(be);for(let le=0;le<32;le++)m[le]=ue[le];for(let le=0;le<32;le++)for(let we=0;we<32;we++)m[le+we]+=be[le]*_[we];return R(z.subarray(32),m),z}e.sign=te;function $(A,O){const m=o(),i=o(),_=o(),z=o(),G=o(),ue=o(),be=o();return y(A[2],c),b(A[1],O),d(_,A[1]),n(z,_,l),w(_,_,A[2]),D(z,A[2],z),d(G,z),d(ue,G),n(be,ue,G),n(m,be,_),n(m,m,z),B(m,m),n(m,m,_),n(m,m,z),n(m,m,z),n(A[0],m,z),d(i,A[0]),n(i,i,z),p(i,_)&&n(A[0],A[0],v),d(i,A[0]),n(i,i,z),p(i,_)?-1:(C(A[0])===O[31]>>7&&w(A[0],x,A[0]),n(A[3],A[0],A[1]),0)}function Z(A,O,m){const i=new Uint8Array(32),_=[o(),o(),o(),o()],z=[o(),o(),o(),o()];if(m.length!==e.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${e.SIGNATURE_LENGTH} bytes`);if($(z,A))return!1;const G=new r.SHA512;G.update(m.subarray(0,32)),G.update(A),G.update(O);const ue=G.digest();return H(ue),I(_,z,ue),T(z,m.subarray(32)),q(_,z),J(i,_),!K(m,i)}e.verify=Z;function V(A){let O=[o(),o(),o(),o()];if($(O,A))throw new Error("Ed25519: invalid public key");let m=o(),i=o(),_=O[1];D(m,c,_),w(i,c,_),j(i,i),n(m,m,i);let z=new Uint8Array(32);return L(z,m),z}e.convertPublicKeyToX25519=V;function ae(A){const O=(0,r.hash)(A.subarray(0,32));O[0]&=248,O[31]&=127,O[31]|=64;const m=new Uint8Array(O.subarray(0,32));return(0,a.wipe)(O),m}e.convertSecretKeyToX25519=ae})(Qr);const Au="EdDSA",Cu="JWT",cr=".",mr="base64url",Ci="utf8",Ti="utf8",Tu=":",Iu="did",Lu="key",$n="base58btc",Uu="z",Nu="K36",Mu=32;function zn(e){return Er(vr(Ut(e,mr),Ci))}function lr(e){return vr(Ut(xt(e),Ci),mr)}function Pu(e){const t=Ut(Nu,$n),r=Uu+vr(_s([t,e]),$n);return[Iu,Lu,r].join(Tu)}function Ru(e){return vr(e,mr)}function ju(e){return Ut(e,mr)}function Fu(e){return Ut([lr(e.header),lr(e.payload)].join(cr),Ti)}function Bu(e){return[lr(e.header),lr(e.payload),Ru(e.signature)].join(cr)}function Xc(e){const t=e.split(cr),r=zn(t[0]),a=zn(t[1]),o=ju(t[2]),u=Ut(t.slice(0,2).join(cr),Ti);return{header:r,payload:a,signature:o,data:u}}function Jc(e=_r.randomBytes(Mu)){return Qr.generateKeyPairFromSeed(e)}async function Zc(e,t,r,a,o=yi.fromMiliseconds(Date.now())){const u={alg:Au,typ:Cu},x=Pu(a.publicKey),c=o+r,l={iss:x,sub:e,aud:t,iat:o,exp:c},s=Fu({header:u,payload:l}),f=Qr.sign(a.secretKey,s);return Bu({header:u,payload:l,signature:f})}const Hu="PARSE_ERROR",$u="INVALID_REQUEST",zu="METHOD_NOT_FOUND",Ku="INVALID_PARAMS",Ii="INTERNAL_ERROR",kr="SERVER_ERROR",Gu=[-32700,-32600,-32601,-32602,-32603],Bt={[Hu]:{code:-32700,message:"Parse error"},[$u]:{code:-32600,message:"Invalid Request"},[zu]:{code:-32601,message:"Method not found"},[Ku]:{code:-32602,message:"Invalid params"},[Ii]:{code:-32603,message:"Internal error"},[kr]:{code:-32e3,message:"Server error"}},Li=kr;function Wu(e){return Gu.includes(e)}function Kn(e){return Object.keys(Bt).includes(e)?Bt[e]:Bt[Li]}function Yu(e){const t=Object.values(Bt).find(r=>r.code===e);return t||Bt[Li]}function Vu(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}var qu={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Gr=function(e,t){return Gr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)a.hasOwnProperty(o)&&(r[o]=a[o])},Gr(e,t)};function Xu(e,t){Gr(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Wr=function(){return Wr=Object.assign||function(t){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(t[u]=r[u])}return t},Wr.apply(this,arguments)};function Ju(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r}function Zu(e,t,r,a){var o=arguments.length,u=o<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(e,t,r,a);else for(var c=e.length-1;c>=0;c--)(x=e[c])&&(u=(o<3?x(u):o>3?x(t,r,u):x(t,r))||u);return o>3&&u&&Object.defineProperty(t,r,u),u}function Qu(e,t){return function(r,a){t(r,a,e)}}function ku(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ec(e,t,r,a){function o(u){return u instanceof r?u:new r(function(x){x(u)})}return new(r||(r=Promise))(function(u,x){function c(f){try{s(a.next(f))}catch(g){x(g)}}function l(f){try{s(a.throw(f))}catch(g){x(g)}}function s(f){f.done?u(f.value):o(f.value).then(c,l)}s((a=a.apply(e,t||[])).next())})}function tc(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,o,u,x;return x={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function c(s){return function(f){return l([s,f])}}function l(s){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,o&&(u=s[0]&2?o.return:s[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,s[1])).done)return u;switch(o=0,u&&(s=[s[0]&2,u.value]),s[0]){case 0:case 1:u=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!u||s[1]>u[0]&&s[1]<u[3])){r.label=s[1];break}if(s[0]===6&&r.label<u[1]){r.label=u[1],u=s;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(s);break}u[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(f){s=[6,f],o=0}finally{a=u=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function rc(e,t,r,a){a===void 0&&(a=r),e[a]=t[r]}function nc(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Yr(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],a=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ui(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),o,u=[],x;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)u.push(o.value)}catch(c){x={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(x)throw x.error}}return u}function ic(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ui(arguments[t]));return e}function ac(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var a=Array(e),o=0,t=0;t<r;t++)for(var u=arguments[t],x=0,c=u.length;x<c;x++,o++)a[o]=u[x];return a}function Kt(e){return this instanceof Kt?(this.v=e,this):new Kt(e)}function sc(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(e,t||[]),o,u=[];return o={},x("next"),x("throw"),x("return"),o[Symbol.asyncIterator]=function(){return this},o;function x(v){a[v]&&(o[v]=function(y){return new Promise(function(E,M){u.push([v,y,E,M])>1||c(v,y)})})}function c(v,y){try{l(a[v](y))}catch(E){g(u[0][3],E)}}function l(v){v.value instanceof Kt?Promise.resolve(v.value.v).then(s,f):g(u[0][2],v)}function s(v){c("next",v)}function f(v){c("throw",v)}function g(v,y){v(y),u.shift(),u.length&&c(u[0][0],u[0][1])}}function oc(e){var t,r;return t={},a("next"),a("throw",function(o){throw o}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(o,u){t[o]=e[o]?function(x){return(r=!r)?{value:Kt(e[o](x)),done:o==="return"}:u?u(x):x}:u}}function fc(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Yr=="function"?Yr(e):e[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(u){r[u]=e[u]&&function(x){return new Promise(function(c,l){x=e[u](x),o(c,l,x.done,x.value)})}}function o(u,x,c,l){Promise.resolve(l).then(function(s){u({value:s,done:c})},x)}}function uc(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function cc(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function lc(e){return e&&e.__esModule?e:{default:e}}function hc(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function dc(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const _c=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Wr},__asyncDelegator:oc,__asyncGenerator:sc,__asyncValues:fc,__await:Kt,__awaiter:ec,__classPrivateFieldGet:hc,__classPrivateFieldSet:dc,__createBinding:rc,__decorate:Zu,__exportStar:nc,__extends:Xu,__generator:tc,__importDefault:lc,__importStar:cc,__makeTemplateObject:uc,__metadata:ku,__param:Qu,__read:Ui,__rest:Ju,__spread:ic,__spreadArrays:ac,__values:Yr},Symbol.toStringTag,{value:"Module"})),bc=kn(_c);var ct={},Gn;function gc(){if(Gn)return ct;Gn=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.isBrowserCryptoAvailable=ct.getSubtleCrypto=ct.getBrowerCrypto=void 0;function e(){return(st===null||st===void 0?void 0:st.crypto)||(st===null||st===void 0?void 0:st.msCrypto)||{}}ct.getBrowerCrypto=e;function t(){const a=e();return a.subtle||a.webkitSubtle}ct.getSubtleCrypto=t;function r(){return!!e()&&!!t()}return ct.isBrowserCryptoAvailable=r,ct}var lt={},Wn;function yc(){if(Wn)return lt;Wn=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.isBrowser=lt.isNode=lt.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}lt.isReactNative=e;function t(){return typeof mt<"u"&&typeof mt.versions<"u"&&typeof mt.versions.node<"u"}lt.isNode=t;function r(){return!e()&&!t()}return lt.isBrowser=r,lt}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=bc;t.__exportStar(gc(),e),t.__exportStar(yc(),e)})(qu);function Ni(e=3){const t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function Qc(e=6){return BigInt(Ni(e))}function kc(e,t,r){return{id:r||Ni(),jsonrpc:"2.0",method:e,params:t}}function el(e,t){return{id:e,jsonrpc:"2.0",result:t}}function wc(e,t,r){return{id:e,jsonrpc:"2.0",error:vc(t)}}function vc(e,t){return typeof e>"u"?Kn(Ii):(typeof e=="string"&&(e=Object.assign(Object.assign({},Kn(kr)),{message:e})),Wu(e.code)&&(e=Yu(e.code)),e)}class Dc{}class Ec extends Dc{constructor(){super()}}class tl extends Ec{constructor(t){super()}}const pc="^https?:",mc="^wss?:";function xc(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function Mi(e,t){const r=xc(e);return typeof r>"u"?!1:new RegExp(t).test(r)}function Yn(e){return Mi(e,pc)}function rl(e){return Mi(e,mc)}function nl(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function Pi(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function il(e){return Pi(e)&&"method"in e}function al(e){return Pi(e)&&(Sc(e)||Oc(e))}function Sc(e){return"result"in e}function Oc(e){return"error"in e}var hr={exports:{}};hr.exports;(function(e,t){var r=200,a="__lodash_hash_undefined__",o=1,u=2,x=9007199254740991,c="[object Arguments]",l="[object Array]",s="[object AsyncFunction]",f="[object Boolean]",g="[object Date]",v="[object Error]",y="[object Function]",E="[object GeneratorFunction]",M="[object Map]",L="[object Number]",K="[object Null]",p="[object Object]",C="[object Promise]",b="[object Proxy]",D="[object RegExp]",w="[object Set]",n="[object String]",d="[object Symbol]",j="[object Undefined]",B="[object WeakMap]",q="[object ArrayBuffer]",X="[object DataView]",J="[object Float32Array]",I="[object Float64Array]",T="[object Int8Array]",Y="[object Int16Array]",F="[object Int32Array]",N="[object Uint8Array]",P="[object Uint8ClampedArray]",R="[object Uint16Array]",H="[object Uint32Array]",te=/[\\^$.*+?()[\]{}|]/g,$=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,V={};V[J]=V[I]=V[T]=V[Y]=V[F]=V[N]=V[P]=V[R]=V[H]=!0,V[c]=V[l]=V[q]=V[f]=V[X]=V[g]=V[v]=V[y]=V[M]=V[L]=V[p]=V[D]=V[w]=V[n]=V[B]=!1;var ae=typeof st=="object"&&st&&st.Object===Object&&st,A=typeof self=="object"&&self&&self.Object===Object&&self,O=ae||A||Function("return this")(),m=t&&!t.nodeType&&t,i=m&&!0&&e&&!e.nodeType&&e,_=i&&i.exports===m,z=_&&ae.process,G=function(){try{return z&&z.binding&&z.binding("util")}catch{}}(),ue=G&&G.isTypedArray;function be(h,S){for(var U=-1,W=h==null?0:h.length,me=0,re=[];++U<W;){var Te=h[U];S(Te,U,h)&&(re[me++]=Te)}return re}function le(h,S){for(var U=-1,W=S.length,me=h.length;++U<W;)h[me+U]=S[U];return h}function we(h,S){for(var U=-1,W=h==null?0:h.length;++U<W;)if(S(h[U],U,h))return!0;return!1}function Ie(h,S){for(var U=-1,W=Array(h);++U<h;)W[U]=S(U);return W}function Oe(h){return function(S){return h(S)}}function _e(h,S){return h.has(S)}function he(h,S){return h?.[S]}function ce(h){var S=-1,U=Array(h.size);return h.forEach(function(W,me){U[++S]=[me,W]}),U}function oe(h,S){return function(U){return h(S(U))}}function se(h){var S=-1,U=Array(h.size);return h.forEach(function(W){U[++S]=W}),U}var ie=Array.prototype,ne=Function.prototype,Q=Object.prototype,fe=O["__core-js_shared__"],de=ne.toString,k=Q.hasOwnProperty,ge=function(){var h=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),ye=Q.toString,De=RegExp("^"+de.call(k).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ee=_?O.Buffer:void 0,ve=O.Symbol,rt=O.Uint8Array,it=Q.propertyIsEnumerable,ht=ie.splice,Ze=ve?ve.toStringTag:void 0,yt=Object.getOwnPropertySymbols,Mt=Ee?Ee.isBuffer:void 0,qt=oe(Object.keys,Object),Le=At(O,"DataView"),Ae=At(O,"Map"),Ue=At(O,"Promise"),Ne=At(O,"Set"),Me=At(O,"WeakMap"),Ce=At(Object,"create"),je=vt(Le),Fe=vt(Ae),Be=vt(Ue),He=vt(Ne),$e=vt(Me),Re=ve?ve.prototype:void 0,Pe=Re?Re.valueOf:void 0;function xe(h){var S=-1,U=h==null?0:h.length;for(this.clear();++S<U;){var W=h[S];this.set(W[0],W[1])}}function ze(){this.__data__=Ce?Ce(null):{},this.size=0}function Ke(h){var S=this.has(h)&&delete this.__data__[h];return this.size-=S?1:0,S}function Ri(h){var S=this.__data__;if(Ce){var U=S[h];return U===a?void 0:U}return k.call(S,h)?S[h]:void 0}function ji(h){var S=this.__data__;return Ce?S[h]!==void 0:k.call(S,h)}function Fi(h,S){var U=this.__data__;return this.size+=this.has(h)?0:1,U[h]=Ce&&S===void 0?a:S,this}xe.prototype.clear=ze,xe.prototype.delete=Ke,xe.prototype.get=Ri,xe.prototype.has=ji,xe.prototype.set=Fi;function ft(h){var S=-1,U=h==null?0:h.length;for(this.clear();++S<U;){var W=h[S];this.set(W[0],W[1])}}function Bi(){this.__data__=[],this.size=0}function Hi(h){var S=this.__data__,U=Jt(S,h);if(U<0)return!1;var W=S.length-1;return U==W?S.pop():ht.call(S,U,1),--this.size,!0}function $i(h){var S=this.__data__,U=Jt(S,h);return U<0?void 0:S[U][1]}function zi(h){return Jt(this.__data__,h)>-1}function Ki(h,S){var U=this.__data__,W=Jt(U,h);return W<0?(++this.size,U.push([h,S])):U[W][1]=S,this}ft.prototype.clear=Bi,ft.prototype.delete=Hi,ft.prototype.get=$i,ft.prototype.has=zi,ft.prototype.set=Ki;function wt(h){var S=-1,U=h==null?0:h.length;for(this.clear();++S<U;){var W=h[S];this.set(W[0],W[1])}}function Gi(){this.size=0,this.__data__={hash:new xe,map:new(Ae||ft),string:new xe}}function Wi(h){var S=Zt(this,h).delete(h);return this.size-=S?1:0,S}function Yi(h){return Zt(this,h).get(h)}function Vi(h){return Zt(this,h).has(h)}function qi(h,S){var U=Zt(this,h),W=U.size;return U.set(h,S),this.size+=U.size==W?0:1,this}wt.prototype.clear=Gi,wt.prototype.delete=Wi,wt.prototype.get=Yi,wt.prototype.has=Vi,wt.prototype.set=qi;function Xt(h){var S=-1,U=h==null?0:h.length;for(this.__data__=new wt;++S<U;)this.add(h[S])}function Xi(h){return this.__data__.set(h,a),this}function Ji(h){return this.__data__.has(h)}Xt.prototype.add=Xt.prototype.push=Xi,Xt.prototype.has=Ji;function dt(h){var S=this.__data__=new ft(h);this.size=S.size}function Zi(){this.__data__=new ft,this.size=0}function Qi(h){var S=this.__data__,U=S.delete(h);return this.size=S.size,U}function ki(h){return this.__data__.get(h)}function ea(h){return this.__data__.has(h)}function ta(h,S){var U=this.__data__;if(U instanceof ft){var W=U.__data__;if(!Ae||W.length<r-1)return W.push([h,S]),this.size=++U.size,this;U=this.__data__=new wt(W)}return U.set(h,S),this.size=U.size,this}dt.prototype.clear=Zi,dt.prototype.delete=Qi,dt.prototype.get=ki,dt.prototype.has=ea,dt.prototype.set=ta;function ra(h,S){var U=Qt(h),W=!U&&ya(h),me=!U&&!W&&xr(h),re=!U&&!W&&!me&&un(h),Te=U||W||me||re,Ge=Te?Ie(h.length,String):[],Ye=Ge.length;for(var Se in h)k.call(h,Se)&&!(Te&&(Se=="length"||me&&(Se=="offset"||Se=="parent")||re&&(Se=="buffer"||Se=="byteLength"||Se=="byteOffset")||ha(Se,Ye)))&&Ge.push(Se);return Ge}function Jt(h,S){for(var U=h.length;U--;)if(an(h[U][0],S))return U;return-1}function na(h,S,U){var W=S(h);return Qt(h)?W:le(W,U(h))}function Pt(h){return h==null?h===void 0?j:K:Ze&&Ze in Object(h)?ca(h):ga(h)}function en(h){return Rt(h)&&Pt(h)==c}function tn(h,S,U,W,me){return h===S?!0:h==null||S==null||!Rt(h)&&!Rt(S)?h!==h&&S!==S:ia(h,S,U,W,tn,me)}function ia(h,S,U,W,me,re){var Te=Qt(h),Ge=Qt(S),Ye=Te?l:_t(h),Se=Ge?l:_t(S);Ye=Ye==c?p:Ye,Se=Se==c?p:Se;var Qe=Ye==p,nt=Se==p,qe=Ye==Se;if(qe&&xr(h)){if(!xr(S))return!1;Te=!0,Qe=!1}if(qe&&!Qe)return re||(re=new dt),Te||un(h)?rn(h,S,U,W,me,re):fa(h,S,Ye,U,W,me,re);if(!(U&o)){var et=Qe&&k.call(h,"__wrapped__"),tt=nt&&k.call(S,"__wrapped__");if(et||tt){var bt=et?h.value():h,ut=tt?S.value():S;return re||(re=new dt),me(bt,ut,U,W,re)}}return qe?(re||(re=new dt),ua(h,S,U,W,me,re)):!1}function aa(h){if(!fn(h)||_a(h))return!1;var S=sn(h)?De:$;return S.test(vt(h))}function sa(h){return Rt(h)&&on(h.length)&&!!V[Pt(h)]}function oa(h){if(!ba(h))return qt(h);var S=[];for(var U in Object(h))k.call(h,U)&&U!="constructor"&&S.push(U);return S}function rn(h,S,U,W,me,re){var Te=U&o,Ge=h.length,Ye=S.length;if(Ge!=Ye&&!(Te&&Ye>Ge))return!1;var Se=re.get(h);if(Se&&re.get(S))return Se==S;var Qe=-1,nt=!0,qe=U&u?new Xt:void 0;for(re.set(h,S),re.set(S,h);++Qe<Ge;){var et=h[Qe],tt=S[Qe];if(W)var bt=Te?W(tt,et,Qe,S,h,re):W(et,tt,Qe,h,S,re);if(bt!==void 0){if(bt)continue;nt=!1;break}if(qe){if(!we(S,function(ut,Dt){if(!_e(qe,Dt)&&(et===ut||me(et,ut,U,W,re)))return qe.push(Dt)})){nt=!1;break}}else if(!(et===tt||me(et,tt,U,W,re))){nt=!1;break}}return re.delete(h),re.delete(S),nt}function fa(h,S,U,W,me,re,Te){switch(U){case X:if(h.byteLength!=S.byteLength||h.byteOffset!=S.byteOffset)return!1;h=h.buffer,S=S.buffer;case q:return!(h.byteLength!=S.byteLength||!re(new rt(h),new rt(S)));case f:case g:case L:return an(+h,+S);case v:return h.name==S.name&&h.message==S.message;case D:case n:return h==S+"";case M:var Ge=ce;case w:var Ye=W&o;if(Ge||(Ge=se),h.size!=S.size&&!Ye)return!1;var Se=Te.get(h);if(Se)return Se==S;W|=u,Te.set(h,S);var Qe=rn(Ge(h),Ge(S),W,me,re,Te);return Te.delete(h),Qe;case d:if(Pe)return Pe.call(h)==Pe.call(S)}return!1}function ua(h,S,U,W,me,re){var Te=U&o,Ge=nn(h),Ye=Ge.length,Se=nn(S),Qe=Se.length;if(Ye!=Qe&&!Te)return!1;for(var nt=Ye;nt--;){var qe=Ge[nt];if(!(Te?qe in S:k.call(S,qe)))return!1}var et=re.get(h);if(et&&re.get(S))return et==S;var tt=!0;re.set(h,S),re.set(S,h);for(var bt=Te;++nt<Ye;){qe=Ge[nt];var ut=h[qe],Dt=S[qe];if(W)var cn=Te?W(Dt,ut,qe,S,h,re):W(ut,Dt,qe,h,S,re);if(!(cn===void 0?ut===Dt||me(ut,Dt,U,W,re):cn)){tt=!1;break}bt||(bt=qe=="constructor")}if(tt&&!bt){var kt=h.constructor,er=S.constructor;kt!=er&&"constructor"in h&&"constructor"in S&&!(typeof kt=="function"&&kt instanceof kt&&typeof er=="function"&&er instanceof er)&&(tt=!1)}return re.delete(h),re.delete(S),tt}function nn(h){return na(h,Da,la)}function Zt(h,S){var U=h.__data__;return da(S)?U[typeof S=="string"?"string":"hash"]:U.map}function At(h,S){var U=he(h,S);return aa(U)?U:void 0}function ca(h){var S=k.call(h,Ze),U=h[Ze];try{h[Ze]=void 0;var W=!0}catch{}var me=ye.call(h);return W&&(S?h[Ze]=U:delete h[Ze]),me}var la=yt?function(h){return h==null?[]:(h=Object(h),be(yt(h),function(S){return it.call(h,S)}))}:Ea,_t=Pt;(Le&&_t(new Le(new ArrayBuffer(1)))!=X||Ae&&_t(new Ae)!=M||Ue&&_t(Ue.resolve())!=C||Ne&&_t(new Ne)!=w||Me&&_t(new Me)!=B)&&(_t=function(h){var S=Pt(h),U=S==p?h.constructor:void 0,W=U?vt(U):"";if(W)switch(W){case je:return X;case Fe:return M;case Be:return C;case He:return w;case $e:return B}return S});function ha(h,S){return S=S??x,!!S&&(typeof h=="number"||Z.test(h))&&h>-1&&h%1==0&&h<S}function da(h){var S=typeof h;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?h!=="__proto__":h===null}function _a(h){return!!ge&&ge in h}function ba(h){var S=h&&h.constructor,U=typeof S=="function"&&S.prototype||Q;return h===U}function ga(h){return ye.call(h)}function vt(h){if(h!=null){try{return de.call(h)}catch{}try{return h+""}catch{}}return""}function an(h,S){return h===S||h!==h&&S!==S}var ya=en(function(){return arguments}())?en:function(h){return Rt(h)&&k.call(h,"callee")&&!it.call(h,"callee")},Qt=Array.isArray;function wa(h){return h!=null&&on(h.length)&&!sn(h)}var xr=Mt||pa;function va(h,S){return tn(h,S)}function sn(h){if(!fn(h))return!1;var S=Pt(h);return S==y||S==E||S==s||S==b}function on(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=x}function fn(h){var S=typeof h;return h!=null&&(S=="object"||S=="function")}function Rt(h){return h!=null&&typeof h=="object"}var un=ue?Oe(ue):sa;function Da(h){return wa(h)?ra(h):oa(h)}function Ea(){return[]}function pa(){return!1}e.exports=va})(hr,hr.exports);var Ac=hr.exports;const sl=ei(Ac);var Cc=Object.defineProperty,Tc=Object.defineProperties,Ic=Object.getOwnPropertyDescriptors,Vn=Object.getOwnPropertySymbols,Lc=Object.prototype.hasOwnProperty,Uc=Object.prototype.propertyIsEnumerable,qn=(e,t,r)=>t in e?Cc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Xn=(e,t)=>{for(var r in t||(t={}))Lc.call(t,r)&&qn(e,r,t[r]);if(Vn)for(var r of Vn(t))Uc.call(t,r)&&qn(e,r,t[r]);return e},Jn=(e,t)=>Tc(e,Ic(t));const Nc={Accept:"application/json","Content-Type":"application/json"},Mc="POST",Zn={headers:Nc,method:Mc},Qn=10;class ol{constructor(t,r=!1){if(this.url=t,this.disableProviderPing=r,this.events=new Sa.EventEmitter,this.isAvailable=!1,this.registering=!1,!Yn(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const r=xt(t),a=await(await hn(this.url,Jn(Xn({},Zn),{body:r}))).json();this.onPayload({data:a})}catch(r){this.onError(t.id,r)}}async register(t=this.url){if(!Yn(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((a,o)=>{this.events.once("register_error",u=>{this.resetMaxListeners(),o(u)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return o(new Error("HTTP connection is missing or invalid"));a()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const r=xt({id:1,jsonrpc:"2.0",method:"test",params:[]});await hn(t,Jn(Xn({},Zn),{body:r}))}this.onOpen()}catch(r){const a=this.parseError(r);throw this.events.emit("register_error",a),this.onClose(),a}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?Er(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const a=this.parseError(r),o=a.message||a.toString(),u=wc(t,o);this.events.emit("payload",u)}parseError(t,r=this.url){return Vu(t,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Qn&&this.events.setMaxListeners(Qn)}}export{mu as A,Yc as B,Bc as C,qc as D,Vc as E,$c as F,Jc as G,jc as H,zc as I,Pu as J,Zc as K,il as L,Si as M,el as N,Sc as O,Ni as P,ol as Q,Ut as R,vr as S,_s as T,al as a,rl as b,qu as c,nl as d,Er as e,kc as f,Qc as g,wc as h,Oc as i,gn as j,df as k,tf as l,af as m,yi as n,hs as o,Vu as p,_r as q,tl as r,xt as s,Oa as t,Xc as u,bf as v,Fc as w,ds as x,ff as y,sl as z};
